var ZN=t=>{throw TypeError(t)};var dx=(t,e,n)=>e.has(t)||ZN("Cannot "+n);var ue=(t,e,n)=>(dx(t,e,"read from private field"),n?n.call(t):e.get(t)),pt=(t,e,n)=>e.has(t)?ZN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Qe=(t,e,n,r)=>(dx(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Et=(t,e,n)=>(dx(t,e,"access private method"),n);var J0=(t,e,n,r)=>({set _(s){Qe(t,e,s,n)},get _(){return ue(t,e,r)}});function IF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ude=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var UP={exports:{}},Uy={},WP={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=Symbol.for("react.element"),FF=Symbol.for("react.portal"),VF=Symbol.for("react.fragment"),zF=Symbol.for("react.strict_mode"),BF=Symbol.for("react.profiler"),qF=Symbol.for("react.provider"),UF=Symbol.for("react.context"),WF=Symbol.for("react.forward_ref"),$F=Symbol.for("react.suspense"),HF=Symbol.for("react.memo"),GF=Symbol.for("react.lazy"),XN=Symbol.iterator;function YF(t){return t===null||typeof t!="object"?null:(t=XN&&t[XN]||t["@@iterator"],typeof t=="function"?t:null)}var $P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HP=Object.assign,GP={};function Df(t,e,n){this.props=t,this.context=e,this.refs=GP,this.updater=n||$P}Df.prototype.isReactComponent={};Df.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Df.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YP(){}YP.prototype=Df.prototype;function tS(t,e,n){this.props=t,this.context=e,this.refs=GP,this.updater=n||$P}var nS=tS.prototype=new YP;nS.constructor=tS;HP(nS,Df.prototype);nS.isPureReactComponent=!0;var QN=Array.isArray,KP=Object.prototype.hasOwnProperty,rS={current:null},ZP={key:!0,ref:!0,__self:!0,__source:!0};function XP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)KP.call(e,r)&&!ZP.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xg,type:t,key:i,ref:o,props:s,_owner:rS.current}}function KF(t,e){return{$$typeof:xg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sS(t){return typeof t=="object"&&t!==null&&t.$$typeof===xg}function ZF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var JN=/\/+/g;function hx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZF(""+t.key):e.toString(36)}function z1(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xg:case FF:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+hx(o,0):r,QN(s)?(n="",t!=null&&(n=t.replace(JN,"$&/")+"/"),z1(s,e,n,"",function(c){return c})):s!=null&&(sS(s)&&(s=KF(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(JN,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",QN(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+hx(i,a);o+=z1(i,e,n,l,s)}else if(l=YF(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+hx(i,a++),o+=z1(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function e1(t,e,n){if(t==null)return t;var r=[],s=0;return z1(t,r,"","",function(i){return e.call(n,i,s++)}),r}function XF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ks={current:null},B1={transition:null},QF={ReactCurrentDispatcher:ks,ReactCurrentBatchConfig:B1,ReactCurrentOwner:rS};function QP(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:e1,forEach:function(t,e,n){e1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return e1(t,function(){e++}),e},toArray:function(t){return e1(t,function(e){return e})||[]},only:function(t){if(!sS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ot.Component=Df;Ot.Fragment=VF;Ot.Profiler=BF;Ot.PureComponent=tS;Ot.StrictMode=zF;Ot.Suspense=$F;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QF;Ot.act=QP;Ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=HP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=rS.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)KP.call(e,l)&&!ZP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xg,type:t.type,key:s,ref:i,props:r,_owner:o}};Ot.createContext=function(t){return t={$$typeof:UF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qF,_context:t},t.Consumer=t};Ot.createElement=XP;Ot.createFactory=function(t){var e=XP.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:WF,render:t}};Ot.isValidElement=sS;Ot.lazy=function(t){return{$$typeof:GF,_payload:{_status:-1,_result:t},_init:XF}};Ot.memo=function(t,e){return{$$typeof:HF,type:t,compare:e===void 0?null:e}};Ot.startTransition=function(t){var e=B1.transition;B1.transition={};try{t()}finally{B1.transition=e}};Ot.unstable_act=QP;Ot.useCallback=function(t,e){return ks.current.useCallback(t,e)};Ot.useContext=function(t){return ks.current.useContext(t)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(t){return ks.current.useDeferredValue(t)};Ot.useEffect=function(t,e){return ks.current.useEffect(t,e)};Ot.useId=function(){return ks.current.useId()};Ot.useImperativeHandle=function(t,e,n){return ks.current.useImperativeHandle(t,e,n)};Ot.useInsertionEffect=function(t,e){return ks.current.useInsertionEffect(t,e)};Ot.useLayoutEffect=function(t,e){return ks.current.useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return ks.current.useMemo(t,e)};Ot.useReducer=function(t,e,n){return ks.current.useReducer(t,e,n)};Ot.useRef=function(t){return ks.current.useRef(t)};Ot.useState=function(t){return ks.current.useState(t)};Ot.useSyncExternalStore=function(t,e,n){return ks.current.useSyncExternalStore(t,e,n)};Ot.useTransition=function(){return ks.current.useTransition()};Ot.version="18.3.1";WP.exports=Ot;var N=WP.exports;const dt=qy(N),JP=IF({__proto__:null,default:dt},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JF=N,e9=Symbol.for("react.element"),t9=Symbol.for("react.fragment"),n9=Object.prototype.hasOwnProperty,r9=JF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s9={key:!0,ref:!0,__self:!0,__source:!0};function e6(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)n9.call(e,r)&&!s9.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:e9,type:t,key:i,ref:o,props:s,_owner:r9.current}}Uy.Fragment=t9;Uy.jsx=e6;Uy.jsxs=e6;UP.exports=Uy;var h=UP.exports,t6={exports:{}},ui={},n6={exports:{}},r6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,J){var re=B.length;B.push(J);e:for(;0<re;){var X=re-1>>>1,M=B[X];if(0<s(M,J))B[X]=J,B[re]=M,re=X;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var J=B[0],re=B.pop();if(re!==J){B[0]=re;e:for(var X=0,M=B.length,F=M>>>1;X<F;){var K=2*(X+1)-1,ee=B[K],se=K+1,oe=B[se];if(0>s(ee,re))se<M&&0>s(oe,ee)?(B[X]=oe,B[se]=re,X=se):(B[X]=ee,B[K]=re,X=K);else if(se<M&&0>s(oe,re))B[X]=oe,B[se]=re,X=se;else break e}}return J}function s(B,J){var re=B.sortIndex-J.sortIndex;return re!==0?re:B.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,f=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var J=n(c);J!==null;){if(J.callback===null)r(c);else if(J.startTime<=B)r(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function T(B){if(g=!1,_(B),!y)if(n(l)!==null)y=!0,O(C);else{var J=n(c);J!==null&&$(T,J.startTime-B)}}function C(B,J){y=!1,g&&(g=!1,v(A),A=-1),f=!0;var re=p;try{for(_(J),d=n(l);d!==null&&(!(d.expirationTime>J)||B&&!L());){var X=d.callback;if(typeof X=="function"){d.callback=null,p=d.priorityLevel;var M=X(d.expirationTime<=J);J=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),_(J)}else r(l);d=n(l)}if(d!==null)var F=!0;else{var K=n(c);K!==null&&$(T,K.startTime-J),F=!1}return F}finally{d=null,p=re,f=!1}}var R=!1,E=null,A=-1,D=5,H=-1;function L(){return!(t.unstable_now()-H<D)}function P(){if(E!==null){var B=t.unstable_now();H=B;var J=!0;try{J=E(!0,B)}finally{J?U():(R=!1,E=null)}}else R=!1}var U;if(typeof w=="function")U=function(){w(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Y=z.port2;z.port1.onmessage=P,U=function(){Y.postMessage(null)}}else U=function(){b(P,0)};function O(B){E=B,R||(R=!0,U())}function $(B,J){A=b(function(){B(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){y||f||(y=!0,O(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var re=p;p=J;try{return B()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var re=p;p=B;try{return J()}finally{p=re}},t.unstable_scheduleCallback=function(B,J,re){var X=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?X+re:X):re=X,B){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=re+M,B={id:u++,callback:J,priorityLevel:B,startTime:re,expirationTime:M,sortIndex:-1},re>X?(B.sortIndex=re,e(c,B),n(l)===null&&B===n(c)&&(g?(v(A),A=-1):g=!0,$(T,re-X))):(B.sortIndex=M,e(l,B),y||f||(y=!0,O(C))),B},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(B){var J=p;return function(){var re=p;p=J;try{return B.apply(this,arguments)}finally{p=re}}}})(r6);n6.exports=r6;var i9=n6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o9=N,li=i9;function ze(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s6=new Set,bm={};function dd(t,e){hf(t,e),hf(t+"Capture",e)}function hf(t,e){for(bm[t]=e,t=0;t<e.length;t++)s6.add(e[t])}var il=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),L5=Object.prototype.hasOwnProperty,a9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ek={},tk={};function l9(t){return L5.call(tk,t)?!0:L5.call(ek,t)?!1:a9.test(t)?tk[t]=!0:(ek[t]=!0,!1)}function c9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function u9(t,e,n,r){if(e===null||typeof e>"u"||c9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cs(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vr[t]=new Cs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vr[e]=new Cs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vr[t]=new Cs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vr[t]=new Cs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vr[t]=new Cs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vr[t]=new Cs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vr[t]=new Cs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vr[t]=new Cs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vr[t]=new Cs(t,5,!1,t.toLowerCase(),null,!1,!1)});var iS=/[\-:]([a-z])/g;function oS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iS,oS);Vr[e]=new Cs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iS,oS);Vr[e]=new Cs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iS,oS);Vr[e]=new Cs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vr[t]=new Cs(t,1,!1,t.toLowerCase(),null,!1,!1)});Vr.xlinkHref=new Cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vr[t]=new Cs(t,1,!1,t.toLowerCase(),null,!0,!0)});function aS(t,e,n,r){var s=Vr.hasOwnProperty(e)?Vr[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(u9(e,n,s,r)&&(n=null),r||s===null?l9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fl=o9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,t1=Symbol.for("react.element"),dh=Symbol.for("react.portal"),hh=Symbol.for("react.fragment"),lS=Symbol.for("react.strict_mode"),R5=Symbol.for("react.profiler"),i6=Symbol.for("react.provider"),o6=Symbol.for("react.context"),cS=Symbol.for("react.forward_ref"),M5=Symbol.for("react.suspense"),D5=Symbol.for("react.suspense_list"),uS=Symbol.for("react.memo"),Hl=Symbol.for("react.lazy"),a6=Symbol.for("react.offscreen"),nk=Symbol.iterator;function jp(t){return t===null||typeof t!="object"?null:(t=nk&&t[nk]||t["@@iterator"],typeof t=="function"?t:null)}var Dn=Object.assign,fx;function Kp(t){if(fx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fx=e&&e[1]||""}return`
`+fx+t}var px=!1;function mx(t,e){if(!t||px)return"";px=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{px=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kp(t):""}function d9(t){switch(t.tag){case 5:return Kp(t.type);case 16:return Kp("Lazy");case 13:return Kp("Suspense");case 19:return Kp("SuspenseList");case 0:case 2:case 15:return t=mx(t.type,!1),t;case 11:return t=mx(t.type.render,!1),t;case 1:return t=mx(t.type,!0),t;default:return""}}function O5(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hh:return"Fragment";case dh:return"Portal";case R5:return"Profiler";case lS:return"StrictMode";case M5:return"Suspense";case D5:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case o6:return(t.displayName||"Context")+".Consumer";case i6:return(t._context.displayName||"Context")+".Provider";case cS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uS:return e=t.displayName||null,e!==null?e:O5(t.type)||"Memo";case Hl:e=t._payload,t=t._init;try{return O5(t(e))}catch{}}return null}function h9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O5(e);case 8:return e===lS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function l6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function f9(t){var e=l6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function n1(t){t._valueTracker||(t._valueTracker=f9(t))}function c6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=l6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function I5(t,e){var n=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=kc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function u6(t,e){e=e.checked,e!=null&&aS(t,"checked",e,!1)}function F5(t,e){u6(t,e);var n=kc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?V5(t,e.type,n):e.hasOwnProperty("defaultValue")&&V5(t,e.type,kc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function V5(t,e,n){(e!=="number"||gv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zp=Array.isArray;function Lh(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+kc(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function z5(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ze(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ik(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ze(92));if(Zp(n)){if(1<n.length)throw Error(ze(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kc(n)}}function d6(t,e){var n=kc(e.value),r=kc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ok(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function h6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B5(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?h6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var r1,f6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(r1=r1||document.createElement("div"),r1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=r1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _m(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var im={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p9=["Webkit","ms","Moz","O"];Object.keys(im).forEach(function(t){p9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),im[e]=im[t]})});function p6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||im.hasOwnProperty(t)&&im[t]?(""+e).trim():e+"px"}function m6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=p6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var m9=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function q5(t,e){if(e){if(m9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ze(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ze(62))}}function U5(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W5=null;function dS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $5=null,Rh=null,Mh=null;function ak(t){if(t=Sg(t)){if(typeof $5!="function")throw Error(ze(280));var e=t.stateNode;e&&(e=Yy(e),$5(t.stateNode,t.type,e))}}function g6(t){Rh?Mh?Mh.push(t):Mh=[t]:Rh=t}function v6(){if(Rh){var t=Rh,e=Mh;if(Mh=Rh=null,ak(t),e)for(t=0;t<e.length;t++)ak(e[t])}}function y6(t,e){return t(e)}function w6(){}var gx=!1;function x6(t,e,n){if(gx)return t(e,n);gx=!0;try{return y6(t,e,n)}finally{gx=!1,(Rh!==null||Mh!==null)&&(w6(),v6())}}function Sm(t,e){var n=t.stateNode;if(n===null)return null;var r=Yy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ze(231,e,typeof n));return n}var H5=!1;if(il)try{var Lp={};Object.defineProperty(Lp,"passive",{get:function(){H5=!0}}),window.addEventListener("test",Lp,Lp),window.removeEventListener("test",Lp,Lp)}catch{H5=!1}function g9(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var om=!1,vv=null,yv=!1,G5=null,v9={onError:function(t){om=!0,vv=t}};function y9(t,e,n,r,s,i,o,a,l){om=!1,vv=null,g9.apply(v9,arguments)}function w9(t,e,n,r,s,i,o,a,l){if(y9.apply(this,arguments),om){if(om){var c=vv;om=!1,vv=null}else throw Error(ze(198));yv||(yv=!0,G5=c)}}function hd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function b6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lk(t){if(hd(t)!==t)throw Error(ze(188))}function x9(t){var e=t.alternate;if(!e){if(e=hd(t),e===null)throw Error(ze(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lk(s),t;if(i===r)return lk(s),e;i=i.sibling}throw Error(ze(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?t:e}function _6(t){return t=x9(t),t!==null?S6(t):null}function S6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=S6(t);if(e!==null)return e;t=t.sibling}return null}var N6=li.unstable_scheduleCallback,ck=li.unstable_cancelCallback,b9=li.unstable_shouldYield,_9=li.unstable_requestPaint,Jn=li.unstable_now,S9=li.unstable_getCurrentPriorityLevel,hS=li.unstable_ImmediatePriority,k6=li.unstable_UserBlockingPriority,wv=li.unstable_NormalPriority,N9=li.unstable_LowPriority,C6=li.unstable_IdlePriority,Wy=null,ta=null;function k9(t){if(ta&&typeof ta.onCommitFiberRoot=="function")try{ta.onCommitFiberRoot(Wy,t,void 0,(t.current.flags&128)===128)}catch{}}var fo=Math.clz32?Math.clz32:T9,C9=Math.log,A9=Math.LN2;function T9(t){return t>>>=0,t===0?32:31-(C9(t)/A9|0)|0}var s1=64,i1=4194304;function Xp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Xp(a):(i&=o,i!==0&&(r=Xp(i)))}else o=n&~s,o!==0?r=Xp(o):i!==0&&(r=Xp(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fo(e),s=1<<n,r|=t[n],e&=~s;return r}function P9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fo(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=P9(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Y5(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function A6(){var t=s1;return s1<<=1,!(s1&4194240)&&(s1=64),t}function vx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fo(e),t[e]=n}function j9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fo(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function fS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fo(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var sn=0;function T6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var P6,pS,E6,j6,L6,K5=!1,o1=[],dc=null,hc=null,fc=null,Nm=new Map,km=new Map,Kl=[],L9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uk(t,e){switch(t){case"focusin":case"focusout":dc=null;break;case"dragenter":case"dragleave":hc=null;break;case"mouseover":case"mouseout":fc=null;break;case"pointerover":case"pointerout":Nm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":km.delete(e.pointerId)}}function Rp(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Sg(e),e!==null&&pS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function R9(t,e,n,r,s){switch(e){case"focusin":return dc=Rp(dc,t,e,n,r,s),!0;case"dragenter":return hc=Rp(hc,t,e,n,r,s),!0;case"mouseover":return fc=Rp(fc,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Nm.set(i,Rp(Nm.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,km.set(i,Rp(km.get(i)||null,t,e,n,r,s)),!0}return!1}function R6(t){var e=_u(t.target);if(e!==null){var n=hd(e);if(n!==null){if(e=n.tag,e===13){if(e=b6(n),e!==null){t.blockedOn=e,L6(t.priority,function(){E6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function q1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Z5(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);W5=r,n.target.dispatchEvent(r),W5=null}else return e=Sg(n),e!==null&&pS(e),t.blockedOn=n,!1;e.shift()}return!0}function dk(t,e,n){q1(t)&&n.delete(e)}function M9(){K5=!1,dc!==null&&q1(dc)&&(dc=null),hc!==null&&q1(hc)&&(hc=null),fc!==null&&q1(fc)&&(fc=null),Nm.forEach(dk),km.forEach(dk)}function Mp(t,e){t.blockedOn===e&&(t.blockedOn=null,K5||(K5=!0,li.unstable_scheduleCallback(li.unstable_NormalPriority,M9)))}function Cm(t){function e(s){return Mp(s,t)}if(0<o1.length){Mp(o1[0],t);for(var n=1;n<o1.length;n++){var r=o1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(dc!==null&&Mp(dc,t),hc!==null&&Mp(hc,t),fc!==null&&Mp(fc,t),Nm.forEach(e),km.forEach(e),n=0;n<Kl.length;n++)r=Kl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Kl.length&&(n=Kl[0],n.blockedOn===null);)R6(n),n.blockedOn===null&&Kl.shift()}var Dh=fl.ReactCurrentBatchConfig,bv=!0;function D9(t,e,n,r){var s=sn,i=Dh.transition;Dh.transition=null;try{sn=1,mS(t,e,n,r)}finally{sn=s,Dh.transition=i}}function O9(t,e,n,r){var s=sn,i=Dh.transition;Dh.transition=null;try{sn=4,mS(t,e,n,r)}finally{sn=s,Dh.transition=i}}function mS(t,e,n,r){if(bv){var s=Z5(t,e,n,r);if(s===null)Ax(t,e,r,_v,n),uk(t,r);else if(R9(s,t,e,n,r))r.stopPropagation();else if(uk(t,r),e&4&&-1<L9.indexOf(t)){for(;s!==null;){var i=Sg(s);if(i!==null&&P6(i),i=Z5(t,e,n,r),i===null&&Ax(t,e,r,_v,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ax(t,e,r,null,n)}}var _v=null;function Z5(t,e,n,r){if(_v=null,t=dS(r),t=_u(t),t!==null)if(e=hd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=b6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _v=t,null}function M6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S9()){case hS:return 1;case k6:return 4;case wv:case N9:return 16;case C6:return 536870912;default:return 16}default:return 16}}var ac=null,gS=null,U1=null;function D6(){if(U1)return U1;var t,e=gS,n=e.length,r,s="value"in ac?ac.value:ac.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return U1=s.slice(t,1<r?1-r:void 0)}function W1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function a1(){return!0}function hk(){return!1}function di(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?a1:hk,this.isPropagationStopped=hk,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=a1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=a1)},persist:function(){},isPersistent:a1}),e}var Of={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vS=di(Of),_g=Dn({},Of,{view:0,detail:0}),I9=di(_g),yx,wx,Dp,$y=Dn({},_g,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dp&&(Dp&&t.type==="mousemove"?(yx=t.screenX-Dp.screenX,wx=t.screenY-Dp.screenY):wx=yx=0,Dp=t),yx)},movementY:function(t){return"movementY"in t?t.movementY:wx}}),fk=di($y),F9=Dn({},$y,{dataTransfer:0}),V9=di(F9),z9=Dn({},_g,{relatedTarget:0}),xx=di(z9),B9=Dn({},Of,{animationName:0,elapsedTime:0,pseudoElement:0}),q9=di(B9),U9=Dn({},Of,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W9=di(U9),$9=Dn({},Of,{data:0}),pk=di($9),H9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Y9[t])?!!e[t]:!1}function yS(){return K9}var Z9=Dn({},_g,{key:function(t){if(t.key){var e=H9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=W1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yS,charCode:function(t){return t.type==="keypress"?W1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?W1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),X9=di(Z9),Q9=Dn({},$y,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mk=di(Q9),J9=Dn({},_g,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yS}),eV=di(J9),tV=Dn({},Of,{propertyName:0,elapsedTime:0,pseudoElement:0}),nV=di(tV),rV=Dn({},$y,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sV=di(rV),iV=[9,13,27,32],wS=il&&"CompositionEvent"in window,am=null;il&&"documentMode"in document&&(am=document.documentMode);var oV=il&&"TextEvent"in window&&!am,O6=il&&(!wS||am&&8<am&&11>=am),gk=" ",vk=!1;function I6(t,e){switch(t){case"keyup":return iV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fh=!1;function aV(t,e){switch(t){case"compositionend":return F6(e);case"keypress":return e.which!==32?null:(vk=!0,gk);case"textInput":return t=e.data,t===gk&&vk?null:t;default:return null}}function lV(t,e){if(fh)return t==="compositionend"||!wS&&I6(t,e)?(t=D6(),U1=gS=ac=null,fh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O6&&e.locale!=="ko"?null:e.data;default:return null}}var cV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cV[t.type]:e==="textarea"}function V6(t,e,n,r){g6(r),e=Sv(e,"onChange"),0<e.length&&(n=new vS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lm=null,Am=null;function uV(t){Z6(t,0)}function Hy(t){var e=gh(t);if(c6(e))return t}function dV(t,e){if(t==="change")return e}var z6=!1;if(il){var bx;if(il){var _x="oninput"in document;if(!_x){var wk=document.createElement("div");wk.setAttribute("oninput","return;"),_x=typeof wk.oninput=="function"}bx=_x}else bx=!1;z6=bx&&(!document.documentMode||9<document.documentMode)}function xk(){lm&&(lm.detachEvent("onpropertychange",B6),Am=lm=null)}function B6(t){if(t.propertyName==="value"&&Hy(Am)){var e=[];V6(e,Am,t,dS(t)),x6(uV,e)}}function hV(t,e,n){t==="focusin"?(xk(),lm=e,Am=n,lm.attachEvent("onpropertychange",B6)):t==="focusout"&&xk()}function fV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hy(Am)}function pV(t,e){if(t==="click")return Hy(e)}function mV(t,e){if(t==="input"||t==="change")return Hy(e)}function gV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vo=typeof Object.is=="function"?Object.is:gV;function Tm(t,e){if(vo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!L5.call(e,s)||!vo(t[s],e[s]))return!1}return!0}function bk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _k(t,e){var n=bk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bk(n)}}function q6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?q6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function U6(){for(var t=window,e=gv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gv(t.document)}return e}function xS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vV(t){var e=U6(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&q6(n.ownerDocument.documentElement,n)){if(r!==null&&xS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_k(n,i);var o=_k(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yV=il&&"documentMode"in document&&11>=document.documentMode,ph=null,X5=null,cm=null,Q5=!1;function Sk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Q5||ph==null||ph!==gv(r)||(r=ph,"selectionStart"in r&&xS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cm&&Tm(cm,r)||(cm=r,r=Sv(X5,"onSelect"),0<r.length&&(e=new vS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ph)))}function l1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mh={animationend:l1("Animation","AnimationEnd"),animationiteration:l1("Animation","AnimationIteration"),animationstart:l1("Animation","AnimationStart"),transitionend:l1("Transition","TransitionEnd")},Sx={},W6={};il&&(W6=document.createElement("div").style,"AnimationEvent"in window||(delete mh.animationend.animation,delete mh.animationiteration.animation,delete mh.animationstart.animation),"TransitionEvent"in window||delete mh.transitionend.transition);function Gy(t){if(Sx[t])return Sx[t];if(!mh[t])return t;var e=mh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in W6)return Sx[t]=e[n];return t}var $6=Gy("animationend"),H6=Gy("animationiteration"),G6=Gy("animationstart"),Y6=Gy("transitionend"),K6=new Map,Nk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bc(t,e){K6.set(t,e),dd(e,[t])}for(var Nx=0;Nx<Nk.length;Nx++){var kx=Nk[Nx],wV=kx.toLowerCase(),xV=kx[0].toUpperCase()+kx.slice(1);Bc(wV,"on"+xV)}Bc($6,"onAnimationEnd");Bc(H6,"onAnimationIteration");Bc(G6,"onAnimationStart");Bc("dblclick","onDoubleClick");Bc("focusin","onFocus");Bc("focusout","onBlur");Bc(Y6,"onTransitionEnd");hf("onMouseEnter",["mouseout","mouseover"]);hf("onMouseLeave",["mouseout","mouseover"]);hf("onPointerEnter",["pointerout","pointerover"]);hf("onPointerLeave",["pointerout","pointerover"]);dd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dd("onBeforeInput",["compositionend","keypress","textInput","paste"]);dd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qp));function kk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,w9(r,e,void 0,t),t.currentTarget=null}function Z6(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;kk(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;kk(s,a,c),i=l}}}if(yv)throw t=G5,yv=!1,G5=null,t}function bn(t,e){var n=e[rb];n===void 0&&(n=e[rb]=new Set);var r=t+"__bubble";n.has(r)||(X6(e,t,2,!1),n.add(r))}function Cx(t,e,n){var r=0;e&&(r|=4),X6(n,t,r,e)}var c1="_reactListening"+Math.random().toString(36).slice(2);function Pm(t){if(!t[c1]){t[c1]=!0,s6.forEach(function(n){n!=="selectionchange"&&(bV.has(n)||Cx(n,!1,t),Cx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[c1]||(e[c1]=!0,Cx("selectionchange",!1,e))}}function X6(t,e,n,r){switch(M6(e)){case 1:var s=D9;break;case 4:s=O9;break;default:s=mS}n=s.bind(null,e,n,t),s=void 0,!H5||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ax(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=_u(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}x6(function(){var c=i,u=dS(n),d=[];e:{var p=K6.get(t);if(p!==void 0){var f=vS,y=t;switch(t){case"keypress":if(W1(n)===0)break e;case"keydown":case"keyup":f=X9;break;case"focusin":y="focus",f=xx;break;case"focusout":y="blur",f=xx;break;case"beforeblur":case"afterblur":f=xx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=fk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=V9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=eV;break;case $6:case H6:case G6:f=q9;break;case Y6:f=nV;break;case"scroll":f=I9;break;case"wheel":f=sV;break;case"copy":case"cut":case"paste":f=W9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=mk}var g=(e&4)!==0,b=!g&&t==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var w=c,_;w!==null;){_=w;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,v!==null&&(T=Sm(w,v),T!=null&&g.push(Em(w,T,_)))),b)break;w=w.return}0<g.length&&(p=new f(p,y,null,n,u),d.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&n!==W5&&(y=n.relatedTarget||n.fromElement)&&(_u(y)||y[ol]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=c,y=y?_u(y):null,y!==null&&(b=hd(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=c),f!==y)){if(g=fk,T="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=mk,T="onPointerLeave",v="onPointerEnter",w="pointer"),b=f==null?p:gh(f),_=y==null?p:gh(y),p=new g(T,w+"leave",f,n,u),p.target=b,p.relatedTarget=_,T=null,_u(u)===c&&(g=new g(v,w+"enter",y,n,u),g.target=_,g.relatedTarget=b,T=g),b=T,f&&y)t:{for(g=f,v=y,w=0,_=g;_;_=Qd(_))w++;for(_=0,T=v;T;T=Qd(T))_++;for(;0<w-_;)g=Qd(g),w--;for(;0<_-w;)v=Qd(v),_--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=Qd(g),v=Qd(v)}g=null}else g=null;f!==null&&Ck(d,p,f,g,!1),y!==null&&b!==null&&Ck(d,b,y,g,!0)}}e:{if(p=c?gh(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var C=dV;else if(yk(p))if(z6)C=mV;else{C=fV;var R=hV}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=pV);if(C&&(C=C(t,c))){V6(d,C,n,u);break e}R&&R(t,p,c),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&V5(p,"number",p.value)}switch(R=c?gh(c):window,t){case"focusin":(yk(R)||R.contentEditable==="true")&&(ph=R,X5=c,cm=null);break;case"focusout":cm=X5=ph=null;break;case"mousedown":Q5=!0;break;case"contextmenu":case"mouseup":case"dragend":Q5=!1,Sk(d,n,u);break;case"selectionchange":if(yV)break;case"keydown":case"keyup":Sk(d,n,u)}var E;if(wS)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else fh?I6(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(O6&&n.locale!=="ko"&&(fh||A!=="onCompositionStart"?A==="onCompositionEnd"&&fh&&(E=D6()):(ac=u,gS="value"in ac?ac.value:ac.textContent,fh=!0)),R=Sv(c,A),0<R.length&&(A=new pk(A,t,null,n,u),d.push({event:A,listeners:R}),E?A.data=E:(E=F6(n),E!==null&&(A.data=E)))),(E=oV?aV(t,n):lV(t,n))&&(c=Sv(c,"onBeforeInput"),0<c.length&&(u=new pk("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}Z6(d,e)})}function Em(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sv(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sm(t,n),i!=null&&r.unshift(Em(t,i,s)),i=Sm(t,e),i!=null&&r.push(Em(t,i,s))),t=t.return}return r}function Qd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ck(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Sm(n,i),l!=null&&o.unshift(Em(n,l,a))):s||(l=Sm(n,i),l!=null&&o.push(Em(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _V=/\r\n?/g,SV=/\u0000|\uFFFD/g;function Ak(t){return(typeof t=="string"?t:""+t).replace(_V,`
`).replace(SV,"")}function u1(t,e,n){if(e=Ak(e),Ak(t)!==e&&n)throw Error(ze(425))}function Nv(){}var J5=null,eb=null;function tb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nb=typeof setTimeout=="function"?setTimeout:void 0,NV=typeof clearTimeout=="function"?clearTimeout:void 0,Tk=typeof Promise=="function"?Promise:void 0,kV=typeof queueMicrotask=="function"?queueMicrotask:typeof Tk<"u"?function(t){return Tk.resolve(null).then(t).catch(CV)}:nb;function CV(t){setTimeout(function(){throw t})}function Tx(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Cm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Cm(e)}function pc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Pk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var If=Math.random().toString(36).slice(2),Ko="__reactFiber$"+If,jm="__reactProps$"+If,ol="__reactContainer$"+If,rb="__reactEvents$"+If,AV="__reactListeners$"+If,TV="__reactHandles$"+If;function _u(t){var e=t[Ko];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ol]||n[Ko]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Pk(t);t!==null;){if(n=t[Ko])return n;t=Pk(t)}return e}t=n,n=t.parentNode}return null}function Sg(t){return t=t[Ko]||t[ol],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ze(33))}function Yy(t){return t[jm]||null}var sb=[],vh=-1;function qc(t){return{current:t}}function Sn(t){0>vh||(t.current=sb[vh],sb[vh]=null,vh--)}function yn(t,e){vh++,sb[vh]=t.current,t.current=e}var Cc={},ss=qc(Cc),zs=qc(!1),$u=Cc;function ff(t,e){var n=t.type.contextTypes;if(!n)return Cc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Bs(t){return t=t.childContextTypes,t!=null}function kv(){Sn(zs),Sn(ss)}function Ek(t,e,n){if(ss.current!==Cc)throw Error(ze(168));yn(ss,e),yn(zs,n)}function Q6(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ze(108,h9(t)||"Unknown",s));return Dn({},n,r)}function Cv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cc,$u=ss.current,yn(ss,t),yn(zs,zs.current),!0}function jk(t,e,n){var r=t.stateNode;if(!r)throw Error(ze(169));n?(t=Q6(t,e,$u),r.__reactInternalMemoizedMergedChildContext=t,Sn(zs),Sn(ss),yn(ss,t)):Sn(zs),yn(zs,n)}var Ua=null,Ky=!1,Px=!1;function J6(t){Ua===null?Ua=[t]:Ua.push(t)}function PV(t){Ky=!0,J6(t)}function Uc(){if(!Px&&Ua!==null){Px=!0;var t=0,e=sn;try{var n=Ua;for(sn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ua=null,Ky=!1}catch(s){throw Ua!==null&&(Ua=Ua.slice(t+1)),N6(hS,Uc),s}finally{sn=e,Px=!1}}return null}var yh=[],wh=0,Av=null,Tv=0,ki=[],Ci=0,Hu=null,Ha=1,Ga="";function mu(t,e){yh[wh++]=Tv,yh[wh++]=Av,Av=t,Tv=e}function eE(t,e,n){ki[Ci++]=Ha,ki[Ci++]=Ga,ki[Ci++]=Hu,Hu=t;var r=Ha;t=Ga;var s=32-fo(r)-1;r&=~(1<<s),n+=1;var i=32-fo(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ha=1<<32-fo(e)+s|n<<s|r,Ga=i+t}else Ha=1<<i|n<<s|r,Ga=t}function bS(t){t.return!==null&&(mu(t,1),eE(t,1,0))}function _S(t){for(;t===Av;)Av=yh[--wh],yh[wh]=null,Tv=yh[--wh],yh[wh]=null;for(;t===Hu;)Hu=ki[--Ci],ki[Ci]=null,Ga=ki[--Ci],ki[Ci]=null,Ha=ki[--Ci],ki[Ci]=null}var si=null,ni=null,An=!1,so=null;function tE(t,e){var n=Ai(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,si=t,ni=pc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,si=t,ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hu!==null?{id:Ha,overflow:Ga}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ai(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,si=t,ni=null,!0):!1;default:return!1}}function ib(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ob(t){if(An){var e=ni;if(e){var n=e;if(!Lk(t,e)){if(ib(t))throw Error(ze(418));e=pc(n.nextSibling);var r=si;e&&Lk(t,e)?tE(r,n):(t.flags=t.flags&-4097|2,An=!1,si=t)}}else{if(ib(t))throw Error(ze(418));t.flags=t.flags&-4097|2,An=!1,si=t}}}function Rk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;si=t}function d1(t){if(t!==si)return!1;if(!An)return Rk(t),An=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tb(t.type,t.memoizedProps)),e&&(e=ni)){if(ib(t))throw nE(),Error(ze(418));for(;e;)tE(t,e),e=pc(e.nextSibling)}if(Rk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ni=pc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ni=null}}else ni=si?pc(t.stateNode.nextSibling):null;return!0}function nE(){for(var t=ni;t;)t=pc(t.nextSibling)}function pf(){ni=si=null,An=!1}function SS(t){so===null?so=[t]:so.push(t)}var EV=fl.ReactCurrentBatchConfig;function Op(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,t))}return t}function h1(t,e){throw t=Object.prototype.toString.call(e),Error(ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mk(t){var e=t._init;return e(t._payload)}function rE(t){function e(v,w){if(t){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=yc(v,w),v.index=0,v.sibling=null,v}function i(v,w,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,_,T){return w===null||w.tag!==6?(w=Ox(_,v.mode,T),w.return=v,w):(w=s(w,_),w.return=v,w)}function l(v,w,_,T){var C=_.type;return C===hh?u(v,w,_.props.children,T,_.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Hl&&Mk(C)===w.type)?(T=s(w,_.props),T.ref=Op(v,w,_),T.return=v,T):(T=X1(_.type,_.key,_.props,null,v.mode,T),T.ref=Op(v,w,_),T.return=v,T)}function c(v,w,_,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Ix(_,v.mode,T),w.return=v,w):(w=s(w,_.children||[]),w.return=v,w)}function u(v,w,_,T,C){return w===null||w.tag!==7?(w=Fu(_,v.mode,T,C),w.return=v,w):(w=s(w,_),w.return=v,w)}function d(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ox(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case t1:return _=X1(w.type,w.key,w.props,null,v.mode,_),_.ref=Op(v,null,w),_.return=v,_;case dh:return w=Ix(w,v.mode,_),w.return=v,w;case Hl:var T=w._init;return d(v,T(w._payload),_)}if(Zp(w)||jp(w))return w=Fu(w,v.mode,_,null),w.return=v,w;h1(v,w)}return null}function p(v,w,_,T){var C=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:a(v,w,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case t1:return _.key===C?l(v,w,_,T):null;case dh:return _.key===C?c(v,w,_,T):null;case Hl:return C=_._init,p(v,w,C(_._payload),T)}if(Zp(_)||jp(_))return C!==null?null:u(v,w,_,T,null);h1(v,_)}return null}function f(v,w,_,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(_)||null,a(w,v,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case t1:return v=v.get(T.key===null?_:T.key)||null,l(w,v,T,C);case dh:return v=v.get(T.key===null?_:T.key)||null,c(w,v,T,C);case Hl:var R=T._init;return f(v,w,_,R(T._payload),C)}if(Zp(T)||jp(T))return v=v.get(_)||null,u(w,v,T,C,null);h1(w,T)}return null}function y(v,w,_,T){for(var C=null,R=null,E=w,A=w=0,D=null;E!==null&&A<_.length;A++){E.index>A?(D=E,E=null):D=E.sibling;var H=p(v,E,_[A],T);if(H===null){E===null&&(E=D);break}t&&E&&H.alternate===null&&e(v,E),w=i(H,w,A),R===null?C=H:R.sibling=H,R=H,E=D}if(A===_.length)return n(v,E),An&&mu(v,A),C;if(E===null){for(;A<_.length;A++)E=d(v,_[A],T),E!==null&&(w=i(E,w,A),R===null?C=E:R.sibling=E,R=E);return An&&mu(v,A),C}for(E=r(v,E);A<_.length;A++)D=f(E,v,A,_[A],T),D!==null&&(t&&D.alternate!==null&&E.delete(D.key===null?A:D.key),w=i(D,w,A),R===null?C=D:R.sibling=D,R=D);return t&&E.forEach(function(L){return e(v,L)}),An&&mu(v,A),C}function g(v,w,_,T){var C=jp(_);if(typeof C!="function")throw Error(ze(150));if(_=C.call(_),_==null)throw Error(ze(151));for(var R=C=null,E=w,A=w=0,D=null,H=_.next();E!==null&&!H.done;A++,H=_.next()){E.index>A?(D=E,E=null):D=E.sibling;var L=p(v,E,H.value,T);if(L===null){E===null&&(E=D);break}t&&E&&L.alternate===null&&e(v,E),w=i(L,w,A),R===null?C=L:R.sibling=L,R=L,E=D}if(H.done)return n(v,E),An&&mu(v,A),C;if(E===null){for(;!H.done;A++,H=_.next())H=d(v,H.value,T),H!==null&&(w=i(H,w,A),R===null?C=H:R.sibling=H,R=H);return An&&mu(v,A),C}for(E=r(v,E);!H.done;A++,H=_.next())H=f(E,v,A,H.value,T),H!==null&&(t&&H.alternate!==null&&E.delete(H.key===null?A:H.key),w=i(H,w,A),R===null?C=H:R.sibling=H,R=H);return t&&E.forEach(function(P){return e(v,P)}),An&&mu(v,A),C}function b(v,w,_,T){if(typeof _=="object"&&_!==null&&_.type===hh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case t1:e:{for(var C=_.key,R=w;R!==null;){if(R.key===C){if(C=_.type,C===hh){if(R.tag===7){n(v,R.sibling),w=s(R,_.props.children),w.return=v,v=w;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Hl&&Mk(C)===R.type){n(v,R.sibling),w=s(R,_.props),w.ref=Op(v,R,_),w.return=v,v=w;break e}n(v,R);break}else e(v,R);R=R.sibling}_.type===hh?(w=Fu(_.props.children,v.mode,T,_.key),w.return=v,v=w):(T=X1(_.type,_.key,_.props,null,v.mode,T),T.ref=Op(v,w,_),T.return=v,v=T)}return o(v);case dh:e:{for(R=_.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(v,w.sibling),w=s(w,_.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Ix(_,v.mode,T),w.return=v,v=w}return o(v);case Hl:return R=_._init,b(v,w,R(_._payload),T)}if(Zp(_))return y(v,w,_,T);if(jp(_))return g(v,w,_,T);h1(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,_),w.return=v,v=w):(n(v,w),w=Ox(_,v.mode,T),w.return=v,v=w),o(v)):n(v,w)}return b}var mf=rE(!0),sE=rE(!1),Pv=qc(null),Ev=null,xh=null,NS=null;function kS(){NS=xh=Ev=null}function CS(t){var e=Pv.current;Sn(Pv),t._currentValue=e}function ab(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oh(t,e){Ev=t,NS=xh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fs=!0),t.firstContext=null)}function Di(t){var e=t._currentValue;if(NS!==t)if(t={context:t,memoizedValue:e,next:null},xh===null){if(Ev===null)throw Error(ze(308));xh=t,Ev.dependencies={lanes:0,firstContext:t}}else xh=xh.next=t;return e}var Su=null;function AS(t){Su===null?Su=[t]:Su.push(t)}function iE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,AS(e)):(n.next=s.next,s.next=n),e.interleaved=n,al(t,r)}function al(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gl=!1;function TS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$t&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,al(t,n)}return s=r.interleaved,s===null?(e.next=e,AS(r)):(e.next=s.next,s.next=e),r.interleaved=e,al(t,n)}function $1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fS(t,n)}}function Dk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jv(t,e,n,r){var s=t.updateQueue;Gl=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,f=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(p=e,f=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){d=y.call(f,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(f,d,p):y,p==null)break e;d=Dn({},d,p);break e;case 2:Gl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Yu|=o,t.lanes=o,t.memoizedState=d}}function Ok(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ze(191,s));s.call(r)}}}var Ng={},na=qc(Ng),Lm=qc(Ng),Rm=qc(Ng);function Nu(t){if(t===Ng)throw Error(ze(174));return t}function PS(t,e){switch(yn(Rm,e),yn(Lm,t),yn(na,Ng),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:B5(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=B5(e,t)}Sn(na),yn(na,e)}function gf(){Sn(na),Sn(Lm),Sn(Rm)}function aE(t){Nu(Rm.current);var e=Nu(na.current),n=B5(e,t.type);e!==n&&(yn(Lm,t),yn(na,n))}function ES(t){Lm.current===t&&(Sn(na),Sn(Lm))}var jn=qc(0);function Lv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ex=[];function jS(){for(var t=0;t<Ex.length;t++)Ex[t]._workInProgressVersionPrimary=null;Ex.length=0}var H1=fl.ReactCurrentDispatcher,jx=fl.ReactCurrentBatchConfig,Gu=0,Mn=null,vr=null,kr=null,Rv=!1,um=!1,Mm=0,jV=0;function $r(){throw Error(ze(321))}function LS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vo(t[n],e[n]))return!1;return!0}function RS(t,e,n,r,s,i){if(Gu=i,Mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,H1.current=t===null||t.memoizedState===null?DV:OV,t=n(r,s),um){i=0;do{if(um=!1,Mm=0,25<=i)throw Error(ze(301));i+=1,kr=vr=null,e.updateQueue=null,H1.current=IV,t=n(r,s)}while(um)}if(H1.current=Mv,e=vr!==null&&vr.next!==null,Gu=0,kr=vr=Mn=null,Rv=!1,e)throw Error(ze(300));return t}function MS(){var t=Mm!==0;return Mm=0,t}function Uo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Mn.memoizedState=kr=t:kr=kr.next=t,kr}function Oi(){if(vr===null){var t=Mn.alternate;t=t!==null?t.memoizedState:null}else t=vr.next;var e=kr===null?Mn.memoizedState:kr.next;if(e!==null)kr=e,vr=t;else{if(t===null)throw Error(ze(310));vr=t,t={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},kr===null?Mn.memoizedState=kr=t:kr=kr.next=t}return kr}function Dm(t,e){return typeof e=="function"?e(t):e}function Lx(t){var e=Oi(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=vr,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Gu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Mn.lanes|=u,Yu|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,vo(r,e.memoizedState)||(Fs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Mn.lanes|=i,Yu|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rx(t){var e=Oi(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);vo(i,e.memoizedState)||(Fs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function lE(){}function cE(t,e){var n=Mn,r=Oi(),s=e(),i=!vo(r.memoizedState,s);if(i&&(r.memoizedState=s,Fs=!0),r=r.queue,DS(hE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||kr!==null&&kr.memoizedState.tag&1){if(n.flags|=2048,Om(9,dE.bind(null,n,r,s,e),void 0,null),Ar===null)throw Error(ze(349));Gu&30||uE(n,e,s)}return s}function uE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dE(t,e,n,r){e.value=n,e.getSnapshot=r,fE(e)&&pE(t)}function hE(t,e,n){return n(function(){fE(e)&&pE(t)})}function fE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vo(t,n)}catch{return!0}}function pE(t){var e=al(t,1);e!==null&&po(e,t,1,-1)}function Ik(t){var e=Uo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:t},e.queue=t,t=t.dispatch=MV.bind(null,Mn,t),[e.memoizedState,t]}function Om(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mE(){return Oi().memoizedState}function G1(t,e,n,r){var s=Uo();Mn.flags|=t,s.memoizedState=Om(1|e,n,void 0,r===void 0?null:r)}function Zy(t,e,n,r){var s=Oi();r=r===void 0?null:r;var i=void 0;if(vr!==null){var o=vr.memoizedState;if(i=o.destroy,r!==null&&LS(r,o.deps)){s.memoizedState=Om(e,n,i,r);return}}Mn.flags|=t,s.memoizedState=Om(1|e,n,i,r)}function Fk(t,e){return G1(8390656,8,t,e)}function DS(t,e){return Zy(2048,8,t,e)}function gE(t,e){return Zy(4,2,t,e)}function vE(t,e){return Zy(4,4,t,e)}function yE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wE(t,e,n){return n=n!=null?n.concat([t]):null,Zy(4,4,yE.bind(null,e,t),n)}function OS(){}function xE(t,e){var n=Oi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&LS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bE(t,e){var n=Oi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&LS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _E(t,e,n){return Gu&21?(vo(n,e)||(n=A6(),Mn.lanes|=n,Yu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fs=!0),t.memoizedState=n)}function LV(t,e){var n=sn;sn=n!==0&&4>n?n:4,t(!0);var r=jx.transition;jx.transition={};try{t(!1),e()}finally{sn=n,jx.transition=r}}function SE(){return Oi().memoizedState}function RV(t,e,n){var r=vc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},NE(t))kE(e,n);else if(n=iE(t,e,n,r),n!==null){var s=xs();po(n,t,r,s),CE(n,e,r)}}function MV(t,e,n){var r=vc(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(NE(t))kE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,vo(a,o)){var l=e.interleaved;l===null?(s.next=s,AS(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=iE(t,e,s,r),n!==null&&(s=xs(),po(n,t,r,s),CE(n,e,r))}}function NE(t){var e=t.alternate;return t===Mn||e!==null&&e===Mn}function kE(t,e){um=Rv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fS(t,n)}}var Mv={readContext:Di,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},DV={readContext:Di,useCallback:function(t,e){return Uo().memoizedState=[t,e===void 0?null:e],t},useContext:Di,useEffect:Fk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,G1(4194308,4,yE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return G1(4194308,4,t,e)},useInsertionEffect:function(t,e){return G1(4,2,t,e)},useMemo:function(t,e){var n=Uo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Uo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RV.bind(null,Mn,t),[r.memoizedState,t]},useRef:function(t){var e=Uo();return t={current:t},e.memoizedState=t},useState:Ik,useDebugValue:OS,useDeferredValue:function(t){return Uo().memoizedState=t},useTransition:function(){var t=Ik(!1),e=t[0];return t=LV.bind(null,t[1]),Uo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mn,s=Uo();if(An){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=e(),Ar===null)throw Error(ze(349));Gu&30||uE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Fk(hE.bind(null,r,i,t),[t]),r.flags|=2048,Om(9,dE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Uo(),e=Ar.identifierPrefix;if(An){var n=Ga,r=Ha;n=(r&~(1<<32-fo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OV={readContext:Di,useCallback:xE,useContext:Di,useEffect:DS,useImperativeHandle:wE,useInsertionEffect:gE,useLayoutEffect:vE,useMemo:bE,useReducer:Lx,useRef:mE,useState:function(){return Lx(Dm)},useDebugValue:OS,useDeferredValue:function(t){var e=Oi();return _E(e,vr.memoizedState,t)},useTransition:function(){var t=Lx(Dm)[0],e=Oi().memoizedState;return[t,e]},useMutableSource:lE,useSyncExternalStore:cE,useId:SE,unstable_isNewReconciler:!1},IV={readContext:Di,useCallback:xE,useContext:Di,useEffect:DS,useImperativeHandle:wE,useInsertionEffect:gE,useLayoutEffect:vE,useMemo:bE,useReducer:Rx,useRef:mE,useState:function(){return Rx(Dm)},useDebugValue:OS,useDeferredValue:function(t){var e=Oi();return vr===null?e.memoizedState=t:_E(e,vr.memoizedState,t)},useTransition:function(){var t=Rx(Dm)[0],e=Oi().memoizedState;return[t,e]},useMutableSource:lE,useSyncExternalStore:cE,useId:SE,unstable_isNewReconciler:!1};function Ji(t,e){if(t&&t.defaultProps){e=Dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xy={isMounted:function(t){return(t=t._reactInternals)?hd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xs(),s=vc(t),i=Qa(r,s);i.payload=e,n!=null&&(i.callback=n),e=mc(t,i,s),e!==null&&(po(e,t,s,r),$1(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xs(),s=vc(t),i=Qa(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=mc(t,i,s),e!==null&&(po(e,t,s,r),$1(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xs(),r=vc(t),s=Qa(n,r);s.tag=2,e!=null&&(s.callback=e),e=mc(t,s,r),e!==null&&(po(e,t,r,n),$1(e,t,r))}};function Vk(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Tm(n,r)||!Tm(s,i):!0}function AE(t,e,n){var r=!1,s=Cc,i=e.contextType;return typeof i=="object"&&i!==null?i=Di(i):(s=Bs(e)?$u:ss.current,r=e.contextTypes,i=(r=r!=null)?ff(t,s):Cc),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function zk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xy.enqueueReplaceState(e,e.state,null)}function cb(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},TS(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Di(i):(i=Bs(e)?$u:ss.current,s.context=ff(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(lb(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xy.enqueueReplaceState(s,s.state,null),jv(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function vf(t,e){try{var n="",r=e;do n+=d9(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Mx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ub(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var FV=typeof WeakMap=="function"?WeakMap:Map;function TE(t,e,n){n=Qa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ov||(Ov=!0,xb=r),ub(t,e)},n}function PE(t,e,n){n=Qa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ub(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ub(t,e),typeof r!="function"&&(gc===null?gc=new Set([this]):gc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Bk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new FV;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=QV.bind(null,t,e,n),e.then(t,t))}function qk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uk(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qa(-1,1),e.tag=2,mc(n,e,1))),n.lanes|=1),t)}var VV=fl.ReactCurrentOwner,Fs=!1;function ps(t,e,n,r){e.child=t===null?sE(e,null,n,r):mf(e,t.child,n,r)}function Wk(t,e,n,r,s){n=n.render;var i=e.ref;return Oh(e,s),r=RS(t,e,n,r,i,s),n=MS(),t!==null&&!Fs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ll(t,e,s)):(An&&n&&bS(e),e.flags|=1,ps(t,e,r,s),e.child)}function $k(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!WS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,EE(t,e,i,r,s)):(t=X1(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Tm,n(o,r)&&t.ref===e.ref)return ll(t,e,s)}return e.flags|=1,t=yc(i,r),t.ref=e.ref,t.return=e,e.child=t}function EE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Tm(i,r)&&t.ref===e.ref)if(Fs=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Fs=!0);else return e.lanes=t.lanes,ll(t,e,s)}return db(t,e,n,r,s)}function jE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(_h,Xs),Xs|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yn(_h,Xs),Xs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,yn(_h,Xs),Xs|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,yn(_h,Xs),Xs|=r;return ps(t,e,s,n),e.child}function LE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function db(t,e,n,r,s){var i=Bs(n)?$u:ss.current;return i=ff(e,i),Oh(e,s),n=RS(t,e,n,r,i,s),r=MS(),t!==null&&!Fs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ll(t,e,s)):(An&&r&&bS(e),e.flags|=1,ps(t,e,n,s),e.child)}function Hk(t,e,n,r,s){if(Bs(n)){var i=!0;Cv(e)}else i=!1;if(Oh(e,s),e.stateNode===null)Y1(t,e),AE(e,n,r),cb(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Di(c):(c=Bs(n)?$u:ss.current,c=ff(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&zk(e,o,r,c),Gl=!1;var p=e.memoizedState;o.state=p,jv(e,r,o,s),l=e.memoizedState,a!==r||p!==l||zs.current||Gl?(typeof u=="function"&&(lb(e,n,u,r),l=e.memoizedState),(a=Gl||Vk(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ji(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Di(l):(l=Bs(n)?$u:ss.current,l=ff(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&zk(e,o,r,l),Gl=!1,p=e.memoizedState,o.state=p,jv(e,r,o,s);var y=e.memoizedState;a!==d||p!==y||zs.current||Gl?(typeof f=="function"&&(lb(e,n,f,r),y=e.memoizedState),(c=Gl||Vk(e,n,c,r,p,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return hb(t,e,n,r,i,s)}function hb(t,e,n,r,s,i){LE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&jk(e,n,!1),ll(t,e,i);r=e.stateNode,VV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mf(e,t.child,null,i),e.child=mf(e,null,a,i)):ps(t,e,a,i),e.memoizedState=r.state,s&&jk(e,n,!0),e.child}function RE(t){var e=t.stateNode;e.pendingContext?Ek(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ek(t,e.context,!1),PS(t,e.containerInfo)}function Gk(t,e,n,r,s){return pf(),SS(s),e.flags|=256,ps(t,e,n,r),e.child}var fb={dehydrated:null,treeContext:null,retryLane:0};function pb(t){return{baseLanes:t,cachePool:null,transitions:null}}function ME(t,e,n){var r=e.pendingProps,s=jn.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),yn(jn,s&1),t===null)return ob(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=e2(o,r,0,null),t=Fu(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pb(n),e.memoizedState=fb,t):IS(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return zV(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=yc(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=yc(a,i):(i=Fu(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?pb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=fb,r}return i=t.child,t=i.sibling,r=yc(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function IS(t,e){return e=e2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function f1(t,e,n,r){return r!==null&&SS(r),mf(e,t.child,null,n),t=IS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zV(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Mx(Error(ze(422))),f1(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=e2({mode:"visible",children:r.children},s,0,null),i=Fu(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&mf(e,t.child,null,o),e.child.memoizedState=pb(o),e.memoizedState=fb,i);if(!(e.mode&1))return f1(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ze(419)),r=Mx(i,r,void 0),f1(t,e,o,r)}if(a=(o&t.childLanes)!==0,Fs||a){if(r=Ar,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,al(t,s),po(r,t,s,-1))}return US(),r=Mx(Error(ze(421))),f1(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=JV.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ni=pc(s.nextSibling),si=e,An=!0,so=null,t!==null&&(ki[Ci++]=Ha,ki[Ci++]=Ga,ki[Ci++]=Hu,Ha=t.id,Ga=t.overflow,Hu=e),e=IS(e,r.children),e.flags|=4096,e)}function Yk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ab(t.return,e,n)}function Dx(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function DE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ps(t,e,r.children,n),r=jn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yk(t,n,e);else if(t.tag===19)Yk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yn(jn,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Lv(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Dx(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Lv(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Dx(e,!0,n,null,i);break;case"together":Dx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Y1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ll(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ze(153));if(e.child!==null){for(t=e.child,n=yc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BV(t,e,n){switch(e.tag){case 3:RE(e),pf();break;case 5:aE(e);break;case 1:Bs(e.type)&&Cv(e);break;case 4:PS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;yn(Pv,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yn(jn,jn.current&1),e.flags|=128,null):n&e.child.childLanes?ME(t,e,n):(yn(jn,jn.current&1),t=ll(t,e,n),t!==null?t.sibling:null);yn(jn,jn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return DE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),yn(jn,jn.current),r)break;return null;case 22:case 23:return e.lanes=0,jE(t,e,n)}return ll(t,e,n)}var OE,mb,IE,FE;OE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mb=function(){};IE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Nu(na.current);var i=null;switch(n){case"input":s=I5(t,s),r=I5(t,r),i=[];break;case"select":s=Dn({},s,{value:void 0}),r=Dn({},r,{value:void 0}),i=[];break;case"textarea":s=z5(t,s),r=z5(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nv)}q5(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bm.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&bn("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};FE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ip(t,e){if(!An)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qV(t,e,n){var r=e.pendingProps;switch(_S(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(e),null;case 1:return Bs(e.type)&&kv(),Hr(e),null;case 3:return r=e.stateNode,gf(),Sn(zs),Sn(ss),jS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(d1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,so!==null&&(Sb(so),so=null))),mb(t,e),Hr(e),null;case 5:ES(e);var s=Nu(Rm.current);if(n=e.type,t!==null&&e.stateNode!=null)IE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ze(166));return Hr(e),null}if(t=Nu(na.current),d1(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ko]=e,r[jm]=i,t=(e.mode&1)!==0,n){case"dialog":bn("cancel",r),bn("close",r);break;case"iframe":case"object":case"embed":bn("load",r);break;case"video":case"audio":for(s=0;s<Qp.length;s++)bn(Qp[s],r);break;case"source":bn("error",r);break;case"img":case"image":case"link":bn("error",r),bn("load",r);break;case"details":bn("toggle",r);break;case"input":rk(r,i),bn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},bn("invalid",r);break;case"textarea":ik(r,i),bn("invalid",r)}q5(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&u1(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&u1(r.textContent,a,t),s=["children",""+a]):bm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&bn("scroll",r)}switch(n){case"input":n1(r),sk(r,i,!0);break;case"textarea":n1(r),ok(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Nv)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=h6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ko]=e,t[jm]=r,OE(t,e,!1,!1),e.stateNode=t;e:{switch(o=U5(n,r),n){case"dialog":bn("cancel",t),bn("close",t),s=r;break;case"iframe":case"object":case"embed":bn("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qp.length;s++)bn(Qp[s],t);s=r;break;case"source":bn("error",t),s=r;break;case"img":case"image":case"link":bn("error",t),bn("load",t),s=r;break;case"details":bn("toggle",t),s=r;break;case"input":rk(t,r),s=I5(t,r),bn("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Dn({},r,{value:void 0}),bn("invalid",t);break;case"textarea":ik(t,r),s=z5(t,r),bn("invalid",t);break;default:s=r}q5(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?m6(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&f6(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_m(t,l):typeof l=="number"&&_m(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bm.hasOwnProperty(i)?l!=null&&i==="onScroll"&&bn("scroll",t):l!=null&&aS(t,i,l,o))}switch(n){case"input":n1(t),sk(t,r,!1);break;case"textarea":n1(t),ok(t);break;case"option":r.value!=null&&t.setAttribute("value",""+kc(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Lh(t,!!r.multiple,i,!1):r.defaultValue!=null&&Lh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Nv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hr(e),null;case 6:if(t&&e.stateNode!=null)FE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ze(166));if(n=Nu(Rm.current),Nu(na.current),d1(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ko]=e,(i=r.nodeValue!==n)&&(t=si,t!==null))switch(t.tag){case 3:u1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&u1(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ko]=e,e.stateNode=r}return Hr(e),null;case 13:if(Sn(jn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(An&&ni!==null&&e.mode&1&&!(e.flags&128))nE(),pf(),e.flags|=98560,i=!1;else if(i=d1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ze(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ze(317));i[Ko]=e}else pf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hr(e),i=!1}else so!==null&&(Sb(so),so=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||jn.current&1?wr===0&&(wr=3):US())),e.updateQueue!==null&&(e.flags|=4),Hr(e),null);case 4:return gf(),mb(t,e),t===null&&Pm(e.stateNode.containerInfo),Hr(e),null;case 10:return CS(e.type._context),Hr(e),null;case 17:return Bs(e.type)&&kv(),Hr(e),null;case 19:if(Sn(jn),i=e.memoizedState,i===null)return Hr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ip(i,!1);else{if(wr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lv(t),o!==null){for(e.flags|=128,Ip(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yn(jn,jn.current&1|2),e.child}t=t.sibling}i.tail!==null&&Jn()>yf&&(e.flags|=128,r=!0,Ip(i,!1),e.lanes=4194304)}else{if(!r)if(t=Lv(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ip(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!An)return Hr(e),null}else 2*Jn()-i.renderingStartTime>yf&&n!==1073741824&&(e.flags|=128,r=!0,Ip(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Jn(),e.sibling=null,n=jn.current,yn(jn,r?n&1|2:n&1),e):(Hr(e),null);case 22:case 23:return qS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xs&1073741824&&(Hr(e),e.subtreeFlags&6&&(e.flags|=8192)):Hr(e),null;case 24:return null;case 25:return null}throw Error(ze(156,e.tag))}function UV(t,e){switch(_S(e),e.tag){case 1:return Bs(e.type)&&kv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gf(),Sn(zs),Sn(ss),jS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ES(e),null;case 13:if(Sn(jn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ze(340));pf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(jn),null;case 4:return gf(),null;case 10:return CS(e.type._context),null;case 22:case 23:return qS(),null;case 24:return null;default:return null}}var p1=!1,Jr=!1,WV=typeof WeakSet=="function"?WeakSet:Set,tt=null;function bh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wn(t,e,r)}else n.current=null}function gb(t,e,n){try{n()}catch(r){Wn(t,e,r)}}var Kk=!1;function $V(t,e){if(J5=bv,t=U6(),xS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,p=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)p=d,d=f;for(;;){if(d===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(eb={focusedElem:t,selectionRange:n},bv=!1,tt=e;tt!==null;)if(e=tt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,tt=t;else for(;tt!==null;){e=tt;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ji(e.type,g),b);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(T){Wn(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}return y=Kk,Kk=!1,y}function dm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&gb(e,n,i)}s=s.next}while(s!==r)}}function Qy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VE(t){var e=t.alternate;e!==null&&(t.alternate=null,VE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ko],delete e[jm],delete e[rb],delete e[AV],delete e[TV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zE(t){return t.tag===5||t.tag===3||t.tag===4}function Zk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nv));else if(r!==4&&(t=t.child,t!==null))for(yb(t,e,n),t=t.sibling;t!==null;)yb(t,e,n),t=t.sibling}function wb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wb(t,e,n),t=t.sibling;t!==null;)wb(t,e,n),t=t.sibling}var Or=null,ro=!1;function Ll(t,e,n){for(n=n.child;n!==null;)BE(t,e,n),n=n.sibling}function BE(t,e,n){if(ta&&typeof ta.onCommitFiberUnmount=="function")try{ta.onCommitFiberUnmount(Wy,n)}catch{}switch(n.tag){case 5:Jr||bh(n,e);case 6:var r=Or,s=ro;Or=null,Ll(t,e,n),Or=r,ro=s,Or!==null&&(ro?(t=Or,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Or.removeChild(n.stateNode));break;case 18:Or!==null&&(ro?(t=Or,n=n.stateNode,t.nodeType===8?Tx(t.parentNode,n):t.nodeType===1&&Tx(t,n),Cm(t)):Tx(Or,n.stateNode));break;case 4:r=Or,s=ro,Or=n.stateNode.containerInfo,ro=!0,Ll(t,e,n),Or=r,ro=s;break;case 0:case 11:case 14:case 15:if(!Jr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gb(n,e,o),s=s.next}while(s!==r)}Ll(t,e,n);break;case 1:if(!Jr&&(bh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Wn(n,e,a)}Ll(t,e,n);break;case 21:Ll(t,e,n);break;case 22:n.mode&1?(Jr=(r=Jr)||n.memoizedState!==null,Ll(t,e,n),Jr=r):Ll(t,e,n);break;default:Ll(t,e,n)}}function Xk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WV),e.forEach(function(r){var s=ez.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Or=a.stateNode,ro=!1;break e;case 3:Or=a.stateNode.containerInfo,ro=!0;break e;case 4:Or=a.stateNode.containerInfo,ro=!0;break e}a=a.return}if(Or===null)throw Error(ze(160));BE(i,o,s),Or=null,ro=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Wn(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qE(e,t),e=e.sibling}function qE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yi(e,t),Bo(t),r&4){try{dm(3,t,t.return),Qy(3,t)}catch(g){Wn(t,t.return,g)}try{dm(5,t,t.return)}catch(g){Wn(t,t.return,g)}}break;case 1:Yi(e,t),Bo(t),r&512&&n!==null&&bh(n,n.return);break;case 5:if(Yi(e,t),Bo(t),r&512&&n!==null&&bh(n,n.return),t.flags&32){var s=t.stateNode;try{_m(s,"")}catch(g){Wn(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&u6(s,i),U5(a,o);var c=U5(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?m6(s,d):u==="dangerouslySetInnerHTML"?f6(s,d):u==="children"?_m(s,d):aS(s,u,d,c)}switch(a){case"input":F5(s,i);break;case"textarea":d6(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Lh(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?Lh(s,!!i.multiple,i.defaultValue,!0):Lh(s,!!i.multiple,i.multiple?[]:"",!1))}s[jm]=i}catch(g){Wn(t,t.return,g)}}break;case 6:if(Yi(e,t),Bo(t),r&4){if(t.stateNode===null)throw Error(ze(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Wn(t,t.return,g)}}break;case 3:if(Yi(e,t),Bo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cm(e.containerInfo)}catch(g){Wn(t,t.return,g)}break;case 4:Yi(e,t),Bo(t);break;case 13:Yi(e,t),Bo(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zS=Jn())),r&4&&Xk(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Jr=(c=Jr)||u,Yi(e,t),Jr=c):Yi(e,t),Bo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(tt=t,u=t.child;u!==null;){for(d=tt=u;tt!==null;){switch(p=tt,f=p.child,p.tag){case 0:case 11:case 14:case 15:dm(4,p,p.return);break;case 1:bh(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Wn(r,n,g)}}break;case 5:bh(p,p.return);break;case 22:if(p.memoizedState!==null){Jk(d);continue}}f!==null?(f.return=p,tt=f):Jk(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=p6("display",o))}catch(g){Wn(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Wn(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Yi(e,t),Bo(t),r&4&&Xk(t);break;case 21:break;default:Yi(e,t),Bo(t)}}function Bo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zE(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_m(s,""),r.flags&=-33);var i=Zk(t);wb(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zk(t);yb(t,a,o);break;default:throw Error(ze(161))}}catch(l){Wn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HV(t,e,n){tt=t,UE(t)}function UE(t,e,n){for(var r=(t.mode&1)!==0;tt!==null;){var s=tt,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||p1;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Jr;a=p1;var c=Jr;if(p1=o,(Jr=l)&&!c)for(tt=s;tt!==null;)o=tt,l=o.child,o.tag===22&&o.memoizedState!==null?eC(s):l!==null?(l.return=o,tt=l):eC(s);for(;i!==null;)tt=i,UE(i),i=i.sibling;tt=s,p1=a,Jr=c}Qk(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,tt=i):Qk(t)}}function Qk(t){for(;tt!==null;){var e=tt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jr||Qy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ji(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ok(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ok(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Cm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}Jr||e.flags&512&&vb(e)}catch(p){Wn(e,e.return,p)}}if(e===t){tt=null;break}if(n=e.sibling,n!==null){n.return=e.return,tt=n;break}tt=e.return}}function Jk(t){for(;tt!==null;){var e=tt;if(e===t){tt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,tt=n;break}tt=e.return}}function eC(t){for(;tt!==null;){var e=tt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qy(4,e)}catch(l){Wn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Wn(e,s,l)}}var i=e.return;try{vb(e)}catch(l){Wn(e,i,l)}break;case 5:var o=e.return;try{vb(e)}catch(l){Wn(e,o,l)}}}catch(l){Wn(e,e.return,l)}if(e===t){tt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,tt=a;break}tt=e.return}}var GV=Math.ceil,Dv=fl.ReactCurrentDispatcher,FS=fl.ReactCurrentOwner,Ei=fl.ReactCurrentBatchConfig,$t=0,Ar=null,dr=null,Fr=0,Xs=0,_h=qc(0),wr=0,Im=null,Yu=0,Jy=0,VS=0,hm=null,Os=null,zS=0,yf=1/0,Ba=null,Ov=!1,xb=null,gc=null,m1=!1,lc=null,Iv=0,fm=0,bb=null,K1=-1,Z1=0;function xs(){return $t&6?Jn():K1!==-1?K1:K1=Jn()}function vc(t){return t.mode&1?$t&2&&Fr!==0?Fr&-Fr:EV.transition!==null?(Z1===0&&(Z1=A6()),Z1):(t=sn,t!==0||(t=window.event,t=t===void 0?16:M6(t.type)),t):1}function po(t,e,n,r){if(50<fm)throw fm=0,bb=null,Error(ze(185));bg(t,n,r),(!($t&2)||t!==Ar)&&(t===Ar&&(!($t&2)&&(Jy|=n),wr===4&&Zl(t,Fr)),qs(t,r),n===1&&$t===0&&!(e.mode&1)&&(yf=Jn()+500,Ky&&Uc()))}function qs(t,e){var n=t.callbackNode;E9(t,e);var r=xv(t,t===Ar?Fr:0);if(r===0)n!==null&&ck(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ck(n),e===1)t.tag===0?PV(tC.bind(null,t)):J6(tC.bind(null,t)),kV(function(){!($t&6)&&Uc()}),n=null;else{switch(T6(r)){case 1:n=hS;break;case 4:n=k6;break;case 16:n=wv;break;case 536870912:n=C6;break;default:n=wv}n=XE(n,WE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WE(t,e){if(K1=-1,Z1=0,$t&6)throw Error(ze(327));var n=t.callbackNode;if(Ih()&&t.callbackNode!==n)return null;var r=xv(t,t===Ar?Fr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fv(t,r);else{e=r;var s=$t;$t|=2;var i=HE();(Ar!==t||Fr!==e)&&(Ba=null,yf=Jn()+500,Iu(t,e));do try{ZV();break}catch(a){$E(t,a)}while(!0);kS(),Dv.current=i,$t=s,dr!==null?e=0:(Ar=null,Fr=0,e=wr)}if(e!==0){if(e===2&&(s=Y5(t),s!==0&&(r=s,e=_b(t,s))),e===1)throw n=Im,Iu(t,0),Zl(t,r),qs(t,Jn()),n;if(e===6)Zl(t,r);else{if(s=t.current.alternate,!(r&30)&&!YV(s)&&(e=Fv(t,r),e===2&&(i=Y5(t),i!==0&&(r=i,e=_b(t,i))),e===1))throw n=Im,Iu(t,0),Zl(t,r),qs(t,Jn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ze(345));case 2:gu(t,Os,Ba);break;case 3:if(Zl(t,r),(r&130023424)===r&&(e=zS+500-Jn(),10<e)){if(xv(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xs(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=nb(gu.bind(null,t,Os,Ba),e);break}gu(t,Os,Ba);break;case 4:if(Zl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fo(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GV(r/1960))-r,10<r){t.timeoutHandle=nb(gu.bind(null,t,Os,Ba),r);break}gu(t,Os,Ba);break;case 5:gu(t,Os,Ba);break;default:throw Error(ze(329))}}}return qs(t,Jn()),t.callbackNode===n?WE.bind(null,t):null}function _b(t,e){var n=hm;return t.current.memoizedState.isDehydrated&&(Iu(t,e).flags|=256),t=Fv(t,e),t!==2&&(e=Os,Os=n,e!==null&&Sb(e)),t}function Sb(t){Os===null?Os=t:Os.push.apply(Os,t)}function YV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!vo(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zl(t,e){for(e&=~VS,e&=~Jy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fo(e),r=1<<n;t[n]=-1,e&=~r}}function tC(t){if($t&6)throw Error(ze(327));Ih();var e=xv(t,0);if(!(e&1))return qs(t,Jn()),null;var n=Fv(t,e);if(t.tag!==0&&n===2){var r=Y5(t);r!==0&&(e=r,n=_b(t,r))}if(n===1)throw n=Im,Iu(t,0),Zl(t,e),qs(t,Jn()),n;if(n===6)throw Error(ze(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gu(t,Os,Ba),qs(t,Jn()),null}function BS(t,e){var n=$t;$t|=1;try{return t(e)}finally{$t=n,$t===0&&(yf=Jn()+500,Ky&&Uc())}}function Ku(t){lc!==null&&lc.tag===0&&!($t&6)&&Ih();var e=$t;$t|=1;var n=Ei.transition,r=sn;try{if(Ei.transition=null,sn=1,t)return t()}finally{sn=r,Ei.transition=n,$t=e,!($t&6)&&Uc()}}function qS(){Xs=_h.current,Sn(_h)}function Iu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NV(n)),dr!==null)for(n=dr.return;n!==null;){var r=n;switch(_S(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kv();break;case 3:gf(),Sn(zs),Sn(ss),jS();break;case 5:ES(r);break;case 4:gf();break;case 13:Sn(jn);break;case 19:Sn(jn);break;case 10:CS(r.type._context);break;case 22:case 23:qS()}n=n.return}if(Ar=t,dr=t=yc(t.current,null),Fr=Xs=e,wr=0,Im=null,VS=Jy=Yu=0,Os=hm=null,Su!==null){for(e=0;e<Su.length;e++)if(n=Su[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Su=null}return t}function $E(t,e){do{var n=dr;try{if(kS(),H1.current=Mv,Rv){for(var r=Mn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Rv=!1}if(Gu=0,kr=vr=Mn=null,um=!1,Mm=0,FS.current=null,n===null||n.return===null){wr=1,Im=e,dr=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Fr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=qk(o);if(f!==null){f.flags&=-257,Uk(f,o,a,i,e),f.mode&1&&Bk(i,c,e),e=f,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){Bk(i,c,e),US();break e}l=Error(ze(426))}}else if(An&&a.mode&1){var b=qk(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Uk(b,o,a,i,e),SS(vf(l,a));break e}}i=l=vf(l,a),wr!==4&&(wr=2),hm===null?hm=[i]:hm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=TE(i,l,e);Dk(i,v);break e;case 1:a=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(gc===null||!gc.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=PE(i,a,e);Dk(i,T);break e}}i=i.return}while(i!==null)}YE(n)}catch(C){e=C,dr===n&&n!==null&&(dr=n=n.return);continue}break}while(!0)}function HE(){var t=Dv.current;return Dv.current=Mv,t===null?Mv:t}function US(){(wr===0||wr===3||wr===2)&&(wr=4),Ar===null||!(Yu&268435455)&&!(Jy&268435455)||Zl(Ar,Fr)}function Fv(t,e){var n=$t;$t|=2;var r=HE();(Ar!==t||Fr!==e)&&(Ba=null,Iu(t,e));do try{KV();break}catch(s){$E(t,s)}while(!0);if(kS(),$t=n,Dv.current=r,dr!==null)throw Error(ze(261));return Ar=null,Fr=0,wr}function KV(){for(;dr!==null;)GE(dr)}function ZV(){for(;dr!==null&&!b9();)GE(dr)}function GE(t){var e=ZE(t.alternate,t,Xs);t.memoizedProps=t.pendingProps,e===null?YE(t):dr=e,FS.current=null}function YE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UV(n,e),n!==null){n.flags&=32767,dr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wr=6,dr=null;return}}else if(n=qV(n,e,Xs),n!==null){dr=n;return}if(e=e.sibling,e!==null){dr=e;return}dr=e=t}while(e!==null);wr===0&&(wr=5)}function gu(t,e,n){var r=sn,s=Ei.transition;try{Ei.transition=null,sn=1,XV(t,e,n,r)}finally{Ei.transition=s,sn=r}return null}function XV(t,e,n,r){do Ih();while(lc!==null);if($t&6)throw Error(ze(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ze(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(j9(t,i),t===Ar&&(dr=Ar=null,Fr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||m1||(m1=!0,XE(wv,function(){return Ih(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ei.transition,Ei.transition=null;var o=sn;sn=1;var a=$t;$t|=4,FS.current=null,$V(t,n),qE(n,t),vV(eb),bv=!!J5,eb=J5=null,t.current=n,HV(n),_9(),$t=a,sn=o,Ei.transition=i}else t.current=n;if(m1&&(m1=!1,lc=t,Iv=s),i=t.pendingLanes,i===0&&(gc=null),k9(n.stateNode),qs(t,Jn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ov)throw Ov=!1,t=xb,xb=null,t;return Iv&1&&t.tag!==0&&Ih(),i=t.pendingLanes,i&1?t===bb?fm++:(fm=0,bb=t):fm=0,Uc(),null}function Ih(){if(lc!==null){var t=T6(Iv),e=Ei.transition,n=sn;try{if(Ei.transition=null,sn=16>t?16:t,lc===null)var r=!1;else{if(t=lc,lc=null,Iv=0,$t&6)throw Error(ze(331));var s=$t;for($t|=4,tt=t.current;tt!==null;){var i=tt,o=i.child;if(tt.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(tt=c;tt!==null;){var u=tt;switch(u.tag){case 0:case 11:case 15:dm(8,u,i)}var d=u.child;if(d!==null)d.return=u,tt=d;else for(;tt!==null;){u=tt;var p=u.sibling,f=u.return;if(VE(u),u===c){tt=null;break}if(p!==null){p.return=f,tt=p;break}tt=f}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}tt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,tt=o;else e:for(;tt!==null;){if(i=tt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:dm(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,tt=v;break e}tt=i.return}}var w=t.current;for(tt=w;tt!==null;){o=tt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,tt=_;else e:for(o=w;tt!==null;){if(a=tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qy(9,a)}}catch(C){Wn(a,a.return,C)}if(a===o){tt=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,tt=T;break e}tt=a.return}}if($t=s,Uc(),ta&&typeof ta.onPostCommitFiberRoot=="function")try{ta.onPostCommitFiberRoot(Wy,t)}catch{}r=!0}return r}finally{sn=n,Ei.transition=e}}return!1}function nC(t,e,n){e=vf(n,e),e=TE(t,e,1),t=mc(t,e,1),e=xs(),t!==null&&(bg(t,1,e),qs(t,e))}function Wn(t,e,n){if(t.tag===3)nC(t,t,n);else for(;e!==null;){if(e.tag===3){nC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gc===null||!gc.has(r))){t=vf(n,t),t=PE(e,t,1),e=mc(e,t,1),t=xs(),e!==null&&(bg(e,1,t),qs(e,t));break}}e=e.return}}function QV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xs(),t.pingedLanes|=t.suspendedLanes&n,Ar===t&&(Fr&n)===n&&(wr===4||wr===3&&(Fr&130023424)===Fr&&500>Jn()-zS?Iu(t,0):VS|=n),qs(t,e)}function KE(t,e){e===0&&(t.mode&1?(e=i1,i1<<=1,!(i1&130023424)&&(i1=4194304)):e=1);var n=xs();t=al(t,e),t!==null&&(bg(t,e,n),qs(t,n))}function JV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),KE(t,n)}function ez(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(e),KE(t,n)}var ZE;ZE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zs.current)Fs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fs=!1,BV(t,e,n);Fs=!!(t.flags&131072)}else Fs=!1,An&&e.flags&1048576&&eE(e,Tv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Y1(t,e),t=e.pendingProps;var s=ff(e,ss.current);Oh(e,n),s=RS(null,e,r,t,s,n);var i=MS();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bs(r)?(i=!0,Cv(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,TS(e),s.updater=Xy,e.stateNode=s,s._reactInternals=e,cb(e,r,t,n),e=hb(null,e,r,!0,i,n)):(e.tag=0,An&&i&&bS(e),ps(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Y1(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=nz(r),t=Ji(r,t),s){case 0:e=db(null,e,r,t,n);break e;case 1:e=Hk(null,e,r,t,n);break e;case 11:e=Wk(null,e,r,t,n);break e;case 14:e=$k(null,e,r,Ji(r.type,t),n);break e}throw Error(ze(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ji(r,s),db(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ji(r,s),Hk(t,e,r,s,n);case 3:e:{if(RE(e),t===null)throw Error(ze(387));r=e.pendingProps,i=e.memoizedState,s=i.element,oE(t,e),jv(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=vf(Error(ze(423)),e),e=Gk(t,e,r,n,s);break e}else if(r!==s){s=vf(Error(ze(424)),e),e=Gk(t,e,r,n,s);break e}else for(ni=pc(e.stateNode.containerInfo.firstChild),si=e,An=!0,so=null,n=sE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pf(),r===s){e=ll(t,e,n);break e}ps(t,e,r,n)}e=e.child}return e;case 5:return aE(e),t===null&&ob(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,tb(r,s)?o=null:i!==null&&tb(r,i)&&(e.flags|=32),LE(t,e),ps(t,e,o,n),e.child;case 6:return t===null&&ob(e),null;case 13:return ME(t,e,n);case 4:return PS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mf(e,null,r,n):ps(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ji(r,s),Wk(t,e,r,s,n);case 7:return ps(t,e,e.pendingProps,n),e.child;case 8:return ps(t,e,e.pendingProps.children,n),e.child;case 12:return ps(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,yn(Pv,r._currentValue),r._currentValue=o,i!==null)if(vo(i.value,o)){if(i.children===s.children&&!zs.current){e=ll(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Qa(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ab(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ze(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ab(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ps(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Oh(e,n),s=Di(s),r=r(s),e.flags|=1,ps(t,e,r,n),e.child;case 14:return r=e.type,s=Ji(r,e.pendingProps),s=Ji(r.type,s),$k(t,e,r,s,n);case 15:return EE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ji(r,s),Y1(t,e),e.tag=1,Bs(r)?(t=!0,Cv(e)):t=!1,Oh(e,n),AE(e,r,s),cb(e,r,s,n),hb(null,e,r,!0,t,n);case 19:return DE(t,e,n);case 22:return jE(t,e,n)}throw Error(ze(156,e.tag))};function XE(t,e){return N6(t,e)}function tz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(t,e,n,r){return new tz(t,e,n,r)}function WS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nz(t){if(typeof t=="function")return WS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cS)return 11;if(t===uS)return 14}return 2}function yc(t,e){var n=t.alternate;return n===null?(n=Ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function X1(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")WS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hh:return Fu(n.children,s,i,e);case lS:o=8,s|=8;break;case R5:return t=Ai(12,n,e,s|2),t.elementType=R5,t.lanes=i,t;case M5:return t=Ai(13,n,e,s),t.elementType=M5,t.lanes=i,t;case D5:return t=Ai(19,n,e,s),t.elementType=D5,t.lanes=i,t;case a6:return e2(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case i6:o=10;break e;case o6:o=9;break e;case cS:o=11;break e;case uS:o=14;break e;case Hl:o=16,r=null;break e}throw Error(ze(130,t==null?t:typeof t,""))}return e=Ai(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Fu(t,e,n,r){return t=Ai(7,t,r,e),t.lanes=n,t}function e2(t,e,n,r){return t=Ai(22,t,r,e),t.elementType=a6,t.lanes=n,t.stateNode={isHidden:!1},t}function Ox(t,e,n){return t=Ai(6,t,null,e),t.lanes=n,t}function Ix(t,e,n){return e=Ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rz(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vx(0),this.expirationTimes=vx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vx(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $S(t,e,n,r,s,i,o,a,l){return t=new rz(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ai(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},TS(i),t}function sz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QE(t){if(!t)return Cc;t=t._reactInternals;e:{if(hd(t)!==t||t.tag!==1)throw Error(ze(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ze(171))}if(t.tag===1){var n=t.type;if(Bs(n))return Q6(t,n,e)}return e}function JE(t,e,n,r,s,i,o,a,l){return t=$S(n,r,!0,t,s,i,o,a,l),t.context=QE(null),n=t.current,r=xs(),s=vc(n),i=Qa(r,s),i.callback=e??null,mc(n,i,s),t.current.lanes=s,bg(t,s,r),qs(t,r),t}function t2(t,e,n,r){var s=e.current,i=xs(),o=vc(s);return n=QE(n),e.context===null?e.context=n:e.pendingContext=n,e=Qa(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mc(s,e,o),t!==null&&(po(t,s,o,i),$1(t,s,o)),o}function Vv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function HS(t,e){rC(t,e),(t=t.alternate)&&rC(t,e)}function iz(){return null}var ej=typeof reportError=="function"?reportError:function(t){console.error(t)};function GS(t){this._internalRoot=t}n2.prototype.render=GS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ze(409));t2(t,e,null,null)};n2.prototype.unmount=GS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ku(function(){t2(null,t,null,null)}),e[ol]=null}};function n2(t){this._internalRoot=t}n2.prototype.unstable_scheduleHydration=function(t){if(t){var e=j6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kl.length&&e!==0&&e<Kl[n].priority;n++);Kl.splice(n,0,t),n===0&&R6(t)}};function YS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function r2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sC(){}function oz(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Vv(o);i.call(c)}}var o=JE(e,r,t,0,null,!1,!1,"",sC);return t._reactRootContainer=o,t[ol]=o.current,Pm(t.nodeType===8?t.parentNode:t),Ku(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Vv(l);a.call(c)}}var l=$S(t,0,!1,null,null,!1,!1,"",sC);return t._reactRootContainer=l,t[ol]=l.current,Pm(t.nodeType===8?t.parentNode:t),Ku(function(){t2(e,l,n,r)}),l}function s2(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Vv(o);a.call(l)}}t2(e,o,t,s)}else o=oz(n,e,t,s,r);return Vv(o)}P6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xp(e.pendingLanes);n!==0&&(fS(e,n|1),qs(e,Jn()),!($t&6)&&(yf=Jn()+500,Uc()))}break;case 13:Ku(function(){var r=al(t,1);if(r!==null){var s=xs();po(r,t,1,s)}}),HS(t,1)}};pS=function(t){if(t.tag===13){var e=al(t,134217728);if(e!==null){var n=xs();po(e,t,134217728,n)}HS(t,134217728)}};E6=function(t){if(t.tag===13){var e=vc(t),n=al(t,e);if(n!==null){var r=xs();po(n,t,e,r)}HS(t,e)}};j6=function(){return sn};L6=function(t,e){var n=sn;try{return sn=t,e()}finally{sn=n}};$5=function(t,e,n){switch(e){case"input":if(F5(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Yy(r);if(!s)throw Error(ze(90));c6(r),F5(r,s)}}}break;case"textarea":d6(t,n);break;case"select":e=n.value,e!=null&&Lh(t,!!n.multiple,e,!1)}};y6=BS;w6=Ku;var az={usingClientEntryPoint:!1,Events:[Sg,gh,Yy,g6,v6,BS]},Fp={findFiberByHostInstance:_u,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lz={bundleType:Fp.bundleType,version:Fp.version,rendererPackageName:Fp.rendererPackageName,rendererConfig:Fp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_6(t),t===null?null:t.stateNode},findFiberByHostInstance:Fp.findFiberByHostInstance||iz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var g1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!g1.isDisabled&&g1.supportsFiber)try{Wy=g1.inject(lz),ta=g1}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=az;ui.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YS(e))throw Error(ze(200));return sz(t,e,null,n)};ui.createRoot=function(t,e){if(!YS(t))throw Error(ze(299));var n=!1,r="",s=ej;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$S(t,1,!1,null,null,n,!1,r,s),t[ol]=e.current,Pm(t.nodeType===8?t.parentNode:t),new GS(e)};ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ze(188)):(t=Object.keys(t).join(","),Error(ze(268,t)));return t=_6(e),t=t===null?null:t.stateNode,t};ui.flushSync=function(t){return Ku(t)};ui.hydrate=function(t,e,n){if(!r2(e))throw Error(ze(200));return s2(null,t,e,!0,n)};ui.hydrateRoot=function(t,e,n){if(!YS(t))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ej;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=JE(e,null,t,1,n??null,s,!1,i,o),t[ol]=e.current,Pm(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new n2(e)};ui.render=function(t,e,n){if(!r2(e))throw Error(ze(200));return s2(null,t,e,!1,n)};ui.unmountComponentAtNode=function(t){if(!r2(t))throw Error(ze(40));return t._reactRootContainer?(Ku(function(){s2(null,null,t,!1,function(){t._reactRootContainer=null,t[ol]=null})}),!0):!1};ui.unstable_batchedUpdates=BS;ui.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!r2(n))throw Error(ze(200));if(t==null||t._reactInternals===void 0)throw Error(ze(38));return s2(t,e,n,!1,r)};ui.version="18.3.1-next-f1338f8080-20240426";function tj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tj)}catch(t){console.error(t)}}tj(),t6.exports=ui;var fd=t6.exports;const cz=qy(fd);var nj,iC=fd;nj=iC.createRoot,iC.hydrateRoot;function uz(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var rj={exports:{}},sj={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=N;function dz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hz=typeof Object.is=="function"?Object.is:dz,fz=wf.useState,pz=wf.useEffect,mz=wf.useLayoutEffect,gz=wf.useDebugValue;function vz(t,e){var n=e(),r=fz({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return mz(function(){s.value=n,s.getSnapshot=e,Fx(s)&&i({inst:s})},[t,n,e]),pz(function(){return Fx(s)&&i({inst:s}),t(function(){Fx(s)&&i({inst:s})})},[t]),gz(n),n}function Fx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hz(t,n)}catch{return!0}}function yz(t,e){return e()}var wz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yz:vz;sj.useSyncExternalStore=wf.useSyncExternalStore!==void 0?wf.useSyncExternalStore:wz;rj.exports=sj;var xz=rj.exports;const bz=JP.useInsertionEffect,_z=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ij=_z?N.useLayoutEffect:N.useEffect,Sz=bz||ij,KS=t=>{const e=N.useRef([t,(...n)=>e[0](...n)]).current;return Sz(()=>{e[0]=t}),e[1]},Nz="popstate",ZS="pushState",XS="replaceState",kz="hashchange",oC=[Nz,ZS,XS,kz],Cz=t=>{for(const e of oC)addEventListener(e,t);return()=>{for(const e of oC)removeEventListener(e,t)}},oj=(t,e)=>xz.useSyncExternalStore(Cz,t,e),Az=()=>location.search,Tz=({ssrSearch:t=""}={})=>oj(Az,()=>t),aC=()=>location.pathname,Pz=({ssrPath:t}={})=>oj(aC,t?()=>t:aC),Ez=(t,{replace:e=!1,state:n=null}={})=>history[e?XS:ZS](n,"",t),jz=(t={})=>[Pz(t),Ez],lC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[lC]>"u"){for(const t of[ZS,XS]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,lC,{value:!0})}const Lz=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",aj=(t="")=>t==="/"?"":t,Rz=(t,e)=>t[0]==="~"?t.slice(1):aj(e)+t,Mz=(t="",e)=>Lz(cC(aj(t)),cC(e)),cC=t=>{try{return decodeURI(t)}catch{return t}},lj={hook:jz,searchHook:Tz,parser:uz,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},cj=N.createContext(lj),kg=()=>N.useContext(cj),uj={},dj=N.createContext(uj),Dz=()=>N.useContext(dj),i2=t=>{const[e,n]=t.hook(t);return[Mz(t.base,e),KS((r,s)=>n(Rz(r,t.base),s))]},hj=()=>i2(kg()),fj=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((d,p)=>[d,l[p]])):o.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},Oz=({children:t,...e})=>{var u,d;const n=kg(),r=e.hook?lj:n;let s=r;const[i,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let a=N.useRef({}),l=a.current,c=l;for(let p in r){const f=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===c&&f!==c[p]&&(a.current=c={...c}),c[p]=f,f!==r[p]&&(s=c)}return N.createElement(cj.Provider,{value:s,children:t})},uC=({children:t,component:e},n)=>e?N.createElement(e,{params:n}):typeof t=="function"?t(n):t,Iz=t=>{let e=N.useRef(uj),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},zv=({path:t,nest:e,match:n,...r})=>{const s=kg(),[i]=i2(s),[o,a,l]=n??fj(s.parser,t,i,e),c=Iz({...Dz(),...a});if(!o)return null;const u=l?N.createElement(Oz,{base:l},uC(r,c)):uC(r,c);return N.createElement(dj.Provider,{value:c,children:u})};N.forwardRef((t,e)=>{const n=kg(),[r,s]=i2(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:u,replace:d,state:p,...f}=t,y=KS(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),s(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&N.isValidElement(c)?N.cloneElement(c,{onClick:y,href:g}):N.createElement("a",{...f,onClick:y,href:g,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})});const pj=t=>Array.isArray(t)?t.flatMap(e=>pj(e&&e.type===N.Fragment?e.props.children:e)):[t],Fz=({children:t,location:e})=>{const n=kg(),[r]=i2(n);for(const s of pj(t)){let i=0;if(N.isValidElement(s)&&(i=fj(n.parser,s.props.path,e||r,s.props.nest))[0])return N.cloneElement(s,{match:i})}return null},Vz=t=>{const{to:e,href:n=e}=t,[,r]=hj(),s=KS(()=>r(e||n,t));return ij(()=>{s()},[]),null},zz=1,Bz=1e6;let Vx=0;function qz(){return Vx=(Vx+1)%Number.MAX_SAFE_INTEGER,Vx.toString()}const zx=new Map,dC=t=>{if(zx.has(t))return;const e=setTimeout(()=>{zx.delete(t),pm({type:"REMOVE_TOAST",toastId:t})},Bz);zx.set(t,e)},Uz=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,zz)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?dC(n):t.toasts.forEach(r=>{dC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Q1=[];let J1={toasts:[]};function pm(t){J1=Uz(J1,t),Q1.forEach(e=>{e(J1)})}function Wz({...t}){const e=qz(),n=s=>pm({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>pm({type:"DISMISS_TOAST",toastId:e});return pm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function zr(){const[t,e]=N.useState(J1);return N.useEffect(()=>(Q1.push(e),()=>{const n=Q1.indexOf(e);n>-1&&Q1.splice(n,1)}),[t]),{...t,toast:Wz,dismiss:n=>pm({type:"DISMISS_TOAST",toastId:n})}}function Ke(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function hC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mj(...t){return e=>{let n=!1;const r=t.map(s=>{const i=hC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():hC(t[s],null)}}}}function Dt(...t){return N.useCallback(mj(...t),t)}function $z(t,e){const n=N.createContext(e),r=i=>{const{children:o,...a}=i,l=N.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=N.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Br(t,e=[]){let n=[];function r(i,o){const a=N.createContext(o),l=n.length;n=[...n,o];const c=d=>{var v;const{scope:p,children:f,...y}=d,g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,b=N.useMemo(()=>y,Object.values(y));return h.jsx(g.Provider,{value:b,children:f})};c.displayName=i+"Provider";function u(d,p){var g;const f=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,y=N.useContext(f);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>N.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Hz(s,...e)]}function Hz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Zu(t){const e=Gz(t),n=N.forwardRef((r,s)=>{const{children:i,...o}=r,a=N.Children.toArray(i),l=a.find(Kz);if(l){const c=l.props.children,u=a.map(d=>d===l?N.Children.count(c)>1?N.Children.only(null):N.isValidElement(c)?c.props.children:null:d);return h.jsx(e,{...o,ref:s,children:N.isValidElement(c)?N.cloneElement(c,void 0,u):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var gj=Zu("Slot");function Gz(t){const e=N.forwardRef((n,r)=>{const{children:s,...i}=n;if(N.isValidElement(s)){const o=Xz(s),a=Zz(i,s.props);return s.type!==N.Fragment&&(a.ref=r?mj(r,o):o),N.cloneElement(s,a)}return N.Children.count(s)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vj=Symbol("radix.slottable");function Yz(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=vj,e}function Kz(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vj}function Zz(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Xz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Cg(t){const e=t+"CollectionProvider",[n,r]=Br(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:v}=g,w=dt.useRef(null),_=dt.useRef(new Map).current;return h.jsx(s,{scope:b,itemMap:_,collectionRef:w,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Zu(a),c=dt.forwardRef((g,b)=>{const{scope:v,children:w}=g,_=i(a,v),T=Dt(b,_.collectionRef);return h.jsx(l,{ref:T,children:w})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",p=Zu(u),f=dt.forwardRef((g,b)=>{const{scope:v,children:w,..._}=g,T=dt.useRef(null),C=Dt(b,T),R=i(u,v);return dt.useEffect(()=>(R.itemMap.set(T,{ref:T,..._}),()=>void R.itemMap.delete(T))),h.jsx(p,{[d]:"",ref:C,children:w})});f.displayName=u;function y(g){const b=i(t+"CollectionConsumer",g);return dt.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((R,E)=>_.indexOf(R.ref.current)-_.indexOf(E.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},y,r]}var Qz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],lt=Qz.reduce((t,e)=>{const n=Zu(`Primitive.${e}`),r=N.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function yj(t,e){t&&fd.flushSync(()=>t.dispatchEvent(e))}function bs(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Jz(t,e=globalThis==null?void 0:globalThis.document){const n=bs(t);N.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var eB="DismissableLayer",Nb="dismissableLayer.update",tB="dismissableLayer.pointerDownOutside",nB="dismissableLayer.focusOutside",fC,wj=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pd=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=N.useContext(wj),[u,d]=N.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=N.useState({}),y=Dt(e,E=>d(E)),g=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),w=u?g.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,T=w>=v,C=sB(E=>{const A=E.target,D=[...c.branches].some(H=>H.contains(A));!T||D||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},p),R=iB(E=>{const A=E.target;[...c.branches].some(H=>H.contains(A))||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},p);return Jz(E=>{w===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},p),N.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(fC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),pC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=fC)}},[u,p,n,c]),N.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),pC())},[u,c]),N.useEffect(()=>{const E=()=>f({});return document.addEventListener(Nb,E),()=>document.removeEventListener(Nb,E)},[]),h.jsx(lt.div,{...l,ref:y,style:{pointerEvents:_?T?"auto":"none":void 0,...t.style},onFocusCapture:Ke(t.onFocusCapture,R.onFocusCapture),onBlurCapture:Ke(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Ke(t.onPointerDownCapture,C.onPointerDownCapture)})});pd.displayName=eB;var rB="DismissableLayerBranch",xj=N.forwardRef((t,e)=>{const n=N.useContext(wj),r=N.useRef(null),s=Dt(e,r);return N.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(lt.div,{...t,ref:s})});xj.displayName=rB;function sB(t,e=globalThis==null?void 0:globalThis.document){const n=bs(t),r=N.useRef(!1),s=N.useRef(()=>{});return N.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){bj(tB,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function iB(t,e=globalThis==null?void 0:globalThis.document){const n=bs(t),r=N.useRef(!1);return N.useEffect(()=>{const s=i=>{i.target&&!r.current&&bj(nB,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pC(){const t=new CustomEvent(Nb);document.dispatchEvent(t)}function bj(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?yj(s,i):s.dispatchEvent(i)}var oB=pd,aB=xj,fr=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},lB="Portal",Ag=N.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=N.useState(!1);fr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?cz.createPortal(h.jsx(lt.div,{...r,ref:e}),o):null});Ag.displayName=lB;function cB(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var Ii=t=>{const{present:e,children:n}=t,r=uB(e),s=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),i=Dt(r.ref,dB(s));return typeof n=="function"||r.isPresent?N.cloneElement(s,{ref:i}):null};Ii.displayName="Presence";function uB(t){const[e,n]=N.useState(),r=N.useRef({}),s=N.useRef(t),i=N.useRef("none"),o=t?"mounted":"unmounted",[a,l]=cB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const c=v1(r.current);i.current=a==="mounted"?c:"none"},[a]),fr(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,f=v1(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),fr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const g=v1(r.current).includes(f.animationName);if(f.target===e&&g&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},p=f=>{f.target===e&&(i.current=v1(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:N.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function v1(t){return(t==null?void 0:t.animationName)||"none"}function dB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _s({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=hB({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=bs(n),l=N.useCallback(c=>{if(i){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else s(c)},[i,t,s,a]);return[o,l]}function hB({defaultProp:t,onChange:e}){const n=N.useState(t),[r]=n,s=N.useRef(r),i=bs(e);return N.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var fB="VisuallyHidden",Tg=N.forwardRef((t,e)=>h.jsx(lt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Tg.displayName=fB;var pB=Tg,QS="ToastProvider",[JS,mB,gB]=Cg("Toast"),[_j,Wde]=Br("Toast",[gB]),[vB,o2]=_j(QS),Sj=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=N.useState(null),[c,u]=N.useState(0),d=N.useRef(!1),p=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${QS}\`. Expected non-empty \`string\`.`),h.jsx(JS.Provider,{scope:e,children:h.jsx(vB,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:N.useCallback(()=>u(f=>f+1),[]),onToastRemove:N.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};Sj.displayName=QS;var Nj="ToastViewport",yB=["F8"],kb="toast.viewportPause",Cb="toast.viewportResume",kj=N.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=yB,label:s="Notifications ({hotkey})",...i}=t,o=o2(Nj,n),a=mB(n),l=N.useRef(null),c=N.useRef(null),u=N.useRef(null),d=N.useRef(null),p=Dt(e,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;N.useEffect(()=>{const b=v=>{var _;r.length!==0&&r.every(T=>v[T]||v.code===T)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),N.useEffect(()=>{const b=l.current,v=d.current;if(y&&b&&v){const w=()=>{if(!o.isClosePausedRef.current){const R=new CustomEvent(kb);v.dispatchEvent(R),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const R=new CustomEvent(Cb);v.dispatchEvent(R),o.isClosePausedRef.current=!1}},T=R=>{!b.contains(R.relatedTarget)&&_()},C=()=>{b.contains(document.activeElement)||_()};return b.addEventListener("focusin",w),b.addEventListener("focusout",T),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",T),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[y,o.isClosePausedRef]);const g=N.useCallback(({tabbingDirection:b})=>{const w=a().map(_=>{const T=_.ref.current,C=[T,...jB(T)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return N.useEffect(()=>{const b=d.current;if(b){const v=w=>{var C,R,E;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const A=document.activeElement,D=w.shiftKey;if(w.target===b&&D){(C=c.current)==null||C.focus();return}const P=g({tabbingDirection:D?"backwards":"forwards"}),U=P.findIndex(z=>z===A);Bx(P.slice(U+1))?w.preventDefault():D?(R=c.current)==null||R.focus():(E=u.current)==null||E.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[a,g]),h.jsxs(aB,{ref:l,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&h.jsx(Ab,{ref:c,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});Bx(b)}}),h.jsx(JS.Slot,{scope:n,children:h.jsx(lt.ol,{tabIndex:-1,...i,ref:p})}),y&&h.jsx(Ab,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});Bx(b)}})]})});kj.displayName=Nj;var Cj="ToastFocusProxy",Ab=N.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=o2(Cj,n);return h.jsx(Tg,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Ab.displayName=Cj;var a2="Toast",wB="toast.swipeStart",xB="toast.swipeMove",bB="toast.swipeCancel",_B="toast.swipeEnd",Aj=N.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=_s({prop:r,defaultProp:s,onChange:i});return h.jsx(Ii,{present:n||a,children:h.jsx(kB,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:bs(t.onPause),onResume:bs(t.onResume),onSwipeStart:Ke(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ke(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ke(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ke(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});Aj.displayName=a2;var[SB,NB]=_j(a2,{onClose(){}}),kB=N.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:f,...y}=t,g=o2(a2,n),[b,v]=N.useState(null),w=Dt(e,z=>v(z)),_=N.useRef(null),T=N.useRef(null),C=s||g.duration,R=N.useRef(0),E=N.useRef(C),A=N.useRef(0),{onToastAdd:D,onToastRemove:H}=g,L=bs(()=>{var Y;(b==null?void 0:b.contains(document.activeElement))&&((Y=g.viewport)==null||Y.focus()),o()}),P=N.useCallback(z=>{!z||z===1/0||(window.clearTimeout(A.current),R.current=new Date().getTime(),A.current=window.setTimeout(L,z))},[L]);N.useEffect(()=>{const z=g.viewport;if(z){const Y=()=>{P(E.current),c==null||c()},O=()=>{const $=new Date().getTime()-R.current;E.current=E.current-$,window.clearTimeout(A.current),l==null||l()};return z.addEventListener(kb,O),z.addEventListener(Cb,Y),()=>{z.removeEventListener(kb,O),z.removeEventListener(Cb,Y)}}},[g.viewport,C,l,c,P]),N.useEffect(()=>{i&&!g.isClosePausedRef.current&&P(C)},[i,C,g.isClosePausedRef,P]),N.useEffect(()=>(D(),()=>H()),[D,H]);const U=N.useMemo(()=>b?Mj(b):null,[b]);return g.viewport?h.jsxs(h.Fragment,{children:[U&&h.jsx(CB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),h.jsx(SB,{scope:n,onClose:L,children:fd.createPortal(h.jsx(JS.ItemSlot,{scope:n,children:h.jsx(oB,{asChild:!0,onEscapeKeyDown:Ke(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(lt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ke(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Ke(t.onPointerDown,z=>{z.button===0&&(_.current={x:z.clientX,y:z.clientY})}),onPointerMove:Ke(t.onPointerMove,z=>{if(!_.current)return;const Y=z.clientX-_.current.x,O=z.clientY-_.current.y,$=!!T.current,B=["left","right"].includes(g.swipeDirection),J=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,re=B?J(0,Y):0,X=B?0:J(0,O),M=z.pointerType==="touch"?10:2,F={x:re,y:X},K={originalEvent:z,delta:F};$?(T.current=F,y1(xB,d,K,{discrete:!1})):mC(F,g.swipeDirection,M)?(T.current=F,y1(wB,u,K,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(Y)>M||Math.abs(O)>M)&&(_.current=null)}),onPointerUp:Ke(t.onPointerUp,z=>{const Y=T.current,O=z.target;if(O.hasPointerCapture(z.pointerId)&&O.releasePointerCapture(z.pointerId),T.current=null,_.current=null,Y){const $=z.currentTarget,B={originalEvent:z,delta:Y};mC(Y,g.swipeDirection,g.swipeThreshold)?y1(_B,f,B,{discrete:!0}):y1(bB,p,B,{discrete:!0}),$.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),CB=t=>{const{__scopeToast:e,children:n,...r}=t,s=o2(a2,e),[i,o]=N.useState(!1),[a,l]=N.useState(!1);return PB(()=>o(!0)),N.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(Ag,{asChild:!0,children:h.jsx(Tg,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},AB="ToastTitle",Tj=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(lt.div,{...r,ref:e})});Tj.displayName=AB;var TB="ToastDescription",Pj=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(lt.div,{...r,ref:e})});Pj.displayName=TB;var Ej="ToastAction",jj=N.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(Rj,{altText:n,asChild:!0,children:h.jsx(e4,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ej}\`. Expected non-empty \`string\`.`),null)});jj.displayName=Ej;var Lj="ToastClose",e4=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=NB(Lj,n);return h.jsx(Rj,{asChild:!0,children:h.jsx(lt.button,{type:"button",...r,ref:e,onClick:Ke(t.onClick,s.onClose)})})});e4.displayName=Lj;var Rj=N.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(lt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Mj(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),EB(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Mj(r))}}),e}function y1(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?yj(s,i):s.dispatchEvent(i)}var mC=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function PB(t=()=>{}){const e=bs(t);fr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function EB(t){return t.nodeType===t.ELEMENT_NODE}function jB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Bx(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var LB=Sj,Dj=kj,Oj=Aj,Ij=Tj,Fj=Pj,Vj=jj,zj=e4;function Bj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Bj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qj(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Bj(t))&&(r&&(r+=" "),r+=e);return r}const gC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vC=qj,Pg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return vC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const p=gC(u)||gC(d);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...f}=u;return Object.entries(f).every(y=>{let[g,b]=y;return Array.isArray(b)?b.includes({...i,...a}[g]):{...i,...a}[g]===b})?[...c,d,p]:c},[]);return vC(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uj=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>N.createElement("svg",{ref:l,...MB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Uj("lucide",s),...a},[...o.map(([c,u])=>N.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(t,e)=>{const n=N.forwardRef(({className:r,...s},i)=>N.createElement(DB,{ref:i,iconNode:e,className:Uj(`lucide-${RB(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=ct("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=ct("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=ct("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=ct("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=ct("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=ct("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=ct("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=ct("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=ct("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=ct("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=ct("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=ct("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=ct("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=ct("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=ct("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=ct("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=ct("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=ct("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ct("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=ct("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ct("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=ct("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=ct("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=ct("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ct("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=ct("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=ct("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=ct("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=ct("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=ct("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=ct("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=ct("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ct("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=ct("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=ct("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=ct("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=ct("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=ct("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=ct("Volume1",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=ct("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=ct("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=ct("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),i4="-",hq=t=>{const e=pq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(i4);return a[0]===""&&a.length!==1&&a.shift(),Zj(a,e)||fq(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Zj=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Zj(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(i4);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},bC=/^\[(.+)\]$/,fq=t=>{if(bC.test(t)){const e=bC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},pq=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return gq(Object.entries(t.classGroups),n).forEach(([i,o])=>{Rb(o,r,i,e)}),r},Rb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:_C(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(mq(s)){Rb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Rb(o,_C(e,i),n,r)})})},_C=(t,e)=>{let n=t;return e.split(i4).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mq=t=>t.isThemeGetter,gq=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,vq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Xj="!",yq=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let b=0;b<a.length;b++){let v=a[b];if(c===0){if(v===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(u,b)),u=b+i;continue}if(v==="/"){d=b;continue}}v==="["?c++:v==="]"&&c--}const p=l.length===0?a:a.substring(u),f=p.startsWith(Xj),y=f?p.substring(1):p,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:y,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},wq=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},xq=t=>({cache:vq(t.cacheSize),parseClassName:yq(t),...hq(t)}),bq=/\s+/,_q=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(bq);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:f}=n(c);let y=!!f,g=r(y?p.substring(0,f):p);if(!g){if(!y){a=c+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=c+(a.length>0?" "+a:a);continue}y=!1}const b=wq(u).join(":"),v=d?b+Xj:b,w=v+g;if(i.includes(w))continue;i.push(w);const _=s(g,y);for(let T=0;T<_.length;++T){const C=_[T];i.push(v+C)}a=c+(a.length>0?" "+a:a)}return a};function Sq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Qj(e))&&(r&&(r+=" "),r+=n);return r}const Qj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Qj(t[r]))&&(n&&(n+=" "),n+=e);return n};function Nq(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=xq(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=_q(l,n);return s(l,u),u}return function(){return i(Sq.apply(null,arguments))}}const xn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Jj=/^\[(?:([a-z-]+):)?(.+)\]$/i,kq=/^\d+\/\d+$/,Cq=new Set(["px","full","screen"]),Aq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Eq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Da=t=>Fh(t)||Cq.has(t)||kq.test(t),Rl=t=>Vf(t,"length",Vq),Fh=t=>!!t&&!Number.isNaN(Number(t)),Ux=t=>Vf(t,"number",Fh),Vp=t=>!!t&&Number.isInteger(Number(t)),Lq=t=>t.endsWith("%")&&Fh(t.slice(0,-1)),Pt=t=>Jj.test(t),Ml=t=>Aq.test(t),Rq=new Set(["length","size","percentage"]),Mq=t=>Vf(t,Rq,e8),Dq=t=>Vf(t,"position",e8),Oq=new Set(["image","url"]),Iq=t=>Vf(t,Oq,Bq),Fq=t=>Vf(t,"",zq),zp=()=>!0,Vf=(t,e,n)=>{const r=Jj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Vq=t=>Tq.test(t)&&!Pq.test(t),e8=()=>!1,zq=t=>Eq.test(t),Bq=t=>jq.test(t),qq=()=>{const t=xn("colors"),e=xn("spacing"),n=xn("blur"),r=xn("brightness"),s=xn("borderColor"),i=xn("borderRadius"),o=xn("borderSpacing"),a=xn("borderWidth"),l=xn("contrast"),c=xn("grayscale"),u=xn("hueRotate"),d=xn("invert"),p=xn("gap"),f=xn("gradientColorStops"),y=xn("gradientColorStopPositions"),g=xn("inset"),b=xn("margin"),v=xn("opacity"),w=xn("padding"),_=xn("saturate"),T=xn("scale"),C=xn("sepia"),R=xn("skew"),E=xn("space"),A=xn("translate"),D=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Pt,e],P=()=>[Pt,e],U=()=>["",Da,Rl],z=()=>["auto",Fh,Pt],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",Pt],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Fh,Pt];return{cacheSize:500,separator:":",theme:{colors:[zp],spacing:[Da,Rl],blur:["none","",Ml,Pt],brightness:X(),borderColor:[t],borderRadius:["none","","full",Ml,Pt],borderSpacing:P(),borderWidth:U(),contrast:X(),grayscale:J(),hueRotate:X(),invert:J(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[Lq,Rl],inset:L(),margin:L(),opacity:X(),padding:P(),saturate:X(),scale:X(),sepia:J(),skew:X(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Pt]}],container:["container"],columns:[{columns:[Ml]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Pt]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vp,Pt]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pt]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Vp,Pt]}],"grid-cols":[{"grid-cols":[zp]}],"col-start-end":[{col:["auto",{span:["full",Vp,Pt]},Pt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[zp]}],"row-start-end":[{row:["auto",{span:[Vp,Pt]},Pt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pt,e]}],"min-w":[{"min-w":[Pt,e,"min","max","fit"]}],"max-w":[{"max-w":[Pt,e,"none","full","min","max","fit","prose",{screen:[Ml]},Ml]}],h:[{h:[Pt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ml,Rl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ux]}],"font-family":[{font:[zp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pt]}],"line-clamp":[{"line-clamp":["none",Fh,Ux]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Da,Pt]}],"list-image":[{"list-image":["none",Pt]}],"list-style-type":[{list:["none","disc","decimal",Pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Da,Rl]}],"underline-offset":[{"underline-offset":["auto",Da,Pt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),Dq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Mq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Iq]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Da,Pt]}],"outline-w":[{outline:[Da,Rl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Da,Rl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ml,Fq]}],"shadow-color":[{shadow:[zp]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ml,Pt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pt]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Pt]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Vp,Pt]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Da,Rl,Ux]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Uq=Nq(qq);function rt(...t){return Uq(qj(t))}const Wq=LB,t8=N.forwardRef(({className:t,...e},n)=>h.jsx(Dj,{ref:n,className:rt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));t8.displayName=Dj.displayName;const $q=Pg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),n8=N.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(Oj,{ref:r,className:rt($q({variant:e}),t),...n}));n8.displayName=Oj.displayName;const Hq=N.forwardRef(({className:t,...e},n)=>h.jsx(Vj,{ref:n,className:rt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Hq.displayName=Vj.displayName;const r8=N.forwardRef(({className:t,...e},n)=>h.jsx(zj,{ref:n,className:rt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(u2,{className:"h-4 w-4"})}));r8.displayName=zj.displayName;const s8=N.forwardRef(({className:t,...e},n)=>h.jsx(Ij,{ref:n,className:rt("text-sm font-semibold",t),...e}));s8.displayName=Ij.displayName;const i8=N.forwardRef(({className:t,...e},n)=>h.jsx(Fj,{ref:n,className:rt("text-sm opacity-90",t),...e}));i8.displayName=Fj.displayName;function o8(){const{toasts:t}=zr();return h.jsxs(Wq,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(n8,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(s8,{children:n}),r&&h.jsx(i8,{children:r})]}),s,h.jsx(r8,{})]},e)}),h.jsx(t8,{})]})}var Gq=JP[" useId ".trim().toString()]||(()=>{}),Yq=0;function ji(t){const[e,n]=N.useState(Gq());return fr(()=>{n(r=>r??String(Yq++))},[t]),e?`radix-${e}`:""}const Kq=["top","right","bottom","left"],Ac=Math.min,Js=Math.max,qv=Math.round,w1=Math.floor,ra=t=>({x:t,y:t}),Zq={left:"right",right:"left",bottom:"top",top:"bottom"},Xq={start:"end",end:"start"};function Mb(t,e,n){return Js(t,Ac(e,n))}function cl(t,e){return typeof t=="function"?t(e):t}function ul(t){return t.split("-")[0]}function zf(t){return t.split("-")[1]}function o4(t){return t==="x"?"y":"x"}function a4(t){return t==="y"?"height":"width"}function Tc(t){return["top","bottom"].includes(ul(t))?"y":"x"}function l4(t){return o4(Tc(t))}function Qq(t,e,n){n===void 0&&(n=!1);const r=zf(t),s=l4(t),i=a4(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Uv(o)),[o,Uv(o)]}function Jq(t){const e=Uv(t);return[Db(t),e,Db(e)]}function Db(t){return t.replace(/start|end/g,e=>Xq[e])}function eU(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function tU(t,e,n,r){const s=zf(t);let i=eU(ul(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Db)))),i}function Uv(t){return t.replace(/left|right|bottom|top/g,e=>Zq[e])}function nU(t){return{top:0,right:0,bottom:0,left:0,...t}}function a8(t){return typeof t!="number"?nU(t):{top:t,right:t,bottom:t,left:t}}function Wv(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function SC(t,e,n){let{reference:r,floating:s}=t;const i=Tc(e),o=l4(e),a=a4(o),l=ul(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-s.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-s.width,y:d};break;default:f={x:r.x,y:r.y}}switch(zf(e)){case"start":f[o]-=p*(n&&c?-1:1);break;case"end":f[o]+=p*(n&&c?-1:1);break}return f}const rU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=SC(c,r,l),p=r,f={},y=0;for(let g=0;g<a.length;g++){const{name:b,fn:v}=a[g],{x:w,y:_,data:T,reset:C}=await v({x:u,y:d,initialPlacement:r,placement:p,strategy:s,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=w??u,d=_??d,f={...f,[b]:{...f[b],...T}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:u,y:d}=SC(c,p,l)),g=-1)}return{x:u,y:d,placement:p,strategy:s,middlewareData:f}};async function Vm(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=cl(e,t),y=a8(f),b=a[p?d==="floating"?"reference":"floating":d],v=Wv(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),T=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},C=Wv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:_,strategy:l}):w);return{top:(v.top-C.top+y.top)/T.y,bottom:(C.bottom-v.bottom+y.bottom)/T.y,left:(v.left-C.left+y.left)/T.x,right:(C.right-v.right+y.right)/T.x}}const sU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=cl(t,e)||{};if(c==null)return{};const d=a8(u),p={x:n,y:r},f=l4(s),y=a4(f),g=await o.getDimensions(c),b=f==="y",v=b?"top":"left",w=b?"bottom":"right",_=b?"clientHeight":"clientWidth",T=i.reference[y]+i.reference[f]-p[f]-i.floating[y],C=p[f]-i.reference[f],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=R?R[_]:0;(!E||!await(o.isElement==null?void 0:o.isElement(R)))&&(E=a.floating[_]||i.floating[y]);const A=T/2-C/2,D=E/2-g[y]/2-1,H=Ac(d[v],D),L=Ac(d[w],D),P=H,U=E-g[y]-L,z=E/2-g[y]/2+A,Y=Mb(P,z,U),O=!l.arrow&&zf(s)!=null&&z!==Y&&i.reference[y]/2-(z<P?H:L)-g[y]/2<0,$=O?z<P?z-P:z-U:0;return{[f]:p[f]+$,data:{[f]:Y,centerOffset:z-Y-$,...O&&{alignmentOffset:$}},reset:O}}}),iU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...b}=cl(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=ul(s),w=Tc(a),_=ul(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=p||(_||!g?[Uv(a)]:Jq(a)),R=y!=="none";!p&&R&&C.push(...tU(a,g,y,T));const E=[a,...C],A=await Vm(e,b),D=[];let H=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&D.push(A[v]),d){const z=Qq(s,o,T);D.push(A[z[0]],A[z[1]])}if(H=[...H,{placement:s,overflows:D}],!D.every(z=>z<=0)){var L,P;const z=(((L=i.flip)==null?void 0:L.index)||0)+1,Y=E[z];if(Y)return{data:{index:z,overflows:H},reset:{placement:Y}};let O=(P=H.filter($=>$.overflows[0]<=0).sort(($,B)=>$.overflows[1]-B.overflows[1])[0])==null?void 0:P.placement;if(!O)switch(f){case"bestFit":{var U;const $=(U=H.filter(B=>{if(R){const J=Tc(B.placement);return J===w||J==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(J=>J>0).reduce((J,re)=>J+re,0)]).sort((B,J)=>B[1]-J[1])[0])==null?void 0:U[0];$&&(O=$);break}case"initialPlacement":O=a;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function NC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function kC(t){return Kq.some(e=>t[e]>=0)}const oU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=cl(t,e);switch(r){case"referenceHidden":{const i=await Vm(e,{...s,elementContext:"reference"}),o=NC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kC(o)}}}case"escaped":{const i=await Vm(e,{...s,altBoundary:!0}),o=NC(i,n.floating);return{data:{escapedOffsets:o,escaped:kC(o)}}}default:return{}}}}};async function aU(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ul(n),a=zf(n),l=Tc(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,d=cl(e,t);let{mainAxis:p,crossAxis:f,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof y=="number"&&(f=a==="end"?y*-1:y),l?{x:f*u,y:p*c}:{x:p*c,y:f*u}}const lU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await aU(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},cU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:v,y:w}=b;return{x:v,y:w}}},...l}=cl(t,e),c={x:n,y:r},u=await Vm(e,l),d=Tc(ul(s)),p=o4(d);let f=c[p],y=c[d];if(i){const b=p==="y"?"top":"left",v=p==="y"?"bottom":"right",w=f+u[b],_=f-u[v];f=Mb(w,f,_)}if(o){const b=d==="y"?"top":"left",v=d==="y"?"bottom":"right",w=y+u[b],_=y-u[v];y=Mb(w,y,_)}const g=a.fn({...e,[p]:f,[d]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[d]:o}}}}}},uU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=cl(t,e),u={x:n,y:r},d=Tc(s),p=o4(d);let f=u[p],y=u[d];const g=cl(a,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const _=p==="y"?"height":"width",T=i.reference[p]-i.floating[_]+b.mainAxis,C=i.reference[p]+i.reference[_]-b.mainAxis;f<T?f=T:f>C&&(f=C)}if(c){var v,w;const _=p==="y"?"width":"height",T=["top","left"].includes(ul(s)),C=i.reference[d]-i.floating[_]+(T&&((v=o.offset)==null?void 0:v[d])||0)+(T?0:b.crossAxis),R=i.reference[d]+i.reference[_]+(T?0:((w=o.offset)==null?void 0:w[d])||0)-(T?b.crossAxis:0);y<C?y=C:y>R&&(y=R)}return{[p]:f,[d]:y}}}},dU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=cl(t,e),u=await Vm(e,c),d=ul(s),p=zf(s),f=Tc(s)==="y",{width:y,height:g}=i.floating;let b,v;d==="top"||d==="bottom"?(b=d,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,b=p==="end"?"top":"bottom");const w=g-u.top-u.bottom,_=y-u.left-u.right,T=Ac(g-u[b],w),C=Ac(y-u[v],_),R=!e.middlewareData.shift;let E=T,A=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=w),R&&!p){const H=Js(u.left,0),L=Js(u.right,0),P=Js(u.top,0),U=Js(u.bottom,0);f?A=y-2*(H!==0||L!==0?H+L:Js(u.left,u.right)):E=g-2*(P!==0||U!==0?P+U:Js(u.top,u.bottom))}await l({...e,availableWidth:A,availableHeight:E});const D=await o.getDimensions(a.floating);return y!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function d2(){return typeof window<"u"}function Bf(t){return l8(t)?(t.nodeName||"").toLowerCase():"#document"}function ii(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wa(t){var e;return(e=(l8(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function l8(t){return d2()?t instanceof Node||t instanceof ii(t).Node:!1}function yo(t){return d2()?t instanceof Element||t instanceof ii(t).Element:!1}function ha(t){return d2()?t instanceof HTMLElement||t instanceof ii(t).HTMLElement:!1}function CC(t){return!d2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ii(t).ShadowRoot}function Eg(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=wo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function hU(t){return["table","td","th"].includes(Bf(t))}function h2(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function c4(t){const e=u4(),n=yo(t)?wo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function fU(t){let e=Pc(t);for(;ha(e)&&!bf(e);){if(c4(e))return e;if(h2(e))return null;e=Pc(e)}return null}function u4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bf(t){return["html","body","#document"].includes(Bf(t))}function wo(t){return ii(t).getComputedStyle(t)}function f2(t){return yo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pc(t){if(Bf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||CC(t)&&t.host||wa(t);return CC(e)?e.host:e}function c8(t){const e=Pc(t);return bf(e)?t.ownerDocument?t.ownerDocument.body:t.body:ha(e)&&Eg(e)?e:c8(e)}function zm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=c8(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=ii(s);if(i){const a=Ob(o);return e.concat(o,o.visualViewport||[],Eg(s)?s:[],a&&n?zm(a):[])}return e.concat(s,zm(s,[],n))}function Ob(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function u8(t){const e=wo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ha(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=qv(n)!==i||qv(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function d4(t){return yo(t)?t:t.contextElement}function Vh(t){const e=d4(t);if(!ha(e))return ra(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=u8(e);let o=(i?qv(n.width):n.width)/r,a=(i?qv(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const pU=ra(0);function d8(t){const e=ii(t);return!u4()||!e.visualViewport?pU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ii(t)?!1:e}function Xu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=d4(t);let o=ra(1);e&&(r?yo(r)&&(o=Vh(r)):o=Vh(t));const a=mU(i,n,r)?d8(i):ra(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const p=ii(i),f=r&&yo(r)?ii(r):r;let y=p,g=Ob(y);for(;g&&r&&f!==y;){const b=Vh(g),v=g.getBoundingClientRect(),w=wo(g),_=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*b.x,T=v.top+(g.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,d*=b.y,l+=_,c+=T,y=ii(g),g=Ob(y)}}return Wv({width:u,height:d,x:l,y:c})}function h4(t,e){const n=f2(t).scrollLeft;return e?e.left+n:Xu(wa(t)).left+n}function h8(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:h4(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function gU(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=wa(r),a=e?h2(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ra(1);const u=ra(0),d=ha(r);if((d||!d&&!i)&&((Bf(r)!=="body"||Eg(o))&&(l=f2(r)),ha(r))){const f=Xu(r);c=Vh(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const p=o&&!d&&!i?h8(o,l,!0):ra(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function vU(t){return Array.from(t.getClientRects())}function yU(t){const e=wa(t),n=f2(t),r=t.ownerDocument.body,s=Js(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Js(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+h4(t);const a=-n.scrollTop;return wo(r).direction==="rtl"&&(o+=Js(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function wU(t,e){const n=ii(t),r=wa(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=u4();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function xU(t,e){const n=Xu(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ha(t)?Vh(t):ra(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function AC(t,e,n){let r;if(e==="viewport")r=wU(t,n);else if(e==="document")r=yU(wa(t));else if(yo(e))r=xU(e,n);else{const s=d8(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Wv(r)}function f8(t,e){const n=Pc(t);return n===e||!yo(n)||bf(n)?!1:wo(n).position==="fixed"||f8(n,e)}function bU(t,e){const n=e.get(t);if(n)return n;let r=zm(t,[],!1).filter(a=>yo(a)&&Bf(a)!=="body"),s=null;const i=wo(t).position==="fixed";let o=i?Pc(t):t;for(;yo(o)&&!bf(o);){const a=wo(o),l=c4(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Eg(o)&&!l&&f8(t,o))?r=r.filter(u=>u!==o):s=a,o=Pc(o)}return e.set(t,r),r}function _U(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?h2(e)?[]:bU(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=AC(e,u,s);return c.top=Js(d.top,c.top),c.right=Ac(d.right,c.right),c.bottom=Ac(d.bottom,c.bottom),c.left=Js(d.left,c.left),c},AC(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function SU(t){const{width:e,height:n}=u8(t);return{width:e,height:n}}function NU(t,e,n){const r=ha(e),s=wa(e),i=n==="fixed",o=Xu(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ra(0);if(r||!r&&!i)if((Bf(e)!=="body"||Eg(s))&&(a=f2(e)),r){const p=Xu(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=h4(s));const c=s&&!r&&!i?h8(s,a):ra(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function Wx(t){return wo(t).position==="static"}function TC(t,e){if(!ha(t)||wo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return wa(t)===n&&(n=n.ownerDocument.body),n}function p8(t,e){const n=ii(t);if(h2(t))return n;if(!ha(t)){let s=Pc(t);for(;s&&!bf(s);){if(yo(s)&&!Wx(s))return s;s=Pc(s)}return n}let r=TC(t,e);for(;r&&hU(r)&&Wx(r);)r=TC(r,e);return r&&bf(r)&&Wx(r)&&!c4(r)?n:r||fU(t)||n}const kU=async function(t){const e=this.getOffsetParent||p8,n=this.getDimensions,r=await n(t.floating);return{reference:NU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CU(t){return wo(t).direction==="rtl"}const AU={convertOffsetParentRelativeRectToViewportRelativeRect:gU,getDocumentElement:wa,getClippingRect:_U,getOffsetParent:p8,getElementRects:kU,getClientRects:vU,getDimensions:SU,getScale:Vh,isElement:yo,isRTL:CU};function m8(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function TU(t,e){let n=null,r;const s=wa(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:p,height:f}=c;if(a||e(),!p||!f)return;const y=w1(d),g=w1(s.clientWidth-(u+p)),b=w1(s.clientHeight-(d+f)),v=w1(u),_={rootMargin:-y+"px "+-g+"px "+-b+"px "+-v+"px",threshold:Js(0,Ac(1,l))||1};let T=!0;function C(R){const E=R[0].intersectionRatio;if(E!==l){if(!T)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!m8(c,t.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(C,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,_)}n.observe(t)}return o(!0),i}function PU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=d4(t),u=s||i?[...c?zm(c):[],...zm(e)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=c&&a?TU(c,n):null;let p=-1,f=null;o&&(f=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let y,g=l?Xu(t):null;l&&b();function b(){const v=Xu(t);g&&!m8(g,v)&&n(),g=v,y=requestAnimationFrame(b)}return n(),()=>{var v;u.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),d==null||d(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(y)}}const EU=lU,jU=cU,LU=iU,RU=dU,MU=oU,PC=sU,DU=uU,OU=(t,e,n)=>{const r=new Map,s={platform:AU,...n},i={...s.platform,_c:r};return rU(t,e,{...s,platform:i})};var ev=typeof document<"u"?N.useLayoutEffect:N.useEffect;function $v(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!$v(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!$v(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function g8(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function EC(t,e){const n=g8(t);return Math.round(e*n)/n}function $x(t){const e=N.useRef(t);return ev(()=>{e.current=t}),e}function IU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=N.useState(r);$v(p,r)||f(r);const[y,g]=N.useState(null),[b,v]=N.useState(null),w=N.useCallback(B=>{B!==R.current&&(R.current=B,g(B))},[]),_=N.useCallback(B=>{B!==E.current&&(E.current=B,v(B))},[]),T=i||y,C=o||b,R=N.useRef(null),E=N.useRef(null),A=N.useRef(u),D=l!=null,H=$x(l),L=$x(s),P=$x(c),U=N.useCallback(()=>{if(!R.current||!E.current)return;const B={placement:e,strategy:n,middleware:p};L.current&&(B.platform=L.current),OU(R.current,E.current,B).then(J=>{const re={...J,isPositioned:P.current!==!1};z.current&&!$v(A.current,re)&&(A.current=re,fd.flushSync(()=>{d(re)}))})},[p,e,n,L,P]);ev(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(B=>({...B,isPositioned:!1})))},[c]);const z=N.useRef(!1);ev(()=>(z.current=!0,()=>{z.current=!1}),[]),ev(()=>{if(T&&(R.current=T),C&&(E.current=C),T&&C){if(H.current)return H.current(T,C,U);U()}},[T,C,U,H,D]);const Y=N.useMemo(()=>({reference:R,floating:E,setReference:w,setFloating:_}),[w,_]),O=N.useMemo(()=>({reference:T,floating:C}),[T,C]),$=N.useMemo(()=>{const B={position:n,left:0,top:0};if(!O.floating)return B;const J=EC(O.floating,u.x),re=EC(O.floating,u.y);return a?{...B,transform:"translate("+J+"px, "+re+"px)",...g8(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:re}},[n,a,O.floating,u.x,u.y]);return N.useMemo(()=>({...u,update:U,refs:Y,elements:O,floatingStyles:$}),[u,U,Y,O,$])}const FU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?PC({element:r.current,padding:s}).fn(n):{}:r?PC({element:r,padding:s}).fn(n):{}}}},VU=(t,e)=>({...EU(t),options:[t,e]}),zU=(t,e)=>({...jU(t),options:[t,e]}),BU=(t,e)=>({...DU(t),options:[t,e]}),qU=(t,e)=>({...LU(t),options:[t,e]}),UU=(t,e)=>({...RU(t),options:[t,e]}),WU=(t,e)=>({...MU(t),options:[t,e]}),$U=(t,e)=>({...FU(t),options:[t,e]});var HU="Arrow",v8=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(lt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});v8.displayName=HU;var GU=v8;function p2(t){const[e,n]=N.useState(void 0);return fr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var f4="Popper",[y8,Wc]=Br(f4),[YU,w8]=y8(f4),x8=t=>{const{__scopePopper:e,children:n}=t,[r,s]=N.useState(null);return h.jsx(YU,{scope:e,anchor:r,onAnchorChange:s,children:n})};x8.displayName=f4;var b8="PopperAnchor",_8=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=w8(b8,n),o=N.useRef(null),a=Dt(e,o);return N.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(lt.div,{...s,ref:a})});_8.displayName=b8;var p4="PopperContent",[KU,ZU]=y8(p4),S8=N.forwardRef((t,e)=>{var oe,ae,pe,_e,be,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:y,...g}=t,b=w8(p4,n),[v,w]=N.useState(null),_=Dt(e,Fe=>w(Fe)),[T,C]=N.useState(null),R=p2(T),E=(R==null?void 0:R.width)??0,A=(R==null?void 0:R.height)??0,D=r+(i!=="center"?"-"+i:""),H=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(c)?c:[c],P=L.length>0,U={padding:H,boundary:L.filter(QU),altBoundary:P},{refs:z,floatingStyles:Y,placement:O,isPositioned:$,middlewareData:B}=IU({strategy:"fixed",placement:D,whileElementsMounted:(...Fe)=>PU(...Fe,{animationFrame:f==="always"}),elements:{reference:b.anchor},middleware:[VU({mainAxis:s+A,alignmentAxis:o}),l&&zU({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?BU():void 0,...U}),l&&qU({...U}),UU({...U,apply:({elements:Fe,rects:et,availableWidth:de,availableHeight:Q})=>{const{width:Ge,height:qe}=et.reference,Se=Fe.floating.style;Se.setProperty("--radix-popper-available-width",`${de}px`),Se.setProperty("--radix-popper-available-height",`${Q}px`),Se.setProperty("--radix-popper-anchor-width",`${Ge}px`),Se.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),T&&$U({element:T,padding:a}),JU({arrowWidth:E,arrowHeight:A}),p&&WU({strategy:"referenceHidden",...U})]}),[J,re]=C8(O),X=bs(y);fr(()=>{$&&(X==null||X())},[$,X]);const M=(oe=B.arrow)==null?void 0:oe.x,F=(ae=B.arrow)==null?void 0:ae.y,K=((pe=B.arrow)==null?void 0:pe.centerOffset)!==0,[ee,se]=N.useState();return fr(()=>{v&&se(window.getComputedStyle(v).zIndex)},[v]),h.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:$?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(_e=B.transformOrigin)==null?void 0:_e.x,(be=B.transformOrigin)==null?void 0:be.y].join(" "),...((Ce=B.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(KU,{scope:n,placedSide:J,onArrowChange:C,arrowX:M,arrowY:F,shouldHideArrow:K,children:h.jsx(lt.div,{"data-side":J,"data-align":re,...g,ref:_,style:{...g.style,animation:$?void 0:"none"}})})})});S8.displayName=p4;var N8="PopperArrow",XU={top:"bottom",right:"left",bottom:"top",left:"right"},k8=N.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=ZU(N8,r),o=XU[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(GU,{...s,ref:n,style:{...s.style,display:"block"}})})});k8.displayName=N8;function QU(t){return t!==null}var JU=t=>({name:"transformOrigin",options:t,fn(e){var b,v,w;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=C8(n),d={start:"0%",center:"50%",end:"100%"}[u],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,f=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let y="",g="";return c==="bottom"?(y=o?d:`${p}px`,g=`${-l}px`):c==="top"?(y=o?d:`${p}px`,g=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,g=o?d:`${f}px`):c==="left"&&(y=`${r.floating.width+l}px`,g=o?d:`${f}px`),{data:{x:y,y:g}}}});function C8(t){const[e,n="center"]=t.split("-");return[e,n]}var m2=x8,jg=_8,g2=S8,v2=k8,[y2,$de]=Br("Tooltip",[Wc]),w2=Wc(),A8="TooltipProvider",eW=700,Ib="tooltip.open",[tW,m4]=y2(A8),T8=t=>{const{__scopeTooltip:e,delayDuration:n=eW,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=N.useRef(!0),a=N.useRef(!1),l=N.useRef(0);return N.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),h.jsx(tW,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:N.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};T8.displayName=A8;var x2="Tooltip",[nW,b2]=y2(x2),P8=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=m4(x2,t.__scopeTooltip),c=w2(e),[u,d]=N.useState(null),p=ji(),f=N.useRef(0),y=o??l.disableHoverableContent,g=a??l.delayDuration,b=N.useRef(!1),[v=!1,w]=_s({prop:r,defaultProp:s,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(Ib))):l.onClose(),i==null||i(E)}}),_=N.useMemo(()=>v?b.current?"delayed-open":"instant-open":"closed",[v]),T=N.useCallback(()=>{window.clearTimeout(f.current),f.current=0,b.current=!1,w(!0)},[w]),C=N.useCallback(()=>{window.clearTimeout(f.current),f.current=0,w(!1)},[w]),R=N.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{b.current=!0,w(!0),f.current=0},g)},[g,w]);return N.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),h.jsx(m2,{...c,children:h.jsx(nW,{scope:e,contentId:p,open:v,stateAttribute:_,trigger:u,onTriggerChange:d,onTriggerEnter:N.useCallback(()=>{l.isOpenDelayedRef.current?R():T()},[l.isOpenDelayedRef,R,T]),onTriggerLeave:N.useCallback(()=>{y?C():(window.clearTimeout(f.current),f.current=0)},[C,y]),onOpen:T,onClose:C,disableHoverableContent:y,children:n})})};P8.displayName=x2;var Fb="TooltipTrigger",E8=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=b2(Fb,n),i=m4(Fb,n),o=w2(n),a=N.useRef(null),l=Dt(e,a,s.onTriggerChange),c=N.useRef(!1),u=N.useRef(!1),d=N.useCallback(()=>c.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),h.jsx(jg,{asChild:!0,...o,children:h.jsx(lt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Ke(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ke(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Ke(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ke(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ke(t.onBlur,s.onClose),onClick:Ke(t.onClick,s.onClose)})})});E8.displayName=Fb;var rW="TooltipPortal",[Hde,sW]=y2(rW,{forceMount:void 0}),_f="TooltipContent",j8=N.forwardRef((t,e)=>{const n=sW(_f,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=b2(_f,t.__scopeTooltip);return h.jsx(Ii,{present:r||o.open,children:o.disableHoverableContent?h.jsx(L8,{side:s,...i,ref:e}):h.jsx(iW,{side:s,...i,ref:e})})}),iW=N.forwardRef((t,e)=>{const n=b2(_f,t.__scopeTooltip),r=m4(_f,t.__scopeTooltip),s=N.useRef(null),i=Dt(e,s),[o,a]=N.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,p=N.useCallback(()=>{a(null),d(!1)},[d]),f=N.useCallback((y,g)=>{const b=y.currentTarget,v={x:y.clientX,y:y.clientY},w=uW(v,b.getBoundingClientRect()),_=dW(v,w),T=hW(g.getBoundingClientRect()),C=pW([..._,...T]);a(C),d(!0)},[d]);return N.useEffect(()=>()=>p(),[p]),N.useEffect(()=>{if(l&&u){const y=b=>f(b,u),g=b=>f(b,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",g)}}},[l,u,f,p]),N.useEffect(()=>{if(o){const y=g=>{const b=g.target,v={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(b))||(u==null?void 0:u.contains(b)),_=!fW(v,o);w?p():_&&(p(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,o,c,p]),h.jsx(L8,{...t,ref:i})}),[oW,aW]=y2(x2,{isInside:!1}),lW=Yz("TooltipContent"),L8=N.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=b2(_f,n),c=w2(n),{onClose:u}=l;return N.useEffect(()=>(document.addEventListener(Ib,u),()=>document.removeEventListener(Ib,u)),[u]),N.useEffect(()=>{if(l.trigger){const d=p=>{const f=p.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),h.jsx(pd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:h.jsxs(g2,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(lW,{children:r}),h.jsx(oW,{scope:n,isInside:!0,children:h.jsx(pB,{id:l.contentId,role:"tooltip",children:s||r})})]})})});j8.displayName=_f;var R8="TooltipArrow",cW=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=w2(n);return aW(R8,n).isInside?null:h.jsx(v2,{...s,...r,ref:e})});cW.displayName=R8;function uW(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function dW(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function hW(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function fW(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function pW(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mW(e)}function mW(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var gW=T8,vW=P8,yW=E8,M8=j8;const Vu=gW,zh=vW,Bh=yW,zu=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(M8,{ref:r,sideOffset:e,className:rt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));zu.displayName=M8.displayName;var qf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qu=typeof window>"u"||"Deno"in globalThis;function Ni(){}function wW(t,e){return typeof t=="function"?t(e):t}function Vb(t){return typeof t=="number"&&t>=0&&t!==1/0}function D8(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qh(t,e){return typeof t=="function"?t(e):t}function io(t,e){return typeof t=="function"?t(e):t}function jC(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==g4(o,e.options))return!1}else if(!Bm(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function LC(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ju(e.options.mutationKey)!==Ju(i))return!1}else if(!Bm(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function g4(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ju)(t)}function Ju(t){return JSON.stringify(t,(e,n)=>zb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Bm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Bm(t[n],e[n])):!1}function O8(t,e){if(t===e)return t;const n=RC(t)&&RC(e);if(n||zb(t)&&zb(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=O8(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Hv(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function RC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function zb(t){if(!MC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!MC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function MC(t){return Object.prototype.toString.call(t)==="[object Object]"}function xW(t){return new Promise(e=>{setTimeout(e,t)})}function Bb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?O8(t,e):e}function bW(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function _W(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var v4=Symbol();function I8(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===v4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Eu,Ql,Qh,RP,SW=(RP=class extends qf{constructor(){super();pt(this,Eu);pt(this,Ql);pt(this,Qh);Qe(this,Qh,e=>{if(!Qu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,Ql)||this.setEventListener(ue(this,Qh))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,Ql))==null||e.call(this),Qe(this,Ql,void 0))}setEventListener(e){var n;Qe(this,Qh,e),(n=ue(this,Ql))==null||n.call(this),Qe(this,Ql,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ue(this,Eu)!==e&&(Qe(this,Eu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ue(this,Eu)=="boolean"?ue(this,Eu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Eu=new WeakMap,Ql=new WeakMap,Qh=new WeakMap,RP),y4=new SW,Jh,Jl,ef,MP,NW=(MP=class extends qf{constructor(){super();pt(this,Jh,!0);pt(this,Jl);pt(this,ef);Qe(this,ef,e=>{if(!Qu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ue(this,Jl)||this.setEventListener(ue(this,ef))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,Jl))==null||e.call(this),Qe(this,Jl,void 0))}setEventListener(e){var n;Qe(this,ef,e),(n=ue(this,Jl))==null||n.call(this),Qe(this,Jl,e(this.setOnline.bind(this)))}setOnline(e){ue(this,Jh)!==e&&(Qe(this,Jh,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ue(this,Jh)}},Jh=new WeakMap,Jl=new WeakMap,ef=new WeakMap,MP),Gv=new NW;function qb(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function kW(t){return Math.min(1e3*2**t,3e4)}function F8(t){return(t??"online")==="online"?Gv.isOnline():!0}var V8=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Hx(t){return t instanceof V8}function z8(t){let e=!1,n=0,r=!1,s;const i=qb(),o=g=>{var b;r||(p(new V8(g)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>y4.isFocused()&&(t.networkMode==="always"||Gv.isOnline())&&t.canRun(),u=()=>F8(t.networkMode)&&t.canRun(),d=g=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,g),s==null||s(),i.resolve(g))},p=g=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,g),s==null||s(),i.reject(g))},f=()=>new Promise(g=>{var b;s=v=>{(r||c())&&g(v)},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(r)return;let g;const b=n===0?t.initialPromise:void 0;try{g=b??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(d).catch(v=>{var R;if(r)return;const w=t.retry??(Qu?0:3),_=t.retryDelay??kW,T=typeof _=="function"?_(n,v):_,C=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(e||!C){p(v);return}n++,(R=t.onFail)==null||R.call(t,n,v),xW(T).then(()=>c()?void 0:f()).then(()=>{e?p(v):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?y():f().then(y),i)}}function CW(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var yr=CW(),ju,DP,B8=(DP=class{constructor(){pt(this,ju)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vb(this.gcTime)&&Qe(this,ju,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qu?1/0:5*60*1e3))}clearGcTimeout(){ue(this,ju)&&(clearTimeout(ue(this,ju)),Qe(this,ju,void 0))}},ju=new WeakMap,DP),tf,nf,Si,Xr,gg,Lu,no,Va,OP,AW=(OP=class extends B8{constructor(e){super();pt(this,no);pt(this,tf);pt(this,nf);pt(this,Si);pt(this,Xr);pt(this,gg);pt(this,Lu);Qe(this,Lu,!1),Qe(this,gg,e.defaultOptions),this.setOptions(e.options),this.observers=[],Qe(this,Si,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Qe(this,tf,TW(this.options)),this.state=e.state??ue(this,tf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ue(this,Xr))==null?void 0:e.promise}setOptions(e){this.options={...ue(this,gg),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,Si).remove(this)}setData(e,n){const r=Bb(this.state.data,e,this.options);return Et(this,no,Va).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Et(this,no,Va).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=ue(this,Xr))==null?void 0:r.promise;return(s=ue(this,Xr))==null||s.cancel(e),n?n.then(Ni).catch(Ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,tf))}isActive(){return this.observers.some(e=>io(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===v4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!D8(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ue(this,Xr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ue(this,Xr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ue(this,Si).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ue(this,Xr)&&(ue(this,Lu)?ue(this,Xr).cancel({revert:!0}):ue(this,Xr).cancelRetry()),this.scheduleGc()),ue(this,Si).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Et(this,no,Va).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Xr))return ue(this,Xr).continueRetry(),ue(this,Xr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Qe(this,Lu,!0),r.signal)})},i=()=>{const d=I8(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),Qe(this,Lu,!1),this.options.persister?this.options.persister(d,p,this):d(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),Qe(this,nf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Et(this,no,Va).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var p,f,y,g;Hx(d)&&d.silent||Et(this,no,Va).call(this,{type:"error",error:d}),Hx(d)||((f=(p=ue(this,Si).config).onError)==null||f.call(p,d,this),(g=(y=ue(this,Si).config).onSettled)==null||g.call(y,this.state.data,d,this)),this.scheduleGc()};return Qe(this,Xr,z8({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var p,f,y,g;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(b){a(b);return}(f=(p=ue(this,Si).config).onSuccess)==null||f.call(p,d,this),(g=(y=ue(this,Si).config).onSettled)==null||g.call(y,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,p)=>{Et(this,no,Va).call(this,{type:"failed",failureCount:d,error:p})},onPause:()=>{Et(this,no,Va).call(this,{type:"pause"})},onContinue:()=>{Et(this,no,Va).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ue(this,Xr).start()}},tf=new WeakMap,nf=new WeakMap,Si=new WeakMap,Xr=new WeakMap,gg=new WeakMap,Lu=new WeakMap,no=new WeakSet,Va=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...q8(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Hx(s)&&s.revert&&ue(this,nf)?{...ue(this,nf),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),yr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ue(this,Si).notify({query:this,type:"updated",action:e})})},OP);function q8(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:F8(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function TW(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wo,IP,PW=(IP=class extends qf{constructor(e={}){super();pt(this,Wo);this.config=e,Qe(this,Wo,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??g4(s,n);let o=this.get(i);return o||(o=new AW({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){ue(this,Wo).has(e.queryHash)||(ue(this,Wo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ue(this,Wo).get(e.queryHash);n&&(e.destroy(),n===e&&ue(this,Wo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ue(this,Wo).get(e)}getAll(){return[...ue(this,Wo).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>jC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>jC(e,r)):n}notify(e){yr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){yr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){yr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wo=new WeakMap,IP),$o,ds,Ru,Ho,Vl,FP,EW=(FP=class extends B8{constructor(e){super();pt(this,Ho);pt(this,$o);pt(this,ds);pt(this,Ru);this.mutationId=e.mutationId,Qe(this,ds,e.mutationCache),Qe(this,$o,[]),this.state=e.state||U8(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ue(this,$o).includes(e)||(ue(this,$o).push(e),this.clearGcTimeout(),ue(this,ds).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Qe(this,$o,ue(this,$o).filter(n=>n!==e)),this.scheduleGc(),ue(this,ds).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ue(this,$o).length||(this.state.status==="pending"?this.scheduleGc():ue(this,ds).remove(this))}continue(){var e;return((e=ue(this,Ru))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,d,p,f,y,g,b,v,w,_,T,C,R,E;Qe(this,Ru,z8({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,D)=>{Et(this,Ho,Vl).call(this,{type:"failed",failureCount:A,error:D})},onPause:()=>{Et(this,Ho,Vl).call(this,{type:"pause"})},onContinue:()=>{Et(this,Ho,Vl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,ds).canRun(this)}));const n=this.state.status==="pending",r=!ue(this,Ru).canStart();try{if(!n){Et(this,Ho,Vl).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=ue(this,ds).config).onMutate)==null?void 0:i.call(s,e,this));const D=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));D!==this.state.context&&Et(this,Ho,Vl).call(this,{type:"pending",context:D,variables:e,isPaused:r})}const A=await ue(this,Ru).start();return await((c=(l=ue(this,ds).config).onSuccess)==null?void 0:c.call(l,A,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,A,e,this.state.context)),await((f=(p=ue(this,ds).config).onSettled)==null?void 0:f.call(p,A,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,A,null,e,this.state.context)),Et(this,Ho,Vl).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(b=ue(this,ds).config).onError)==null?void 0:v.call(b,A,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,A,e,this.state.context)),await((C=(T=ue(this,ds).config).onSettled)==null?void 0:C.call(T,void 0,A,this.state.variables,this.state.context,this)),await((E=(R=this.options).onSettled)==null?void 0:E.call(R,void 0,A,e,this.state.context)),A}finally{Et(this,Ho,Vl).call(this,{type:"error",error:A})}}finally{ue(this,ds).runNext(this)}}},$o=new WeakMap,ds=new WeakMap,Ru=new WeakMap,Ho=new WeakSet,Vl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),yr.batch(()=>{ue(this,$o).forEach(r=>{r.onMutationUpdate(e)}),ue(this,ds).notify({mutation:this,type:"updated",action:e})})},FP);function U8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zs,vg,VP,jW=(VP=class extends qf{constructor(e={}){super();pt(this,Zs);pt(this,vg);this.config=e,Qe(this,Zs,new Map),Qe(this,vg,Date.now())}build(e,n,r){const s=new EW({mutationCache:this,mutationId:++J0(this,vg)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=x1(e),r=ue(this,Zs).get(n)??[];r.push(e),ue(this,Zs).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=x1(e);if(ue(this,Zs).has(n)){const s=(r=ue(this,Zs).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?ue(this,Zs).delete(n):ue(this,Zs).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ue(this,Zs).get(x1(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ue(this,Zs).get(x1(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){yr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ue(this,Zs).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>LC(n,r))}findAll(e={}){return this.getAll().filter(n=>LC(e,n))}notify(e){yr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return yr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ni))))}},Zs=new WeakMap,vg=new WeakMap,VP);function x1(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function DC(t){return{onFetch:(e,n)=>{var u,d,p,f,y;const r=e.options,s=(p=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:p.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=I8(e.options,e.fetchOptions),w=async(_,T,C)=>{if(g)return Promise.reject();if(T==null&&_.pages.length)return Promise.resolve(_);const R={queryKey:e.queryKey,pageParam:T,direction:C?"backward":"forward",meta:e.options.meta};b(R);const E=await v(R),{maxPages:A}=e.options,D=C?_W:bW;return{pages:D(_.pages,E,A),pageParams:D(_.pageParams,T,A)}};if(s&&i.length){const _=s==="backward",T=_?LW:OC,C={pages:i,pageParams:o},R=T(r,C);a=await w(C,R,_)}else{const _=t??i.length;do{const T=l===0?o[0]??r.initialPageParam:OC(r,a);if(l>0&&T==null)break;a=await w(a,T),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function OC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function LW(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var zn,ec,tc,rf,sf,nc,of,af,zP,RW=(zP=class{constructor(t={}){pt(this,zn);pt(this,ec);pt(this,tc);pt(this,rf);pt(this,sf);pt(this,nc);pt(this,of);pt(this,af);Qe(this,zn,t.queryCache||new PW),Qe(this,ec,t.mutationCache||new jW),Qe(this,tc,t.defaultOptions||{}),Qe(this,rf,new Map),Qe(this,sf,new Map),Qe(this,nc,0)}mount(){J0(this,nc)._++,ue(this,nc)===1&&(Qe(this,of,y4.subscribe(async t=>{t&&(await this.resumePausedMutations(),ue(this,zn).onFocus())})),Qe(this,af,Gv.subscribe(async t=>{t&&(await this.resumePausedMutations(),ue(this,zn).onOnline())})))}unmount(){var t,e;J0(this,nc)._--,ue(this,nc)===0&&((t=ue(this,of))==null||t.call(this),Qe(this,of,void 0),(e=ue(this,af))==null||e.call(this),Qe(this,af,void 0))}isFetching(t){return ue(this,zn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ue(this,ec).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ue(this,zn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ue(this,zn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(qh(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ue(this,zn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=ue(this,zn).get(r.queryHash),i=s==null?void 0:s.state.data,o=wW(e,i);if(o!==void 0)return ue(this,zn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return yr.batch(()=>ue(this,zn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ue(this,zn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ue(this,zn);yr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ue(this,zn),r={type:"active",...t};return yr.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=yr.batch(()=>ue(this,zn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Ni).catch(Ni)}invalidateQueries(t={},e={}){return yr.batch(()=>{if(ue(this,zn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=yr.batch(()=>ue(this,zn).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ni)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ni)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ue(this,zn).build(this,e);return n.isStaleByTime(qh(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ni).catch(Ni)}fetchInfiniteQuery(t){return t.behavior=DC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ni).catch(Ni)}ensureInfiniteQueryData(t){return t.behavior=DC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Gv.isOnline()?ue(this,ec).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,zn)}getMutationCache(){return ue(this,ec)}getDefaultOptions(){return ue(this,tc)}setDefaultOptions(t){Qe(this,tc,t)}setQueryDefaults(t,e){ue(this,rf).set(Ju(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ue(this,rf).values()];let n={};return e.forEach(r=>{Bm(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ue(this,sf).set(Ju(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ue(this,sf).values()];let n={};return e.forEach(r=>{Bm(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ue(this,tc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=g4(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===v4&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ue(this,tc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ue(this,zn).clear(),ue(this,ec).clear()}},zn=new WeakMap,ec=new WeakMap,tc=new WeakMap,rf=new WeakMap,sf=new WeakMap,nc=new WeakMap,of=new WeakMap,af=new WeakMap,zP),Ms,Ft,yg,hs,Mu,lf,rc,Go,wg,cf,uf,Du,Ou,sc,df,Xt,Jp,Ub,Wb,$b,Hb,Gb,Yb,Kb,W8,BP,MW=(BP=class extends qf{constructor(e,n){super();pt(this,Xt);pt(this,Ms);pt(this,Ft);pt(this,yg);pt(this,hs);pt(this,Mu);pt(this,lf);pt(this,rc);pt(this,Go);pt(this,wg);pt(this,cf);pt(this,uf);pt(this,Du);pt(this,Ou);pt(this,sc);pt(this,df,new Set);this.options=n,Qe(this,Ms,e),Qe(this,Go,null),Qe(this,rc,qb()),this.options.experimental_prefetchInRender||ue(this,rc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,Ft).addObserver(this),IC(ue(this,Ft),this.options)?Et(this,Xt,Jp).call(this):this.updateResult(),Et(this,Xt,Hb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zb(ue(this,Ft),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zb(ue(this,Ft),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Et(this,Xt,Gb).call(this),Et(this,Xt,Yb).call(this),ue(this,Ft).removeObserver(this)}setOptions(e,n){const r=this.options,s=ue(this,Ft);if(this.options=ue(this,Ms).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof io(this.options.enabled,ue(this,Ft))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Et(this,Xt,Kb).call(this),ue(this,Ft).setOptions(this.options),r._defaulted&&!Hv(this.options,r)&&ue(this,Ms).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,Ft),observer:this});const i=this.hasListeners();i&&FC(ue(this,Ft),s,this.options,r)&&Et(this,Xt,Jp).call(this),this.updateResult(n),i&&(ue(this,Ft)!==s||io(this.options.enabled,ue(this,Ft))!==io(r.enabled,ue(this,Ft))||qh(this.options.staleTime,ue(this,Ft))!==qh(r.staleTime,ue(this,Ft)))&&Et(this,Xt,Ub).call(this);const o=Et(this,Xt,Wb).call(this);i&&(ue(this,Ft)!==s||io(this.options.enabled,ue(this,Ft))!==io(r.enabled,ue(this,Ft))||o!==ue(this,sc))&&Et(this,Xt,$b).call(this,o)}getOptimisticResult(e){const n=ue(this,Ms).getQueryCache().build(ue(this,Ms),e),r=this.createResult(n,e);return OW(this,r)&&(Qe(this,hs,r),Qe(this,lf,this.options),Qe(this,Mu,ue(this,Ft).state)),r}getCurrentResult(){return ue(this,hs)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){ue(this,df).add(e)}getCurrentQuery(){return ue(this,Ft)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=ue(this,Ms).defaultQueryOptions(e),r=ue(this,Ms).getQueryCache().build(ue(this,Ms),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Et(this,Xt,Jp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,hs)))}createResult(e,n){var A;const r=ue(this,Ft),s=this.options,i=ue(this,hs),o=ue(this,Mu),a=ue(this,lf),c=e!==r?e.state:ue(this,yg),{state:u}=e;let d={...u},p=!1,f;if(n._optimisticResults){const D=this.hasListeners(),H=!D&&IC(e,n),L=D&&FC(e,r,n,s);(H||L)&&(d={...d,...q8(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:b}=d;if(n.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&n.select===ue(this,wg))f=ue(this,cf);else try{Qe(this,wg,n.select),f=n.select(d.data),f=Bb(i==null?void 0:i.data,f,n),Qe(this,cf,f),Qe(this,Go,null)}catch(D){Qe(this,Go,D)}else f=d.data;if(n.placeholderData!==void 0&&f===void 0&&b==="pending"){let D;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))D=i.data;else if(D=typeof n.placeholderData=="function"?n.placeholderData((A=ue(this,uf))==null?void 0:A.state.data,ue(this,uf)):n.placeholderData,n.select&&D!==void 0)try{D=n.select(D),Qe(this,Go,null)}catch(H){Qe(this,Go,H)}D!==void 0&&(b="success",f=Bb(i==null?void 0:i.data,D,n),p=!0)}ue(this,Go)&&(y=ue(this,Go),f=ue(this,cf),g=Date.now(),b="error");const v=d.fetchStatus==="fetching",w=b==="pending",_=b==="error",T=w&&v,C=f!==void 0,E={status:b,fetchStatus:d.fetchStatus,isPending:w,isSuccess:b==="success",isError:_,isInitialLoading:T,isLoading:T,data:f,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:_&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&C,isStale:w4(e,n),refetch:this.refetch,promise:ue(this,rc)};if(this.options.experimental_prefetchInRender){const D=P=>{E.status==="error"?P.reject(E.error):E.data!==void 0&&P.resolve(E.data)},H=()=>{const P=Qe(this,rc,E.promise=qb());D(P)},L=ue(this,rc);switch(L.status){case"pending":e.queryHash===r.queryHash&&D(L);break;case"fulfilled":(E.status==="error"||E.data!==L.value)&&H();break;case"rejected":(E.status!=="error"||E.error!==L.reason)&&H();break}}return E}updateResult(e){const n=ue(this,hs),r=this.createResult(ue(this,Ft),this.options);if(Qe(this,Mu,ue(this,Ft).state),Qe(this,lf,this.options),ue(this,Mu).data!==void 0&&Qe(this,uf,ue(this,Ft)),Hv(r,n))return;Qe(this,hs,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!ue(this,df).size)return!0;const l=new Set(a??ue(this,df));return this.options.throwOnError&&l.add("error"),Object.keys(ue(this,hs)).some(c=>{const u=c;return ue(this,hs)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Et(this,Xt,W8).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Et(this,Xt,Hb).call(this)}},Ms=new WeakMap,Ft=new WeakMap,yg=new WeakMap,hs=new WeakMap,Mu=new WeakMap,lf=new WeakMap,rc=new WeakMap,Go=new WeakMap,wg=new WeakMap,cf=new WeakMap,uf=new WeakMap,Du=new WeakMap,Ou=new WeakMap,sc=new WeakMap,df=new WeakMap,Xt=new WeakSet,Jp=function(e){Et(this,Xt,Kb).call(this);let n=ue(this,Ft).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Ni)),n},Ub=function(){Et(this,Xt,Gb).call(this);const e=qh(this.options.staleTime,ue(this,Ft));if(Qu||ue(this,hs).isStale||!Vb(e))return;const r=D8(ue(this,hs).dataUpdatedAt,e)+1;Qe(this,Du,setTimeout(()=>{ue(this,hs).isStale||this.updateResult()},r))},Wb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,Ft)):this.options.refetchInterval)??!1},$b=function(e){Et(this,Xt,Yb).call(this),Qe(this,sc,e),!(Qu||io(this.options.enabled,ue(this,Ft))===!1||!Vb(ue(this,sc))||ue(this,sc)===0)&&Qe(this,Ou,setInterval(()=>{(this.options.refetchIntervalInBackground||y4.isFocused())&&Et(this,Xt,Jp).call(this)},ue(this,sc)))},Hb=function(){Et(this,Xt,Ub).call(this),Et(this,Xt,$b).call(this,Et(this,Xt,Wb).call(this))},Gb=function(){ue(this,Du)&&(clearTimeout(ue(this,Du)),Qe(this,Du,void 0))},Yb=function(){ue(this,Ou)&&(clearInterval(ue(this,Ou)),Qe(this,Ou,void 0))},Kb=function(){const e=ue(this,Ms).getQueryCache().build(ue(this,Ms),this.options);if(e===ue(this,Ft))return;const n=ue(this,Ft);Qe(this,Ft,e),Qe(this,yg,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},W8=function(e){yr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(ue(this,hs))}),ue(this,Ms).getQueryCache().notify({query:ue(this,Ft),type:"observerResultsUpdated"})})},BP);function DW(t,e){return io(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function IC(t,e){return DW(t,e)||t.state.data!==void 0&&Zb(t,e,e.refetchOnMount)}function Zb(t,e,n){if(io(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&w4(t,e)}return!1}function FC(t,e,n,r){return(t!==e||io(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&w4(t,n)}function w4(t,e){return io(e.enabled,t)!==!1&&t.isStaleByTime(qh(e.staleTime,t))}function OW(t,e){return!Hv(t.getCurrentResult(),e)}var ic,oc,Ds,$a,sl,tv,Xb,qP,IW=(qP=class extends qf{constructor(n,r){super();pt(this,sl);pt(this,ic);pt(this,oc);pt(this,Ds);pt(this,$a);Qe(this,ic,n),this.setOptions(r),this.bindMethods(),Et(this,sl,tv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=ue(this,ic).defaultMutationOptions(n),Hv(this.options,r)||ue(this,ic).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,Ds),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ju(r.mutationKey)!==Ju(this.options.mutationKey)?this.reset():((s=ue(this,Ds))==null?void 0:s.state.status)==="pending"&&ue(this,Ds).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,Ds))==null||n.removeObserver(this)}onMutationUpdate(n){Et(this,sl,tv).call(this),Et(this,sl,Xb).call(this,n)}getCurrentResult(){return ue(this,oc)}reset(){var n;(n=ue(this,Ds))==null||n.removeObserver(this),Qe(this,Ds,void 0),Et(this,sl,tv).call(this),Et(this,sl,Xb).call(this)}mutate(n,r){var s;return Qe(this,$a,r),(s=ue(this,Ds))==null||s.removeObserver(this),Qe(this,Ds,ue(this,ic).getMutationCache().build(ue(this,ic),this.options)),ue(this,Ds).addObserver(this),ue(this,Ds).execute(n)}},ic=new WeakMap,oc=new WeakMap,Ds=new WeakMap,$a=new WeakMap,sl=new WeakSet,tv=function(){var r;const n=((r=ue(this,Ds))==null?void 0:r.state)??U8();Qe(this,oc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Xb=function(n){yr.batch(()=>{var r,s,i,o,a,l,c,u;if(ue(this,$a)&&this.hasListeners()){const d=ue(this,oc).variables,p=ue(this,oc).context;(n==null?void 0:n.type)==="success"?((s=(r=ue(this,$a)).onSuccess)==null||s.call(r,n.data,d,p),(o=(i=ue(this,$a)).onSettled)==null||o.call(i,n.data,null,d,p)):(n==null?void 0:n.type)==="error"&&((l=(a=ue(this,$a)).onError)==null||l.call(a,n.error,d,p),(u=(c=ue(this,$a)).onSettled)==null||u.call(c,void 0,n.error,d,p))}this.listeners.forEach(d=>{d(ue(this,oc))})})},qP),$8=N.createContext(void 0),H8=t=>{const e=N.useContext($8);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},FW=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx($8.Provider,{value:t,children:e})),G8=N.createContext(!1),VW=()=>N.useContext(G8);G8.Provider;function zW(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var BW=N.createContext(zW()),qW=()=>N.useContext(BW);function Y8(t,e){return typeof t=="function"?t(...e):!!t}function Qb(){}var UW=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},WW=t=>{N.useEffect(()=>{t.clearReset()},[t])},$W=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Y8(n,[t.error,r]),HW=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},GW=(t,e)=>t.isLoading&&t.isFetching&&!e,YW=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,VC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function KW(t,e,n){var u,d,p,f,y;const r=H8(),s=VW(),i=qW(),o=r.defaultQueryOptions(t);(d=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||d.call(u,o),o._optimisticResults=s?"isRestoring":"optimistic",HW(o),UW(o,i),WW(i);const a=!r.getQueryCache().get(o.queryHash),[l]=N.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(N.useSyncExternalStore(N.useCallback(g=>{const b=s?Qb:l.subscribe(yr.batchCalls(g));return l.updateResult(),b},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),N.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),YW(o,c))throw VC(o,l,i);if($W({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((f=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||f.call(p,o,c),o.experimental_prefetchInRender&&!Qu&&GW(c,s)){const g=a?VC(o,l,i):(y=r.getQueryCache().get(o.queryHash))==null?void 0:y.promise;g==null||g.catch(Qb).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function Uf(t,e){return KW(t,MW)}function mo(t,e){const n=H8(),[r]=N.useState(()=>new IW(n,t));N.useEffect(()=>{r.setOptions(t)},[r,t]);const s=N.useSyncExternalStore(N.useCallback(o=>r.subscribe(yr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=N.useCallback((o,a)=>{r.mutate(o,a).catch(Qb)},[r]);if(s.error&&Y8(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function K8(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Ln(t,e,n){const r=await fetch(e,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await K8(r),r}const Z8=({on401:t})=>async({queryKey:e})=>{try{const n=await fetch(e[0],{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await K8(n),await n.json())}catch(n){throw console.error("Query error:",n),n}},Ya=new RW({defaultOptions:{queries:{queryFn:Z8({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),X8=N.createContext(null);function ZW({children:t}){const{toast:e}=zr(),{data:n,error:r,isLoading:s,refetch:i}=Uf({queryKey:["/api/user"],queryFn:Z8({on401:"returnNull"}),retry:2,retryDelay:1e3});N.useEffect(()=>{console.log("Auth state changed:",{user:(n==null?void 0:n.username)||null,isLoading:s,hasError:!!r}),r&&console.error("Auth error:",r)},[n,s,r]);const o=mo({mutationFn:async c=>(console.log("Tentativo di login per:",c.username),await(await Ln("POST","/api/login",c)).json()),onSuccess:c=>{console.log("Login effettuato con successo:",c.username),Ya.setQueryData(["/api/user"],c),e({title:"Login effettuato",description:`Benvenuto, ${c.username}!`})},onError:c=>{console.error("Errore durante il login:",c),e({title:"Errore di login",description:c.message||"Credenziali non valide",variant:"destructive"})}}),a=mo({mutationFn:async c=>(console.log("Tentativo di registrazione per:",c.username),await(await Ln("POST","/api/register",c)).json()),onSuccess:c=>{console.log("Registrazione completata con successo:",c.username),Ya.setQueryData(["/api/user"],c),e({title:"Registrazione completata",description:`Benvenuto, ${c.username}!`})},onError:c=>{console.error("Errore durante la registrazione:",c),e({title:"Errore di registrazione",description:c.message||"Impossibile creare l'account",variant:"destructive"})}}),l=mo({mutationFn:async()=>{console.log("Tentativo di logout"),await Ln("POST","/api/logout")},onSuccess:()=>{console.log("Logout effettuato con successo"),Ya.setQueryData(["/api/user"],null),e({title:"Logout effettuato",description:"Hai effettuato il logout con successo"})},onError:c=>{console.error("Errore durante il logout:",c),e({title:"Errore di logout",description:c.message,variant:"destructive"}),Ya.setQueryData(["/api/user"],null)}});return h.jsx(X8.Provider,{value:{user:n??null,isLoading:s,error:r,loginMutation:o,logoutMutation:l,registerMutation:a},children:t})}function $c(){const t=N.useContext(X8);if(!t)throw new Error("useAuth deve essere utilizzato all'interno di un AuthProvider");return t}function zC({path:t,component:e}){const{user:n,isLoading:r}=$c();return!n&&!r?h.jsx(zv,{path:t,children:h.jsx(Vz,{to:"/auth"})}):h.jsx(zv,{path:t,children:r?h.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[h.jsx(da,{className:"h-8 w-8 animate-spin text-primary"}),h.jsx("span",{className:"ml-2 text-lg",children:"Caricamento..."})]}):h.jsx(e,{})})}const Lg=N.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:rt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Lg.displayName="Textarea";const XW=Pg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),it=N.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?gj:"button";return h.jsx(o,{className:rt(XW({variant:e,size:n,className:t})),ref:i,...s})});it.displayName="Button";const hr=N.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:rt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));hr.displayName="Card";const Tr=N.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:rt("flex flex-col space-y-1.5 p-6",t),...e}));Tr.displayName="CardHeader";const Pr=N.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:rt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Pr.displayName="CardTitle";const ko=N.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:rt("text-sm text-muted-foreground",t),...e}));ko.displayName="CardDescription";const xr=N.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:rt("p-6 pt-0",t),...e}));xr.displayName="CardContent";const xo=N.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:rt("flex items-center p-6 pt-0",t),...e}));xo.displayName="CardFooter";const QW=Pg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),_2=N.forwardRef(({className:t,variant:e,...n},r)=>h.jsx("div",{ref:r,role:"alert",className:rt(QW({variant:e}),t),...n}));_2.displayName="Alert";const JW=N.forwardRef(({className:t,...e},n)=>h.jsx("h5",{ref:n,className:rt("mb-1 font-medium leading-none tracking-tight",t),...e}));JW.displayName="AlertTitle";const S2=N.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:rt("text-sm [&_p]:leading-relaxed",t),...e}));S2.displayName="AlertDescription";function e$({onTranscription:t,isListening:e,setIsListening:n,disabled:r=!1}){const[s,i]=N.useState(null),[o,a]=N.useState(!0),l=N.useRef(null),c=N.useRef("");N.useEffect(()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){a(!1),i("Il riconoscimento vocale non  supportato dal tuo browser.");return}const p=window.SpeechRecognition||window.webkitSpeechRecognition;return l.current=new p,l.current.continuous=!0,l.current.interimResults=!0,l.current.lang="it-IT",l.current.onstart=()=>{n(!0),i(null)},l.current.onend=()=>{n(!1)},l.current.onresult=f=>{let y="",g=c.current;for(let b=f.resultIndex;b<f.results.length;b++){const v=f.results[b][0].transcript;f.results[b].isFinal?g+=v+" ":y+=v}c.current=g,t(g+y)},l.current.onerror=f=>{i(`Errore nel riconoscimento vocale: ${f.error}`),n(!1)},()=>{l.current&&l.current.stop()}},[t,n]);const u=()=>{var p,f;o&&(e?((p=l.current)==null||p.stop(),n(!1)):(c.current="",(f=l.current)==null||f.start(),n(!0)))},d=()=>{l.current&&e&&(l.current.stop(),n(!1))};return o?h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx(Vu,{children:h.jsxs(zh,{children:[h.jsx(Bh,{asChild:!0,children:h.jsx(it,{onClick:u,variant:e?"destructive":"outline",size:"icon",className:rt(e&&"animate-pulse"),disabled:r,"aria-label":e?"Interrompi registrazione":"Inizia registrazione vocale",children:e?h.jsx(jb,{className:"h-5 w-5"}):h.jsx(jb,{className:"h-5 w-5"})})}),h.jsx(zu,{side:"bottom",children:e?"Interrompi registrazione":"Inizia registrazione vocale"})]})}),e&&h.jsx(Vu,{children:h.jsxs(zh,{children:[h.jsx(Bh,{asChild:!0,children:h.jsx(it,{onClick:d,variant:"outline",size:"icon",disabled:r,"aria-label":"Termina e salva registrazione",children:h.jsx(UB,{className:"h-5 w-5"})})}),h.jsx(zu,{side:"bottom",children:"Termina e salva registrazione"})]})}),e&&h.jsx("span",{className:"text-sm font-medium text-primary animate-pulse",children:"Sto ascoltando..."}),s&&h.jsx("span",{className:"text-xs text-destructive ml-2",children:s})]}):h.jsxs("div",{className:"flex items-center justify-start mb-2",children:[h.jsx(it,{variant:"ghost",size:"icon",disabled:!0,className:"text-muted-foreground",children:h.jsx(XB,{className:"h-5 w-5"})}),h.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:s})]})}function t$({onSubmit:t,onReset:e,loading:n,error:r,currentDream:s,setCurrentDream:i}){const[o,a]=N.useState(!1),l=u=>{u.preventDefault(),s.trim()&&t(s)},c=u=>{i(u)};return h.jsxs(hr,{className:"w-full dark:bg-slate-900/60 light:bg-white/90 backdrop-blur-sm",children:[h.jsx(Tr,{children:h.jsx(Pr,{className:"text-lg font-semibold",children:"Racconta il tuo sogno"})}),h.jsxs("form",{onSubmit:l,children:[h.jsxs(xr,{children:[h.jsx(e$,{onTranscription:c,isListening:o,setIsListening:a,disabled:n}),h.jsx(Lg,{placeholder:"Descrivi il tuo sogno in dettaglio...",className:"min-h-[120px] dark:bg-slate-800/70 light:bg-white/70",value:s,onChange:u=>i(u.target.value),disabled:n}),r&&h.jsx(_2,{variant:"destructive",className:"mt-2",children:h.jsx(S2,{children:r})})]}),h.jsxs(xo,{className:"flex justify-between",children:[h.jsxs(it,{type:"button",variant:"outline",size:"sm",onClick:e,disabled:n||!s,children:[h.jsx(cq,{className:"mr-2 h-4 w-4"}),"Cancella"]}),h.jsx(it,{type:"submit",className:"dark:bg-purple-600 dark:hover:bg-purple-700",disabled:n||!s.trim(),children:n?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Generando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(rq,{className:"mr-2 h-4 w-4"}),"Genera storia"]})})]})]})]})}function pn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ec(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Q8=6048e5,n$=864e5,J8=6e4,eL=36e5,b1=43200,BC=1440;let r$={};function Rg(){return r$}function ed(t,e){var a,l,c,u;const n=Rg(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=pn(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Yv(t){return ed(t,{weekStartsOn:1})}function tL(t){const e=pn(t),n=e.getFullYear(),r=Ec(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Yv(r),i=Ec(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Yv(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function qC(t){const e=pn(t);return e.setHours(0,0,0,0),e}function Kv(t){const e=pn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function s$(t,e){const n=qC(t),r=qC(e),s=+n-Kv(n),i=+r-Kv(r);return Math.round((s-i)/n$)}function i$(t){const e=tL(t),n=Ec(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Yv(n)}function nv(t,e){const n=pn(t),r=pn(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function o$(t){return Ec(t,Date.now())}function a$(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function l$(t){if(!a$(t)&&typeof t!="number")return!1;const e=pn(t);return!isNaN(Number(e))}function c$(t,e){const n=pn(t),r=pn(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function u$(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function d$(t,e){return+pn(t)-+pn(e)}function h$(t){const e=pn(t);return e.setHours(23,59,59,999),e}function f$(t){const e=pn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function p$(t){const e=pn(t);return+h$(e)==+f$(e)}function m$(t,e){const n=pn(t),r=pn(e),s=nv(n,r),i=Math.abs(c$(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=nv(n,r)===-s;p$(pn(t))&&i===1&&nv(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function g$(t,e,n){const r=d$(t,e)/1e3;return u$(n==null?void 0:n.roundingMethod)(r)}function v$(t){const e=pn(t),n=Ec(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const y$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},w$=(t,e,n)=>{let r;const s=y$[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Uh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const x$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},b$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S$={date:Uh({formats:x$,defaultWidth:"full"}),time:Uh({formats:b$,defaultWidth:"full"}),dateTime:Uh({formats:_$,defaultWidth:"full"})},N$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},k$=(t,e,n,r)=>N$[t];function Zo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const C$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},A$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},T$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},E$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},L$=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},R$={ordinalNumber:L$,era:Zo({values:C$,defaultWidth:"wide"}),quarter:Zo({values:A$,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zo({values:T$,defaultWidth:"wide"}),day:Zo({values:P$,defaultWidth:"wide"}),dayPeriod:Zo({values:E$,defaultWidth:"wide",formattingValues:j$,defaultFormattingWidth:"wide"})};function Xo(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?D$(a,d=>d.test(o)):M$(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function M$(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function D$(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function nL(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const O$=/^(\d+)(th|st|nd|rd)?/i,I$=/\d+/i,F$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},V$={any:[/^b/i,/^(a|c)/i]},z$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},B$={any:[/1/i,/2/i,/3/i,/4/i]},q$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},W$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},H$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Y$={ordinalNumber:nL({matchPattern:O$,parsePattern:I$,valueCallback:t=>parseInt(t,10)}),era:Xo({matchPatterns:F$,defaultMatchWidth:"wide",parsePatterns:V$,defaultParseWidth:"any"}),quarter:Xo({matchPatterns:z$,defaultMatchWidth:"wide",parsePatterns:B$,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xo({matchPatterns:q$,defaultMatchWidth:"wide",parsePatterns:U$,defaultParseWidth:"any"}),day:Xo({matchPatterns:W$,defaultMatchWidth:"wide",parsePatterns:$$,defaultParseWidth:"any"}),dayPeriod:Xo({matchPatterns:H$,defaultMatchWidth:"any",parsePatterns:G$,defaultParseWidth:"any"})},rL={code:"en-US",formatDistance:w$,formatLong:S$,formatRelative:k$,localize:R$,match:Y$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function K$(t){const e=pn(t);return s$(e,v$(e))+1}function Z$(t){const e=pn(t),n=+Yv(e)-+i$(e);return Math.round(n/Q8)+1}function sL(t,e){var u,d,p,f;const n=pn(t),r=n.getFullYear(),s=Rg(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(p=s.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,o=Ec(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=ed(o,e),l=Ec(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=ed(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function X$(t,e){var a,l,c,u;const n=Rg(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=sL(t,e),i=Ec(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ed(i,e)}function Q$(t,e){const n=pn(t),r=+ed(n,e)-+X$(n,e);return Math.round(r/Q8)+1}function tn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Dl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return tn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):tn(n+1,2)},d(t,e){return tn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return tn(t.getHours()%12||12,e.length)},H(t,e){return tn(t.getHours(),e.length)},m(t,e){return tn(t.getMinutes(),e.length)},s(t,e){return tn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return tn(s,e.length)}},Jd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Dl.y(t,e)},Y:function(t,e,n,r){const s=sL(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return tn(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):tn(i,e.length)},R:function(t,e){const n=tL(t);return tn(n,e.length)},u:function(t,e){const n=t.getFullYear();return tn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return tn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return tn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Dl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return tn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Q$(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):tn(s,e.length)},I:function(t,e,n){const r=Z$(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):tn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Dl.d(t,e)},D:function(t,e,n){const r=K$(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):tn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return tn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return tn(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return tn(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Jd.noon:r===0?s=Jd.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Jd.evening:r>=12?s=Jd.afternoon:r>=4?s=Jd.morning:s=Jd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Dl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Dl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):tn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):tn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Dl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Dl.s(t,e)},S:function(t,e){return Dl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return $C(r);case"XXXX":case"XX":return vu(r);case"XXXXX":case"XXX":default:return vu(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return $C(r);case"xxxx":case"xx":return vu(r);case"xxxxx":case"xxx":default:return vu(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+WC(r,":");case"OOOO":default:return"GMT"+vu(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+WC(r,":");case"zzzz":default:return"GMT"+vu(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return tn(r,e.length)},T:function(t,e,n){const r=t.getTime();return tn(r,e.length)}};function WC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+tn(i,2)}function $C(t,e){return t%60===0?(t>0?"-":"+")+tn(Math.abs(t)/60,2):vu(t,e)}function vu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=tn(Math.trunc(r/60),2),i=tn(r%60,2);return n+s+e+i}const HC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},iL=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},J$=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return HC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",HC(r,e)).replace("{{time}}",iL(s,e))},eH={p:iL,P:J$},tH=/^D+$/,nH=/^Y+$/,rH=["D","DD","YY","YYYY"];function sH(t){return tH.test(t)}function iH(t){return nH.test(t)}function oH(t,e,n){const r=aH(t,e,n);if(console.warn(r),rH.includes(t))throw new RangeError(r)}function aH(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uH=/^'([^]*?)'?$/,dH=/''/g,hH=/[a-zA-Z]/;function qm(t,e,n){var u,d,p,f,y,g,b,v;const r=Rg(),s=(n==null?void 0:n.locale)??r.locale??rL,i=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(p=r.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((v=(b=r.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??0,a=pn(t);if(!l$(a))throw new RangeError("Invalid time value");let l=e.match(cH).map(w=>{const _=w[0];if(_==="p"||_==="P"){const T=eH[_];return T(w,s.formatLong)}return w}).join("").match(lH).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const _=w[0];if(_==="'")return{isToken:!1,value:fH(w)};if(UC[_])return{isToken:!0,value:w};if(_.match(hH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(w=>{if(!w.isToken)return w.value;const _=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&iH(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&sH(_))&&oH(_,e,String(t));const T=UC[_[0]];return T(a,_,s.localize,c)}).join("")}function fH(t){const e=t.match(uH);return e?e[1].replace(dH,"'"):t}function pH(t,e,n){const r=Rg(),s=(n==null?void 0:n.locale)??r.locale??rL,i=2520,o=nv(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,c;o>0?(l=pn(e),c=pn(t)):(l=pn(t),c=pn(e));const u=g$(c,l),d=(Kv(c)-Kv(l))/1e3,p=Math.round((u-d)/60);let f;if(p<2)return n!=null&&n.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,a):u<10?s.formatDistance("lessThanXSeconds",10,a):u<20?s.formatDistance("lessThanXSeconds",20,a):u<40?s.formatDistance("halfAMinute",0,a):u<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):p===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",p,a);if(p<45)return s.formatDistance("xMinutes",p,a);if(p<90)return s.formatDistance("aboutXHours",1,a);if(p<BC){const y=Math.round(p/60);return s.formatDistance("aboutXHours",y,a)}else{if(p<i)return s.formatDistance("xDays",1,a);if(p<b1){const y=Math.round(p/BC);return s.formatDistance("xDays",y,a)}else if(p<b1*2)return f=Math.round(p/b1),s.formatDistance("aboutXMonths",f,a)}if(f=m$(c,l),f<12){const y=Math.round(p/b1);return s.formatDistance("xMonths",y,a)}else{const y=f%12,g=Math.trunc(f/12);return y<3?s.formatDistance("aboutXYears",g,a):y<9?s.formatDistance("overXYears",g,a):s.formatDistance("almostXYears",g+1,a)}}function mH(t,e){return pH(t,o$(t),e)}function GC(t,e,n){const r=ed(t,n),s=ed(e,n);return+r==+s}function gH(t,e){const r=xH(t);let s;if(r.date){const l=bH(r.date,2);s=_H(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,a;if(r.time&&(o=SH(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=NH(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(i+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(i+o+a)}const _1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vH=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,yH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xH(t){const e={},n=t.split(_1.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],_1.timeZoneDelimiter.test(e.date)&&(e.date=t.split(_1.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=_1.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function bH(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function _H(t,e){if(e===null)return new Date(NaN);const n=t.match(vH);if(!n)return new Date(NaN);const r=!!n[4],s=Bp(n[1]),i=Bp(n[2])-1,o=Bp(n[3]),a=Bp(n[4]),l=Bp(n[5])-1;if(r)return PH(e,a,l)?kH(e,a,l):new Date(NaN);{const c=new Date(0);return!AH(e,i,o)||!TH(e,s)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(s,o)),c)}}function Bp(t){return t?parseInt(t):1}function SH(t){const e=t.match(yH);if(!e)return NaN;const n=Gx(e[1]),r=Gx(e[2]),s=Gx(e[3]);return EH(n,r,s)?n*eL+r*J8+s*1e3:NaN}function Gx(t){return t&&parseFloat(t.replace(",","."))||0}function NH(t){if(t==="Z")return 0;const e=t.match(wH);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return jH(r,s)?n*(r*eL+s*J8):NaN}function kH(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const CH=[31,null,31,30,31,30,31,31,30,31,30,31];function oL(t){return t%400===0||t%4===0&&t%100!==0}function AH(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(CH[e]||(oL(t)?29:28))}function TH(t,e){return e>=1&&e<=(oL(t)?366:365)}function PH(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function EH(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function jH(t,e){return e>=0&&e<=59}const LH={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},RH=(t,e,n)=>{let r;const s=LH[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"tra "+r:r+" fa":r},MH={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},DH={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},OH={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},IH={date:Uh({formats:MH,defaultWidth:"full"}),time:Uh({formats:DH,defaultWidth:"full"}),dateTime:Uh({formats:OH,defaultWidth:"full"})},x4=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function FH(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+x4[t]+" scorso alle' p"}}function YC(t){return"'"+x4[t]+" alle' p"}function VH(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+x4[t]+" prossimo alle' p"}}const zH={lastWeek:(t,e,n)=>{const r=t.getDay();return GC(t,e,n)?YC(r):FH(r)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(t,e,n)=>{const r=t.getDay();return GC(t,e,n)?YC(r):VH(r)},other:"P"},BH=(t,e,n,r)=>{const s=zH[t];return typeof s=="function"?s(e,n,r):s},qH={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},UH={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},WH={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},$H={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},HH={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},GH={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},YH=(t,e)=>{const n=Number(t);return String(n)},KH={ordinalNumber:YH,era:Zo({values:qH,defaultWidth:"wide"}),quarter:Zo({values:UH,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zo({values:WH,defaultWidth:"wide"}),day:Zo({values:$H,defaultWidth:"wide"}),dayPeriod:Zo({values:HH,defaultWidth:"wide",formattingValues:GH,defaultFormattingWidth:"wide"})},ZH=/^(\d+)()?/i,XH=/\d+/i,QH={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},JH={any:[/^a/i,/^(d|e)/i]},eG={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},tG={any:[/1/i,/2/i,/3/i,/4/i]},nG={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},rG={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},sG={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},iG={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},oG={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},aG={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},lG={ordinalNumber:nL({matchPattern:ZH,parsePattern:XH,valueCallback:t=>parseInt(t,10)}),era:Xo({matchPatterns:QH,defaultMatchWidth:"wide",parsePatterns:JH,defaultParseWidth:"any"}),quarter:Xo({matchPatterns:eG,defaultMatchWidth:"wide",parsePatterns:tG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xo({matchPatterns:nG,defaultMatchWidth:"wide",parsePatterns:rG,defaultParseWidth:"any"}),day:Xo({matchPatterns:sG,defaultMatchWidth:"wide",parsePatterns:iG,defaultParseWidth:"any"}),dayPeriod:Xo({matchPatterns:oG,defaultMatchWidth:"any",parsePatterns:aG,defaultParseWidth:"any"})},Zv={code:"it",formatDistance:RH,formatLong:IH,formatRelative:BH,localize:KH,match:lG,options:{weekStartsOn:1,firstWeekContainsDate:4}},cG=Pg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ti({className:t,variant:e,...n}){return h.jsx("div",{className:rt(cG({variant:e}),t),...n})}function uG({dreams:t,onDreamSelect:e,onDreamDelete:n}){const r=Array.isArray(t)?t:[],s=c=>c&&(c.testo||c.content)||"",i=c=>c?new Date(c.data||c.createdAt):new Date,o=c=>c&&(c.categoria||c.category)||"non_categorizzato",a=c=>c&&(c.emozione||c.emotion)||"neutro",l=c=>c?c.preferito!==void 0?c.preferito:c.isFavorite!==void 0?typeof c.isFavorite=="number"?c.isFavorite>0:c.isFavorite:!1:!1;return r.length?h.jsxs(hr,{className:"w-full mt-6 dark:bg-slate-900/60 light:bg-white/90 backdrop-blur-sm",children:[h.jsx(Tr,{children:h.jsx(Pr,{className:"text-lg font-semibold",children:"I tuoi sogni"})}),h.jsx(xr,{children:h.jsx("div",{className:"space-y-3",children:r.map(c=>{const u=s(c),d=i(c),p=o(c),f=a(c),y=l(c),g=v=>{switch(v){case"spaventoso":return"Spaventoso";case"avventura":return"Avventura";case"romantico":return"Romantico";case"fantastico":return"Fantastico";case"supereroi":return"Supereroi";case"surreale":return"Surreale";case"famiglia":return"Famiglia";case"lavoro":return"Lavoro";case"infanzia":return"Infanzia";default:return"Non categorizzato"}},b=v=>{switch(v){case"felice":return"Felice";case"triste":return"Triste";case"spaventato":return"Spaventato";case"ansioso":return"Ansioso";case"confuso":return"Confuso";case"arrabbiato":return"Arrabbiato";case"nostalgico":return"Nostalgico";case"eccitato":return"Eccitato";case"pacifico":return"Pacifico";default:return"Neutro"}};return h.jsxs("div",{className:"p-3 rounded-lg dark:bg-slate-800/70 light:bg-white/70 flex flex-col justify-between",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("h3",{className:"font-medium truncate flex-1",children:u.length>60?u.substring(0,60)+"...":u}),y&&h.jsx(r4,{className:"h-4 w-4 text-red-500 fill-red-500 ml-2 flex-shrink-0"})]}),h.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[p!=="non_categorizzato"&&h.jsxs(Ti,{variant:"outline",className:"flex items-center gap-1 text-xs dark:bg-purple-950/80 dark:text-purple-200 light:bg-indigo-50 light:text-indigo-700",children:[h.jsx(aq,{className:"h-3 w-3"}),g(p)]}),f!=="neutro"&&h.jsx(Ti,{variant:"outline",className:"text-xs dark:bg-blue-950/80 dark:text-blue-200 light:bg-blue-50 light:text-blue-700",children:b(f)})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("p",{className:"text-xs text-muted-foreground",children:mH(d,{addSuffix:!0,locale:Zv})}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(it,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-purple-500",onClick:()=>e(c),"aria-label":"Modifica sogno",children:h.jsx(eq,{className:"h-4 w-4"})}),h.jsx(it,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400",onClick:()=>{alert("L'eliminazione dei sogni  temporaneamente disabilitata per problemi tecnici. Riprova pi tardi.")},"aria-label":"Elimina sogno",children:h.jsx(lq,{className:"h-4 w-4"})})]})]})]},c.id)})})})]}):h.jsxs(hr,{className:"w-full mt-6 dark:bg-slate-900/60 light:bg-white/90 backdrop-blur-sm",children:[h.jsx(Tr,{children:h.jsx(Pr,{className:"text-lg font-semibold",children:"I tuoi sogni"})}),h.jsx(xr,{children:h.jsx("p",{className:"text-center text-muted-foreground py-6",children:"Non hai ancora salvato nessun sogno."})})]})}function Xv(t,[e,n]){return Math.min(n,Math.max(e,t))}var dG=N.createContext(void 0);function Mg(t){const e=N.useContext(dG);return t||e||"ltr"}function N2(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var aL=["PageUp","PageDown"],lL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cL={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Wf="Slider",[Jb,hG,fG]=Cg(Wf),[uL,Yde]=Br(Wf,[fG]),[pG,k2]=uL(Wf),dL=N.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:d=()=>{},onValueCommit:p=()=>{},inverted:f=!1,form:y,...g}=t,b=N.useRef(new Set),v=N.useRef(0),_=o==="horizontal"?mG:gG,[T=[],C]=_s({prop:u,defaultProp:c,onChange:L=>{var U;(U=[...b.current][v.current])==null||U.focus(),d(L)}}),R=N.useRef(T);function E(L){const P=bG(T,L);H(L,P)}function A(L){H(L,v.current)}function D(){const L=R.current[v.current];T[v.current]!==L&&p(T)}function H(L,P,{commit:U}={commit:!1}){const z=kG(i),Y=CG(Math.round((L-r)/i)*i+r,z),O=Xv(Y,[r,s]);C(($=[])=>{const B=wG($,O,P);if(NG(B,l*i)){v.current=B.indexOf(O);const J=String(B)!==String($);return J&&U&&p(B),J?B:$}else return $})}return h.jsx(pG,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:v,thumbs:b.current,values:T,orientation:o,form:y,children:h.jsx(Jb.Provider,{scope:t.__scopeSlider,children:h.jsx(Jb.Slot,{scope:t.__scopeSlider,children:h.jsx(_,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:Ke(g.onPointerDown,()=>{a||(R.current=T)}),min:r,max:s,inverted:f,onSlideStart:a?void 0:E,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:D,onHomeKeyDown:()=>!a&&H(r,0,{commit:!0}),onEndKeyDown:()=>!a&&H(s,T.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:P})=>{if(!a){const Y=aL.includes(L.key)||L.shiftKey&&lL.includes(L.key)?10:1,O=v.current,$=T[O],B=i*Y*P;H($+B,O,{commit:!0})}}})})})})});dL.displayName=Wf;var[hL,fL]=uL(Wf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),mG=N.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=t,[d,p]=N.useState(null),f=Dt(e,_=>p(_)),y=N.useRef(void 0),g=Mg(s),b=g==="ltr",v=b&&!i||!b&&i;function w(_){const T=y.current||d.getBoundingClientRect(),C=[0,T.width],E=b4(C,v?[n,r]:[r,n]);return y.current=T,E(_-T.left)}return h.jsx(hL,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:h.jsx(pL,{dir:g,"data-orientation":"horizontal",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const T=w(_.clientX);o==null||o(T)},onSlideMove:_=>{const T=w(_.clientX);a==null||a(T)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:_=>{const C=cL[v?"from-left":"from-right"].includes(_.key);c==null||c({event:_,direction:C?-1:1})}})})}),gG=N.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,u=N.useRef(null),d=Dt(e,u),p=N.useRef(void 0),f=!s;function y(g){const b=p.current||u.current.getBoundingClientRect(),v=[0,b.height],_=b4(v,f?[r,n]:[n,r]);return p.current=b,_(g-b.top)}return h.jsx(hL,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:h.jsx(pL,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const b=y(g.clientY);i==null||i(b)},onSlideMove:g=>{const b=y(g.clientY);o==null||o(b)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:g=>{const v=cL[f?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:v?-1:1})}})})}),pL=N.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,u=k2(Wf,n);return h.jsx(lt.span,{...c,ref:e,onKeyDown:Ke(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):aL.concat(lL).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:Ke(t.onPointerDown,d=>{const p=d.target;p.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(p)?p.focus():r(d)}),onPointerMove:Ke(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&s(d)}),onPointerUp:Ke(t.onPointerUp,d=>{const p=d.target;p.hasPointerCapture(d.pointerId)&&(p.releasePointerCapture(d.pointerId),i(d))})})}),mL="SliderTrack",gL=N.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=k2(mL,n);return h.jsx(lt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});gL.displayName=mL;var e_="SliderRange",vL=N.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=k2(e_,n),i=fL(e_,n),o=N.useRef(null),a=Dt(e,o),l=s.values.length,c=s.values.map(p=>wL(p,s.min,s.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return h.jsx(lt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:u+"%",[i.endEdge]:d+"%"}})});vL.displayName=e_;var t_="SliderThumb",yL=N.forwardRef((t,e)=>{const n=hG(t.__scopeSlider),[r,s]=N.useState(null),i=Dt(e,a=>s(a)),o=N.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return h.jsx(vG,{...t,ref:i,index:o})}),vG=N.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=k2(t_,n),a=fL(t_,n),[l,c]=N.useState(null),u=Dt(e,w=>c(w)),d=l?o.form||!!l.closest("form"):!0,p=p2(l),f=o.values[r],y=f===void 0?0:wL(f,o.min,o.max),g=xG(r,o.values.length),b=p==null?void 0:p[a.size],v=b?_G(b,y,a.direction):0;return N.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),h.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${v}px)`},children:[h.jsx(Jb.ItemSlot,{scope:t.__scopeSlider,children:h.jsx(lt.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:f===void 0?{display:"none"}:t.style,onFocus:Ke(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),d&&h.jsx(yG,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},r)]})});yL.displayName=t_;var yG=t=>{const{value:e,...n}=t,r=N.useRef(null),s=N2(e);return N.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==e&&l){const c=new Event("input",{bubbles:!0});l.call(i,e),i.dispatchEvent(c)}},[s,e]),h.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function wG(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function wL(t,e,n){const i=100/(n-e)*(t-e);return Xv(i,[0,100])}function xG(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function bG(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function _G(t,e,n){const r=t/2,i=b4([0,50],[0,r]);return(r-i(e)*n)*n}function SG(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function NG(t,e){if(e>0){const n=SG(t);return Math.min(...n)>=e}return!0}function b4(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function kG(t){return(String(t).split(".")[1]||"").length}function CG(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var xL=dL,AG=gL,TG=vL,PG=yL;const cc=N.forwardRef(({className:t,...e},n)=>h.jsxs(xL,{ref:n,className:rt("relative flex w-full touch-none select-none items-center",t),...e,children:[h.jsx(AG,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-slate-100 dark:bg-slate-800",children:h.jsx(TG,{className:"absolute h-full bg-slate-900 dark:bg-slate-400"})}),h.jsx(PG,{className:"block h-5 w-5 rounded-full border-2 border-slate-900 bg-white transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:border-slate-100 dark:bg-slate-400 dark:focus:ring-slate-400 dark:focus:ring-offset-slate-900"})]}));cc.displayName=xL.displayName;function EG({text:t,lang:e="it-IT",title:n="Ascolta la storia"}){const[r,s]=N.useState(!1),[i,o]=N.useState(!1),[a,l]=N.useState(!0),[c,u]=N.useState(1),[d,p]=N.useState(!1),f=N.useRef(1),y=N.useRef(null),g=N.useRef(null);N.useEffect(()=>(typeof window<"u"&&"speechSynthesis"in window?y.current=window.speechSynthesis:l(!1),()=>{y.current&&r&&y.current.cancel()}),[r]);const b=()=>{if(!y.current||!a||!t.trim())return;y.current.cancel();const C=new SpeechSynthesisUtterance(t);if(C.lang=e,C.volume=d?0:c,C.rate=.9,C.pitch=1,y.current.getVoices().length>0){const E=y.current.getVoices().find(A=>A.lang.includes("it"));E&&(C.voice=E)}C.onstart=()=>{s(!0),o(!1)},C.onend=()=>{s(!1),o(!1)},C.onerror=()=>{s(!1),o(!1)},g.current=C,y.current.speak(C)},v=()=>{!y.current||!a||(y.current.cancel(),s(!1),o(!1))},w=()=>{!y.current||!a||(r&&!i?(y.current.pause(),o(!0)):i&&(y.current.resume(),o(!1)))},_=()=>{g.current&&(d?(u(f.current),g.current.volume=f.current,p(!1)):(f.current=c,g.current.volume=0,p(!0)))},T=C=>{const R=C[0];u(R),g.current&&(g.current.volume=R),R===0?p(!0):d&&p(!1)};return a?h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-sm font-medium",children:n}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Vu,{children:h.jsxs(zh,{children:[h.jsx(Bh,{asChild:!0,children:h.jsx(it,{variant:"outline",size:"icon",onClick:_,disabled:!r,children:d?h.jsx(Bv,{className:"h-4 w-4"}):h.jsx(Fm,{className:"h-4 w-4"})})}),h.jsx(zu,{children:d?"Attiva audio":"Disattiva audio"})]})}),h.jsx(Vu,{children:h.jsxs(zh,{children:[h.jsx(Bh,{asChild:!0,children:h.jsx(it,{variant:"outline",size:"icon",onClick:w,disabled:!r,children:i?h.jsx(c2,{className:"h-4 w-4"}):h.jsx(l2,{className:"h-4 w-4"})})}),h.jsx(zu,{children:i?"Riprendi":"Pausa"})]})}),h.jsx(Vu,{children:h.jsxs(zh,{children:[h.jsx(Bh,{asChild:!0,children:h.jsx(it,{variant:r?"destructive":"default",size:"sm",onClick:r?v:b,disabled:!t.trim(),children:r?"Ferma lettura":"Leggi ad alta voce"})}),h.jsx(zu,{children:r?"Interrompi la lettura":"Leggi la storia ad alta voce"})]})})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Bv,{className:"h-4 w-4 text-muted-foreground"}),h.jsx(cc,{value:[c],min:0,max:1,step:.01,onValueChange:T,className:"w-full","aria-label":"Volume"}),h.jsx(Fm,{className:"h-4 w-4 text-muted-foreground"})]})]}):h.jsx("div",{className:"text-xs text-muted-foreground",children:"La sintesi vocale non  supportata dal tuo browser."})}function jG({story:t}){const[e,n]=N.useState(!1),{toast:r}=zr(),s=async()=>{try{await navigator.clipboard.writeText(t),n(!0),r({description:"Storia copiata negli appunti"}),setTimeout(()=>n(!1),2e3)}catch{r({variant:"destructive",description:"Impossibile copiare il testo"})}};return t?h.jsxs(hr,{className:"w-full mt-6 dark:bg-slate-900/60 light:bg-white/90 backdrop-blur-sm",children:[h.jsxs(Tr,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(Pr,{className:"text-lg font-semibold",children:"La tua storia"}),h.jsx(it,{onClick:s,variant:"ghost",size:"sm",className:"h-8 w-8 p-0","aria-label":"Copia negli appunti",children:e?h.jsx(xf,{className:"h-4 w-4 text-green-500"}):h.jsx(Wj,{className:"h-4 w-4"})})]}),h.jsx(xr,{children:h.jsx("div",{className:"prose dark:prose-invert max-w-none",children:t.split(`
`).map((i,o)=>i?h.jsx("p",{children:i},o):h.jsx("br",{},o))})}),h.jsx(xo,{className:"border-t pt-4",children:h.jsx(EG,{text:t,title:"Ascolto della storia",lang:"it-IT"})})]}):null}var LG="Label",bL=N.forwardRef((t,e)=>h.jsx(lt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bL.displayName=LG;var _L=bL;const RG=Pg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),jt=N.forwardRef(({className:t,...e},n)=>h.jsx(_L,{ref:n,className:rt(RG(),t),...e}));jt.displayName=_L.displayName;var Yx=0;function _4(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??KC()),document.body.insertAdjacentElement("beforeend",t[1]??KC()),Yx++,()=>{Yx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yx--}},[])}function KC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Kx="focusScope.autoFocusOnMount",Zx="focusScope.autoFocusOnUnmount",ZC={bubbles:!1,cancelable:!0},MG="FocusScope",C2=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=N.useState(null),c=bs(s),u=bs(i),d=N.useRef(null),p=Dt(e,g=>l(g)),f=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let g=function(_){if(f.paused||!a)return;const T=_.target;a.contains(T)?d.current=T:zl(d.current,{select:!0})},b=function(_){if(f.paused||!a)return;const T=_.relatedTarget;T!==null&&(a.contains(T)||zl(d.current,{select:!0}))},v=function(_){if(document.activeElement===document.body)for(const C of _)C.removedNodes.length>0&&zl(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const w=new MutationObserver(v);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),w.disconnect()}}},[r,a,f.paused]),N.useEffect(()=>{if(a){QC.add(f);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Kx,ZC);a.addEventListener(Kx,c),a.dispatchEvent(v),v.defaultPrevented||(DG(zG(SL(a)),{select:!0}),document.activeElement===g&&zl(a))}return()=>{a.removeEventListener(Kx,c),setTimeout(()=>{const v=new CustomEvent(Zx,ZC);a.addEventListener(Zx,u),a.dispatchEvent(v),v.defaultPrevented||zl(g??document.body,{select:!0}),a.removeEventListener(Zx,u),QC.remove(f)},0)}}},[a,c,u,f]);const y=N.useCallback(g=>{if(!n&&!r||f.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const w=g.currentTarget,[_,T]=OG(w);_&&T?!g.shiftKey&&v===T?(g.preventDefault(),n&&zl(_,{select:!0})):g.shiftKey&&v===_&&(g.preventDefault(),n&&zl(T,{select:!0})):v===w&&g.preventDefault()}},[n,r,f.paused]);return h.jsx(lt.div,{tabIndex:-1,...o,ref:p,onKeyDown:y})});C2.displayName=MG;function DG(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zl(r,{select:e}),document.activeElement!==n)return}function OG(t){const e=SL(t),n=XC(e,t),r=XC(e.reverse(),t);return[n,r]}function SL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function XC(t,e){for(const n of t)if(!IG(n,{upTo:e}))return n}function IG(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function FG(t){return t instanceof HTMLInputElement&&"select"in t}function zl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&FG(t)&&e&&t.select()}}var QC=VG();function VG(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=JC(t,e),t.unshift(e)},remove(e){var n;t=JC(t,e),(n=t[0])==null||n.resume()}}}function JC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function zG(t){return t.filter(e=>e.tagName!=="A")}var BG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},eh=new WeakMap,S1=new WeakMap,N1={},Xx=0,NL=function(t){return t&&(t.host||NL(t.parentNode))},qG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=NL(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},UG=function(t,e,n,r){var s=qG(e,Array.isArray(t)?t:[t]);N1[n]||(N1[n]=new WeakMap);var i=N1[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var f=p.getAttribute(r),y=f!==null&&f!=="false",g=(eh.get(p)||0)+1,b=(i.get(p)||0)+1;eh.set(p,g),i.set(p,b),o.push(p),g===1&&y&&S1.set(p,!0),b===1&&p.setAttribute(n,"true"),y||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return u(e),a.clear(),Xx++,function(){o.forEach(function(d){var p=eh.get(d)-1,f=i.get(d)-1;eh.set(d,p),i.set(d,f),p||(S1.has(d)||d.removeAttribute(r),S1.delete(d)),f||d.removeAttribute(n)}),Xx--,Xx||(eh=new WeakMap,eh=new WeakMap,S1=new WeakMap,N1={})}},S4=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=BG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),UG(r,s,n,"aria-hidden")):function(){return null}},Qo=function(){return Qo=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qo.apply(this,arguments)};function kL(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Co(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function rr(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function WG(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var rv="right-scroll-bar-position",sv="width-before-scroll-bar",$G="with-scroll-bars-hidden",HG="--removed-body-scroll-bar-size";function Qx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function GG(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var YG=typeof window<"u"?N.useLayoutEffect:N.useEffect,eA=new WeakMap;function KG(t,e){var n=GG(null,function(r){return t.forEach(function(s){return Qx(s,r)})});return YG(function(){var r=eA.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Qx(a,null)}),i.forEach(function(a){s.has(a)||Qx(a,o)})}eA.set(n,t)},[t]),n}function ZG(t){return t}function XG(t,e){e===void 0&&(e=ZG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function QG(t){t===void 0&&(t={});var e=XG(null);return e.options=Qo({async:!0,ssr:!1},t),e}var CL=function(t){var e=t.sideCar,n=kL(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,Qo({},n))};CL.isSideCarExport=!0;function JG(t,e){return t.useMedium(e),CL}var AL=QG(),Jx=function(){},A2=N.forwardRef(function(t,e){var n=N.useRef(null),r=N.useState({onScrollCapture:Jx,onWheelCapture:Jx,onTouchMoveCapture:Jx}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,f=t.noIsolation,y=t.inert,g=t.allowPinchZoom,b=t.as,v=b===void 0?"div":b,w=t.gapMode,_=kL(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=p,C=KG([n,e]),R=Qo(Qo({},_),s);return N.createElement(N.Fragment,null,u&&N.createElement(T,{sideCar:AL,removeScrollBar:c,shards:d,noIsolation:f,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:w}),o?N.cloneElement(N.Children.only(a),Qo(Qo({},R),{ref:C})):N.createElement(v,Qo({},R,{className:l,ref:C}),a))});A2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};A2.classNames={fullWidth:sv,zeroRight:rv};var eY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=eY();return e&&t.setAttribute("nonce",e),t}function nY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var sY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=tY())&&(nY(e,n),rY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},iY=function(){var t=sY();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},TL=function(){var t=iY(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},oY={left:0,top:0,right:0,gap:0},e5=function(t){return parseInt(t||"",10)||0},aY=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[e5(n),e5(r),e5(s)]},lY=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return oY;var e=aY(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},cY=TL(),Wh="data-scroll-locked",uY=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat($G,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Wh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rv,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sv,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(rv," .").concat(rv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sv," .").concat(sv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wh,`] {
    `).concat(HG,": ").concat(a,`px;
  }
`)},tA=function(){var t=parseInt(document.body.getAttribute(Wh)||"0",10);return isFinite(t)?t:0},dY=function(){N.useEffect(function(){return document.body.setAttribute(Wh,(tA()+1).toString()),function(){var t=tA()-1;t<=0?document.body.removeAttribute(Wh):document.body.setAttribute(Wh,t.toString())}},[])},hY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;dY();var i=N.useMemo(function(){return lY(s)},[s]);return N.createElement(cY,{styles:uY(i,!e,s,n?"":"!important")})},n_=!1;if(typeof window<"u")try{var k1=Object.defineProperty({},"passive",{get:function(){return n_=!0,!0}});window.addEventListener("test",k1,k1),window.removeEventListener("test",k1,k1)}catch{n_=!1}var th=n_?{passive:!1}:!1,fY=function(t){return t.tagName==="TEXTAREA"},PL=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!fY(t)&&n[e]==="visible")},pY=function(t){return PL(t,"overflowY")},mY=function(t){return PL(t,"overflowX")},nA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=EL(t,r);if(s){var i=jL(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},gY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},vY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},EL=function(t,e){return t==="v"?pY(e):mY(e)},jL=function(t,e){return t==="v"?gY(e):vY(e)},yY=function(t,e){return t==="h"&&e==="rtl"?-1:1},wY=function(t,e,n,r,s){var i=yY(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,p=0;do{var f=jL(t,a),y=f[0],g=f[1],b=f[2],v=g-b-i*y;(y||v)&&EL(t,a)&&(d+=v,p+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},C1=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},rA=function(t){return[t.deltaX,t.deltaY]},sA=function(t){return t&&"current"in t?t.current:t},xY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},_Y=0,nh=[];function SY(t){var e=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),s=N.useState(_Y++)[0],i=N.useState(TL)[0],o=N.useRef(t);N.useEffect(function(){o.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=WG([t.lockRef.current],(t.shards||[]).map(sA),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=N.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=C1(g),w=n.current,_="deltaX"in g?g.deltaX:w[0]-v[0],T="deltaY"in g?g.deltaY:w[1]-v[1],C,R=g.target,E=Math.abs(_)>Math.abs(T)?"h":"v";if("touches"in g&&E==="h"&&R.type==="range")return!1;var A=nA(E,R);if(!A)return!0;if(A?C=E:(C=E==="v"?"h":"v",A=nA(E,R)),!A)return!1;if(!r.current&&"changedTouches"in g&&(_||T)&&(r.current=C),!C)return!0;var D=r.current||C;return wY(D,b,g,D==="h"?_:T,!0)},[]),l=N.useCallback(function(g){var b=g;if(!(!nh.length||nh[nh.length-1]!==i)){var v="deltaY"in b?rA(b):C1(b),w=e.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&xY(C.delta,v)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(sA).filter(Boolean).filter(function(C){return C.contains(b.target)}),T=_.length>0?a(b,_[0]):!o.current.noIsolation;T&&b.cancelable&&b.preventDefault()}}},[]),c=N.useCallback(function(g,b,v,w){var _={name:g,delta:b,target:v,should:w,shadowParent:NY(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(T){return T!==_})},1)},[]),u=N.useCallback(function(g){n.current=C1(g),r.current=void 0},[]),d=N.useCallback(function(g){c(g.type,rA(g),g.target,a(g,t.lockRef.current))},[]),p=N.useCallback(function(g){c(g.type,C1(g),g.target,a(g,t.lockRef.current))},[]);N.useEffect(function(){return nh.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,th),document.addEventListener("touchmove",l,th),document.addEventListener("touchstart",u,th),function(){nh=nh.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,th),document.removeEventListener("touchmove",l,th),document.removeEventListener("touchstart",u,th)}},[]);var f=t.removeScrollBar,y=t.inert;return N.createElement(N.Fragment,null,y?N.createElement(i,{styles:bY(s)}):null,f?N.createElement(hY,{gapMode:t.gapMode}):null)}function NY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kY=JG(AL,SY);var T2=N.forwardRef(function(t,e){return N.createElement(A2,Qo({},t,{ref:e,sideCar:kY}))});T2.classNames=A2.classNames;var CY=[" ","Enter","ArrowUp","ArrowDown"],AY=[" ","Enter"],Dg="Select",[P2,E2,TY]=Cg(Dg),[$f,Kde]=Br(Dg,[TY,Wc]),j2=Wc(),[PY,Hc]=$f(Dg),[EY,jY]=$f(Dg),LL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:f,form:y}=t,g=j2(e),[b,v]=N.useState(null),[w,_]=N.useState(null),[T,C]=N.useState(!1),R=Mg(c),[E=!1,A]=_s({prop:r,defaultProp:s,onChange:i}),[D,H]=_s({prop:o,defaultProp:a,onChange:l}),L=N.useRef(null),P=b?y||!!b.closest("form"):!0,[U,z]=N.useState(new Set),Y=Array.from(U).map(O=>O.props.value).join(";");return h.jsx(m2,{...g,children:h.jsxs(PY,{required:f,scope:e,trigger:b,onTriggerChange:v,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:T,onValueNodeHasChildrenChange:C,contentId:ji(),value:D,onValueChange:H,open:E,onOpenChange:A,dir:R,triggerPointerDownPosRef:L,disabled:p,children:[h.jsx(P2.Provider,{scope:e,children:h.jsx(EY,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(O=>{z($=>new Set($).add(O))},[]),onNativeOptionRemove:N.useCallback(O=>{z($=>{const B=new Set($);return B.delete(O),B})},[]),children:n})}),P?h.jsxs(rR,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:D,onChange:O=>H(O.target.value),disabled:p,form:y,children:[D===void 0?h.jsx("option",{value:""}):null,Array.from(U)]},Y):null]})})};LL.displayName=Dg;var RL="SelectTrigger",ML=N.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=j2(n),o=Hc(RL,n),a=o.disabled||r,l=Dt(e,o.onTriggerChange),c=E2(n),u=N.useRef("touch"),[d,p,f]=sR(g=>{const b=c().filter(_=>!_.disabled),v=b.find(_=>_.value===o.value),w=iR(b,g,v);w!==void 0&&o.onValueChange(w.value)}),y=g=>{a||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return h.jsx(jg,{asChild:!0,...i,children:h.jsx(lt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":nR(o.value)?"":void 0,...s,ref:l,onClick:Ke(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:Ke(s.onPointerDown,g=>{u.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Ke(s.onKeyDown,g=>{const b=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(b&&g.key===" ")&&CY.includes(g.key)&&(y(),g.preventDefault())})})})});ML.displayName=RL;var DL="SelectValue",OL=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Hc(DL,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=Dt(e,l.onValueNodeChange);return fr(()=>{c(u)},[c,u]),h.jsx(lt.span,{...a,ref:d,style:{pointerEvents:"none"},children:nR(l.value)?h.jsx(h.Fragment,{children:o}):i})});OL.displayName=DL;var LY="SelectIcon",IL=N.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(lt.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});IL.displayName=LY;var RY="SelectPortal",FL=t=>h.jsx(Ag,{asChild:!0,...t});FL.displayName=RY;var td="SelectContent",VL=N.forwardRef((t,e)=>{const n=Hc(td,t.__scopeSelect),[r,s]=N.useState();if(fr(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?fd.createPortal(h.jsx(zL,{scope:t.__scopeSelect,children:h.jsx(P2.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(BL,{...t,ref:e})});VL.displayName=td;var Xi=10,[zL,Gc]=$f(td),MY="SelectContentImpl",DY=Zu("SelectContent.RemoveScroll"),BL=N.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:f,sticky:y,hideWhenDetached:g,avoidCollisions:b,...v}=t,w=Hc(td,n),[_,T]=N.useState(null),[C,R]=N.useState(null),E=Dt(e,oe=>T(oe)),[A,D]=N.useState(null),[H,L]=N.useState(null),P=E2(n),[U,z]=N.useState(!1),Y=N.useRef(!1);N.useEffect(()=>{if(_)return S4(_)},[_]),_4();const O=N.useCallback(oe=>{const[ae,...pe]=P().map(Ce=>Ce.ref.current),[_e]=pe.slice(-1),be=document.activeElement;for(const Ce of oe)if(Ce===be||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===ae&&C&&(C.scrollTop=0),Ce===_e&&C&&(C.scrollTop=C.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==be))return},[P,C]),$=N.useCallback(()=>O([A,_]),[O,A,_]);N.useEffect(()=>{U&&$()},[U,$]);const{onOpenChange:B,triggerPointerDownPosRef:J}=w;N.useEffect(()=>{if(_){let oe={x:0,y:0};const ae=_e=>{var be,Ce;oe={x:Math.abs(Math.round(_e.pageX)-(((be=J.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Ce=J.current)==null?void 0:Ce.y)??0))}},pe=_e=>{oe.x<=10&&oe.y<=10?_e.preventDefault():_.contains(_e.target)||B(!1),document.removeEventListener("pointermove",ae),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",pe,{capture:!0})}}},[_,B,J]),N.useEffect(()=>{const oe=()=>B(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[B]);const[re,X]=sR(oe=>{const ae=P().filter(be=>!be.disabled),pe=ae.find(be=>be.ref.current===document.activeElement),_e=iR(ae,oe,pe);_e&&setTimeout(()=>_e.ref.current.focus())}),M=N.useCallback((oe,ae,pe)=>{const _e=!Y.current&&!pe;(w.value!==void 0&&w.value===ae||_e)&&(D(oe),_e&&(Y.current=!0))},[w.value]),F=N.useCallback(()=>_==null?void 0:_.focus(),[_]),K=N.useCallback((oe,ae,pe)=>{const _e=!Y.current&&!pe;(w.value!==void 0&&w.value===ae||_e)&&L(oe)},[w.value]),ee=r==="popper"?r_:qL,se=ee===r_?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:f,sticky:y,hideWhenDetached:g,avoidCollisions:b}:{};return h.jsx(zL,{scope:n,content:_,viewport:C,onViewportChange:R,itemRefCallback:M,selectedItem:A,onItemLeave:F,itemTextRefCallback:K,focusSelectedItem:$,selectedItemText:H,position:r,isPositioned:U,searchRef:re,children:h.jsx(T2,{as:DY,allowPinchZoom:!0,children:h.jsx(C2,{asChild:!0,trapped:w.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Ke(s,oe=>{var ae;(ae=w.trigger)==null||ae.focus({preventScroll:!0}),oe.preventDefault()}),children:h.jsx(pd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:h.jsx(ee,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:oe=>oe.preventDefault(),...v,...se,onPlaced:()=>z(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ke(v.onKeyDown,oe=>{const ae=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ae&&oe.key.length===1&&X(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let _e=P().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const be=oe.target,Ce=_e.indexOf(be);_e=_e.slice(Ce+1)}setTimeout(()=>O(_e)),oe.preventDefault()}})})})})})})});BL.displayName=MY;var OY="SelectItemAlignedPosition",qL=N.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Hc(td,n),o=Gc(td,n),[a,l]=N.useState(null),[c,u]=N.useState(null),d=Dt(e,E=>u(E)),p=E2(n),f=N.useRef(!1),y=N.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:v,focusSelectedItem:w}=o,_=N.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&b&&v){const E=i.trigger.getBoundingClientRect(),A=c.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),H=v.getBoundingClientRect();if(i.dir!=="rtl"){const be=H.left-A.left,Ce=D.left-be,Fe=E.left-Ce,et=E.width+Fe,de=Math.max(et,A.width),Q=window.innerWidth-Xi,Ge=Xv(Ce,[Xi,Math.max(Xi,Q-de)]);a.style.minWidth=et+"px",a.style.left=Ge+"px"}else{const be=A.right-H.right,Ce=window.innerWidth-D.right-be,Fe=window.innerWidth-E.right-Ce,et=E.width+Fe,de=Math.max(et,A.width),Q=window.innerWidth-Xi,Ge=Xv(Ce,[Xi,Math.max(Xi,Q-de)]);a.style.minWidth=et+"px",a.style.right=Ge+"px"}const L=p(),P=window.innerHeight-Xi*2,U=g.scrollHeight,z=window.getComputedStyle(c),Y=parseInt(z.borderTopWidth,10),O=parseInt(z.paddingTop,10),$=parseInt(z.borderBottomWidth,10),B=parseInt(z.paddingBottom,10),J=Y+O+U+B+$,re=Math.min(b.offsetHeight*5,J),X=window.getComputedStyle(g),M=parseInt(X.paddingTop,10),F=parseInt(X.paddingBottom,10),K=E.top+E.height/2-Xi,ee=P-K,se=b.offsetHeight/2,oe=b.offsetTop+se,ae=Y+O+oe,pe=J-ae;if(ae<=K){const be=L.length>0&&b===L[L.length-1].ref.current;a.style.bottom="0px";const Ce=c.clientHeight-g.offsetTop-g.offsetHeight,Fe=Math.max(ee,se+(be?F:0)+Ce+$),et=ae+Fe;a.style.height=et+"px"}else{const be=L.length>0&&b===L[0].ref.current;a.style.top="0px";const Fe=Math.max(K,Y+g.offsetTop+(be?M:0)+se)+pe;a.style.height=Fe+"px",g.scrollTop=ae-K+g.offsetTop}a.style.margin=`${Xi}px 0`,a.style.minHeight=re+"px",a.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[p,i.trigger,i.valueNode,a,c,g,b,v,i.dir,r]);fr(()=>_(),[_]);const[T,C]=N.useState();fr(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const R=N.useCallback(E=>{E&&y.current===!0&&(_(),w==null||w(),y.current=!1)},[_,w]);return h.jsx(FY,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:R,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:h.jsx(lt.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});qL.displayName=OY;var IY="SelectPopperPosition",r_=N.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Xi,...i}=t,o=j2(n);return h.jsx(g2,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});r_.displayName=IY;var[FY,N4]=$f(td,{}),s_="SelectViewport",UL=N.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Gc(s_,n),o=N4(s_,n),a=Dt(e,i.onViewportChange),l=N.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(P2.Slot,{scope:n,children:h.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ke(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&d){const f=Math.abs(l.current-u.scrollTop);if(f>0){const y=window.innerHeight-Xi*2,g=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),v=Math.max(g,b);if(v<y){const w=v+f,_=Math.min(y,w),T=w-_;d.style.height=_+"px",d.style.bottom==="0px"&&(u.scrollTop=T>0?T:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});UL.displayName=s_;var WL="SelectGroup",[VY,zY]=$f(WL),BY=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ji();return h.jsx(VY,{scope:n,id:s,children:h.jsx(lt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});BY.displayName=WL;var $L="SelectLabel",HL=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zY($L,n);return h.jsx(lt.div,{id:s.id,...r,ref:e})});HL.displayName=$L;var Qv="SelectItem",[qY,GL]=$f(Qv),YL=N.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Hc(Qv,n),l=Gc(Qv,n),c=a.value===r,[u,d]=N.useState(i??""),[p,f]=N.useState(!1),y=Dt(e,w=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,w,r,s)}),g=ji(),b=N.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(qY,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:N.useCallback(w=>{d(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:h.jsx(P2.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:h.jsx(lt.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:Ke(o.onFocus,()=>f(!0)),onBlur:Ke(o.onBlur,()=>f(!1)),onClick:Ke(o.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:Ke(o.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:Ke(o.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:Ke(o.onPointerMove,w=>{var _;b.current=w.pointerType,s?(_=l.onItemLeave)==null||_.call(l):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(o.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:Ke(o.onKeyDown,w=>{var T;((T=l.searchRef)==null?void 0:T.current)!==""&&w.key===" "||(AY.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});YL.displayName=Qv;var em="SelectItemText",KL=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Hc(em,n),a=Gc(em,n),l=GL(em,n),c=jY(em,n),[u,d]=N.useState(null),p=Dt(e,v=>d(v),l.onItemTextChange,v=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,v,l.value,l.disabled)}),f=u==null?void 0:u.textContent,y=N.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=c;return fr(()=>(g(y),()=>b(y)),[g,b,y]),h.jsxs(h.Fragment,{children:[h.jsx(lt.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fd.createPortal(i.children,o.valueNode):null]})});KL.displayName=em;var ZL="SelectItemIndicator",XL=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return GL(ZL,n).isSelected?h.jsx(lt.span,{"aria-hidden":!0,...r,ref:e}):null});XL.displayName=ZL;var i_="SelectScrollUpButton",QL=N.forwardRef((t,e)=>{const n=Gc(i_,t.__scopeSelect),r=N4(i_,t.__scopeSelect),[s,i]=N.useState(!1),o=Dt(e,r.onScrollButtonChange);return fr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(eR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});QL.displayName=i_;var o_="SelectScrollDownButton",JL=N.forwardRef((t,e)=>{const n=Gc(o_,t.__scopeSelect),r=N4(o_,t.__scopeSelect),[s,i]=N.useState(!1),o=Dt(e,r.onScrollButtonChange);return fr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(eR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});JL.displayName=o_;var eR=N.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Gc("SelectScrollButton",n),o=N.useRef(null),a=E2(n),l=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>l(),[l]),fr(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),h.jsx(lt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ke(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ke(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ke(s.onPointerLeave,()=>{l()})})}),UY="SelectSeparator",tR=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(lt.div,{"aria-hidden":!0,...r,ref:e})});tR.displayName=UY;var a_="SelectArrow",WY=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=j2(n),i=Hc(a_,n),o=Gc(a_,n);return i.open&&o.position==="popper"?h.jsx(v2,{...s,...r,ref:e}):null});WY.displayName=a_;function nR(t){return t===""||t===void 0}var rR=N.forwardRef((t,e)=>{const{value:n,...r}=t,s=N.useRef(null),i=Dt(e,s),o=N2(n);return N.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),h.jsx(Tg,{asChild:!0,children:h.jsx("select",{...r,ref:i,defaultValue:n})})});rR.displayName="BubbleSelect";function sR(t){const e=bs(t),n=N.useRef(""),r=N.useRef(0),s=N.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function iR(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=$Y(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function $Y(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var HY=LL,oR=ML,GY=OL,YY=IL,KY=FL,aR=VL,ZY=UL,lR=HL,cR=YL,XY=KL,QY=XL,uR=QL,dR=JL,hR=tR;const Ja=HY,el=GY,sa=N.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(oR,{ref:r,className:rt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(YY,{asChild:!0,children:h.jsx(t4,{className:"h-4 w-4 opacity-50"})})]}));sa.displayName=oR.displayName;const fR=N.forwardRef(({className:t,...e},n)=>h.jsx(uR,{ref:n,className:rt("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(zB,{className:"h-4 w-4"})}));fR.displayName=uR.displayName;const pR=N.forwardRef(({className:t,...e},n)=>h.jsx(dR,{ref:n,className:rt("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(t4,{className:"h-4 w-4"})}));pR.displayName=dR.displayName;const ia=N.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(KY,{children:h.jsxs(aR,{ref:s,className:rt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(fR,{}),h.jsx(ZY,{className:rt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(pR,{})]})}));ia.displayName=aR.displayName;const JY=N.forwardRef(({className:t,...e},n)=>h.jsx(lR,{ref:n,className:rt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));JY.displayName=lR.displayName;const qn=N.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(cR,{ref:r,className:rt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(QY,{children:h.jsx(xf,{className:"h-4 w-4"})})}),h.jsx(XY,{children:e})]}));qn.displayName=cR.displayName;const eK=N.forwardRef(({className:t,...e},n)=>h.jsx(hR,{ref:n,className:rt("-mx-1 my-1 h-px bg-muted",t),...e}));eK.displayName=hR.displayName;var k4="Switch",[tK,Zde]=Br(k4),[nK,rK]=tK(k4),mR=N.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[p,f]=N.useState(null),y=Dt(e,_=>f(_)),g=N.useRef(!1),b=p?u||!!p.closest("form"):!0,[v=!1,w]=_s({prop:s,defaultProp:i,onChange:c});return h.jsxs(nK,{scope:n,checked:v,disabled:a,children:[h.jsx(lt.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":yR(v),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:y,onClick:Ke(t.onClick,_=>{w(T=>!T),b&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),b&&h.jsx(sK,{control:p,bubbles:!g.current,name:r,value:l,checked:v,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});mR.displayName=k4;var gR="SwitchThumb",vR=N.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=rK(gR,n);return h.jsx(lt.span,{"data-state":yR(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});vR.displayName=gR;var sK=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=N.useRef(null),o=N2(n),a=p2(e);return N.useEffect(()=>{const l=i.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&d){const p=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(p)}},[o,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yR(t){return t?"checked":"unchecked"}var wR=mR,iK=vR;const ms=N.forwardRef(({className:t,...e},n)=>h.jsx(wR,{className:rt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(iK,{className:rt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ms.displayName=wR.displayName;function xR(t){switch(t.toLowerCase()){case"felice":return"happy";case"triste":return"sad";case"curioso":return"curious";case"spaventato":return"scared";case"eccitato":return"excited";case"confuso":return"confused";case"ansioso":return"anxious";case"arrabbiato":return"angry";case"nostalgico":return"nostalgic";case"pacifico":return"peaceful";case"neutro":return"neutral";default:return["happy","sad","curious","scared","excited","confused","neutral","anxious","angry","nostalgic","peaceful"].includes(t.toLowerCase())?t.toLowerCase():"neutral"}}function oK(t){switch(t.toLowerCase()){case"happy":return"Felice";case"sad":return"Triste";case"curious":return"Curioso";case"scared":return"Spaventato";case"excited":return"Eccitato";case"confused":return"Confuso";case"anxious":return"Ansioso";case"angry":return"Arrabbiato";case"nostalgic":return"Nostalgico";case"peaceful":return"Pacifico";case"neutral":return"Neutro";default:return["felice","triste","curioso","spaventato","eccitato","confuso","neutro","ansioso","arrabbiato","nostalgico","pacifico"].includes(t.toLowerCase())?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():"Neutro"}}function bR({emotion:t,className:e}){const[n,r]=N.useState(0),s=l=>{switch(l){case"happy":return{from:"from-yellow-300",via:"via-green-300",to:"to-yellow-200",textColor:"text-gray-800"};case"sad":return{from:"from-blue-400",via:"via-indigo-400",to:"to-blue-300",textColor:"text-white"};case"curious":return{from:"from-purple-400",via:"via-violet-300",to:"to-purple-300",textColor:"text-white"};case"scared":return{from:"from-red-500",via:"via-red-400",to:"to-orange-400",textColor:"text-white"};case"excited":return{from:"from-orange-400",via:"via-yellow-300",to:"to-orange-300",textColor:"text-gray-800"};case"confused":return{from:"from-gray-500",via:"via-gray-400",to:"to-gray-300",textColor:"text-white"};case"neutral":case"neutro":default:return{from:"from-gray-300",via:"via-gray-200",to:"to-gray-100",textColor:"text-gray-800"}}},i=l=>oK(l);N.useEffect(()=>{let l,c=0;const u=d=>{c===0&&(c=d);const p=d-c;r(f=>(f+p/8e3)%1),c=d,l=requestAnimationFrame(u)};return l=requestAnimationFrame(u),()=>{cancelAnimationFrame(l)}},[]);const o=s(t),a=`translateX(${n*100}%)`;return h.jsxs("div",{className:rt("relative overflow-hidden rounded-md p-0.5",e),children:[h.jsx("div",{className:rt("absolute inset-0 bg-gradient-to-r",o.from,o.via,o.to,"animate-gradient bg-[length:200%_100%]"),style:{transform:a,width:"200%",backgroundPosition:"0 0"}}),h.jsx("div",{className:rt("relative px-3 py-1 text-xs font-medium",o.textColor),children:i(t)})]})}function aK({category:t,emotion:e,isFavorite:n,onCategoryChange:r,onEmotionChange:s,onFavoriteChange:i}){dt.useState("");const o=[{value:"non_categorizzato",label:"Non categorizzato"},{value:"spaventoso",label:"Spaventoso"},{value:"avventura",label:"Avventura"},{value:"romantico",label:"Romantico"},{value:"fantastico",label:"Fantastico"},{value:"supereroi",label:"Supereroi"},{value:"surreale",label:"Surreale"},{value:"famiglia",label:"Famiglia"},{value:"lavoro",label:"Lavoro"},{value:"infanzia",label:"Infanzia"}],a=[{value:"neutro",label:"Neutro"},{value:"felice",label:"Felice"},{value:"triste",label:"Triste"},{value:"spaventato",label:"Spaventato"},{value:"ansioso",label:"Ansioso"},{value:"confuso",label:"Confuso"},{value:"arrabbiato",label:"Arrabbiato"},{value:"nostalgico",label:"Nostalgico"},{value:"eccitato",label:"Eccitato"},{value:"pacifico",label:"Pacifico"}];return h.jsxs("div",{className:"space-y-4 p-4 rounded-lg dark:bg-purple-950/50 light:bg-indigo-50 border dark:border-purple-800 light:border-indigo-200 mb-6",children:[h.jsx("h3",{className:"text-lg font-medium dark:text-white light:text-indigo-900",children:"Categorizzazione del Sogno"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"categoria",children:"Categoria"}),h.jsxs(Ja,{value:t,onValueChange:r,children:[h.jsx(sa,{id:"categoria",children:h.jsx(el,{placeholder:"Seleziona una categoria"})}),h.jsx(ia,{children:o.map(l=>h.jsx(qn,{value:l.value,children:l.label},l.value))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"emozione",children:"Emozione principale"}),h.jsxs(Ja,{value:e,onValueChange:s,children:[h.jsx(sa,{id:"emozione",children:h.jsx(el,{placeholder:"Seleziona un'emozione"})}),h.jsx(ia,{children:a.map(l=>h.jsx(qn,{value:l.value,children:l.label},l.value))})]})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx(jt,{className:"block mb-2",children:"Visualizzazione emotiva"}),h.jsx("div",{className:"flex justify-start",children:h.jsx(bR,{emotion:xR(e),className:"h-8 w-full rounded-md"})})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"preferito",checked:n,onCheckedChange:i}),h.jsxs(jt,{htmlFor:"preferito",className:"flex items-center gap-1",children:[h.jsx(r4,{className:`h-4 w-4 ${n?"text-red-500 fill-red-500":""}`}),"Sogno preferito"]})]})]})}const _R="15.0.4",iA=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),oA=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),l_=(t,e)=>({startTime:e,type:"setValue",value:t}),SR=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),NR=(t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),Sh=t=>t.type==="exponentialRampToValue",Jv=t=>t.type==="linearRampToValue",Yl=t=>Sh(t)||Jv(t),C4=t=>t.type==="setValue",qa=t=>t.type==="setValueCurve",ey=(t,e,n,r)=>{const s=t[e];return s===void 0?r:Yl(s)||C4(s)?s.value:qa(s)?s.values[s.values.length-1]:NR(n,ey(t,e-1,s.startTime,r),s)},aA=(t,e,n,r,s)=>n===void 0?[r.insertTime,s]:Yl(n)?[n.endTime,n.value]:C4(n)?[n.startTime,n.value]:qa(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,ey(t,e-1,n.startTime,s)],c_=t=>t.type==="cancelAndHold",u_=t=>t.type==="cancelScheduledValues",Ol=t=>c_(t)||u_(t)?t.cancelTime:Sh(t)||Jv(t)?t.endTime:t.startTime,lA=(t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,cA=(t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),lK=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},cK=(t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return lK(r,s)},A1=t=>t.type==="setTarget";class uK{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Ol(e);if(c_(e)||u_(e)){const r=this._automationEvents.findIndex(i=>u_(e)&&qa(i)?i.startTime+i.duration>=n:Ol(i)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),c_(e)){const i=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&Yl(s)){if(i!==void 0&&A1(i))throw new Error("The internal list is malformed.");const o=i===void 0?s.insertTime:qa(i)?i.startTime+i.duration:Ol(i),a=i===void 0?this._defaultValue:qa(i)?i.values[i.values.length-1]:i.value,l=Sh(s)?lA(n,o,a,s):cA(n,o,a,s),c=Sh(s)?iA(l,n,this._currenTime):oA(l,n,this._currenTime);this._automationEvents.push(c)}if(i!==void 0&&A1(i)&&this._automationEvents.push(l_(this.getValue(n),n)),i!==void 0&&qa(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),c=o/(l-1)*a,u=i.values.slice(0,l);if(c<1)for(let d=1;d<l;d+=1){const p=c*d%1;u[d]=i.values[d-1]*(1-p)+i.values[d]*p}this._automationEvents[this._automationEvents.length-1]=SR(u,i.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>Ol(o)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&qa(s)&&Ol(s)+s.duration>n)return!1;const i=Sh(e)?iA(e.value,e.endTime,this._currenTime):Jv(e)?oA(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(qa(e)&&n+e.duration>Ol(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Ol(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];A1(s)&&r.unshift(l_(ey(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>Ol(o)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[s];if(i!==void 0&&A1(i)&&(r===void 0||!Yl(r)||r.insertTime>e))return NR(e,ey(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(i!==void 0&&C4(i)&&(r===void 0||!Yl(r)))return i.value;if(i!==void 0&&qa(i)&&(r===void 0||!Yl(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?cK(e,i):i.values[i.values.length-1];if(i!==void 0&&Yl(i)&&(r===void 0||!Yl(r)))return i.value;if(r!==void 0&&Sh(r)){const[o,a]=aA(this._automationEvents,s,i,r,this._defaultValue);return lA(e,o,a,r)}if(r!==void 0&&Jv(r)){const[o,a]=aA(this._automationEvents,s,i,r,this._defaultValue);return cA(e,o,a,r)}return this._defaultValue}}const dK=t=>({cancelTime:t,type:"cancelAndHold"}),hK=t=>({cancelTime:t,type:"cancelScheduledValues"}),fK=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),pK=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),mK=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),gK=()=>new DOMException("","AbortError"),vK=t=>(e,n,[r,s,i],o)=>{t(e[s],[n,r,i],a=>a[0]===n&&a[1]===r,o)},yK=t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},wK=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Sf=new WeakSet,kR=new WeakMap,A4=new WeakMap,CR=new WeakMap,T4=new WeakMap,L2=new WeakMap,AR=new WeakMap,d_=new WeakMap,h_=new WeakMap,f_=new WeakMap,TR={construct(){return TR}},xK=t=>{try{const e=new Proxy(t,TR);new e}catch{return!1}return!0},uA=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,dA=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(uA);for(;s!==null;){const i=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(uA)}return[n.join(";"),r]},hA=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},fA=t=>{if(!xK(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},bK=(t,e,n,r,s,i,o,a,l,c,u,d,p)=>{let f=0;return(y,g,b={credentials:"omit"})=>{const v=u.get(y);if(v!==void 0&&v.has(g))return Promise.resolve();const w=c.get(y);if(w!==void 0){const C=w.get(g);if(C!==void 0)return C}const _=i(y),T=_.audioWorklet===void 0?s(g).then(([C,R])=>{const[E,A]=dA(C,R),D=`${E};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${A}
})})(window,'_AWGS')`;return n(D)}).then(()=>{const C=p._AWGS.pop();if(C===void 0)throw new SyntaxError;r(_.currentTime,_.sampleRate,()=>C(class{},void 0,(R,E)=>{if(R.trim()==="")throw e();const A=h_.get(_);if(A!==void 0){if(A.has(R))throw e();fA(E),hA(E.parameterDescriptors),A.set(R,E)}else fA(E),hA(E.parameterDescriptors),h_.set(_,new Map([[R,E]]))},_.sampleRate,void 0,void 0))}):Promise.all([s(g),Promise.resolve(t(d,d))]).then(([[C,R],E])=>{const A=f+1;f=A;const[D,H]=dA(C,R),z=`${D};((AudioWorkletProcessor,registerProcessor)=>{${H}
})(${E?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${E?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${E?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${A}',class extends AudioWorkletProcessor{process(){return !1}})`,Y=new Blob([z],{type:"application/javascript; charset=utf-8"}),O=URL.createObjectURL(Y);return _.audioWorklet.addModule(O,b).then(()=>{if(a(_))return _;const $=o(_);return $.audioWorklet.addModule(O,b).then(()=>$)}).then($=>{if(l===null)throw new SyntaxError;try{new l($,`__sac${A}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(O))});return w===void 0?c.set(y,new Map([[g,T]])):w.set(g,T),T.then(()=>{const C=u.get(y);C===void 0?u.set(y,new Set([g])):C.add(g)}).finally(()=>{const C=c.get(y);C!==void 0&&C.delete(g)}),T}},bo=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},R2=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},PR=(t,e,n,r)=>{const s=bo(t,e),i=R2(s,o=>o[0]===n&&o[1]===r);return s.size===0&&t.delete(e),i},Og=t=>bo(AR,t),Nf=t=>{if(Sf.has(t))throw new Error("The AudioNode is already stored.");Sf.add(t),Og(t).forEach(e=>e(!0))},ER=t=>"port"in t,Ig=t=>{if(!Sf.has(t))throw new Error("The AudioNode is not stored.");Sf.delete(t),Og(t).forEach(e=>e(!1))},p_=(t,e)=>{!ER(t)&&e.every(n=>n.size===0)&&Ig(t)},_K=(t,e,n,r,s,i,o,a,l,c,u,d,p)=>{const f=new WeakMap;return(y,g,b,v,w)=>{const{activeInputs:_,passiveInputs:T}=i(g),{outputs:C}=i(y),R=a(y),E=A=>{const D=l(g),H=l(y);if(A){const L=PR(T,y,b,v);t(_,y,L,!1),!w&&!d(y)&&n(H,D,b,v),p(g)&&Nf(g)}else{const L=r(_,y,b,v);e(T,v,L,!1),!w&&!d(y)&&s(H,D,b,v);const P=o(g);if(P===0)u(g)&&p_(g,_);else{const U=f.get(g);U!==void 0&&clearTimeout(U),f.set(g,setTimeout(()=>{u(g)&&p_(g,_)},P*1e3))}}};return c(C,[g,b,v],A=>A[0]===g&&A[1]===b&&A[2]===v,!0)?(R.add(E),u(y)?t(_,y,[b,v,E],!0):e(T,v,[y,b,E],!0),!0):!1}},SK=t=>(e,n,[r,s,i],o)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[s,n,i]])):t(a,[s,n,i],l=>l[0]===s&&l[1]===n,o)},NK=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)},kK=t=>(e,n)=>{t(e).add(n)},CK={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},AK=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=s(a),u={...CK,...l},d=r(c,u),p=i(c)?e():null;super(a,!1,d,p),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},os=(t,e)=>t.context===e,TK=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!os(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,c)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},ty=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},xa=()=>new DOMException("","IndexSizeError"),P4=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?xa():r}})(t.getChannelData)},PK={numberOfChannels:1},EK=(t,e,n,r,s,i,o,a)=>{let l=null;return class jR{constructor(u){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:p,sampleRate:f}={...PK,...u};l===null&&(l=new s(1,1,44100));const y=r!==null&&e(i,i)?new r({length:d,numberOfChannels:p,sampleRate:f}):l.createBuffer(p,d,f);if(y.numberOfChannels===0)throw n();return typeof y.copyFromChannel!="function"?(o(y),P4(y)):e(ty,()=>ty(y))||a(y),t.add(y),y}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===jR.prototype||t.has(u)}}},Is=-34028234663852886e22,vs=-Is,tl=t=>Sf.has(t),jK={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},LK=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,u){const d=i(c),p={...jK,...u},f=s(d,p),y=o(d),g=y?e():null;super(c,!1,f,g),this._audioBufferSourceNodeRenderer=g,this._isBufferNullified=!1,this._isBufferSet=p.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,y,f.playbackRate,vs,Is)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const u=typeof c=="function"?a(this,c):null;this._nativeAudioBufferSourceNode.onended=u;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===u?c:d}get playbackRate(){return this._playbackRate}start(c=0,u=0,d){if(this._nativeAudioBufferSourceNode.start(c,u,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[c,u]:[c,u,d]),this.context.state!=="closed"){Nf(this);const p=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",p),tl(this)&&Ig(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",p)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},RK=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(c,u)=>{let d=n(c);const p=os(d,u);if(!p){const f={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(u,f),o!==null&&d.start(...o),a!==null&&d.stop(a)}return i.set(u,d),p?await t(u,c.playbackRate,d.playbackRate):await r(u,c.playbackRate,d.playbackRate),await s(c,u,d),d};return{set start(c){o=c},set stop(c){a=c},render(c,u){const d=i.get(u);return d!==void 0?Promise.resolve(d):l(c,u)}}},MK=t=>"playbackRate"in t,DK=t=>"frequency"in t&&"gain"in t,OK=t=>"offset"in t,IK=t=>!("frequency"in t)&&"gain"in t,FK=t=>"detune"in t&&"frequency"in t&&!("gain"in t),VK=t=>"pan"in t,ws=t=>bo(kR,t),Fg=t=>bo(CR,t),m_=(t,e)=>{const{activeInputs:n}=ws(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||m_(i,[...e,t])}));const r=MK(t)?[t.playbackRate]:ER(t)?Array.from(t.parameters.values()):DK(t)?[t.Q,t.detune,t.frequency,t.gain]:OK(t)?[t.offset]:IK(t)?[t.gain]:FK(t)?[t.detune,t.frequency]:VK(t)?[t.pan]:[];for(const s of r){const i=Fg(s);i!==void 0&&i.activeInputs.forEach(([o])=>m_(o,e))}tl(t)&&Ig(t)},LR=t=>{m_(t.destination,[])},zK=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),BK=(t,e,n,r,s,i,o,a,l)=>class extends t{constructor(u={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new l(u)}catch(y){throw y.code===12&&y.message==="sampleRate is not in range"?n():y}if(d===null)throw r();if(!zK(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&d.sampleRate!==u.sampleRate)throw n();super(d,2);const{latencyHint:p}=u,{sampleRate:f}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:p==="balanced"?512/f:p==="interactive"||p===void 0?256/f:p==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(p*f/128)))*128/f,this._nativeAudioContext=d,l.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";const y=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",y)};d.addEventListener("statechange",y)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),LR(this)}))}createMediaElementSource(u){return new s(this,{mediaElement:u})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(u){return new o(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new a(this,{mediaStreamTrack:u})}resume(){return this._state==="suspended"?new Promise((u,d)=>{const p=()=>{this._nativeAudioContext.removeEventListener("statechange",p),this._nativeAudioContext.state==="running"?u():this.resume().then(u,d)};this._nativeAudioContext.addEventListener("statechange",p)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?e():u})}},qK=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,u){const d=i(c),p=o(d),f=s(d,u,p),y=p?e(a):null;super(c,!1,f,y),this._isNodeOfNativeOfflineAudioContext=p,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},UK=t=>{const e=new WeakMap,n=async(r,s)=>{const i=s.destination;return e.set(s,i),await t(r,s,i),i};return{render(r,s){const i=e.get(s);return i!==void 0?Promise.resolve(i):n(r,s)}}},WK=(t,e,n,r,s,i,o,a)=>(l,c)=>{const u=c.listener,d=()=>{const C=new Float32Array(1),R=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),E=o(c);let A=!1,D=[0,0,-1,0,1,0],H=[0,0,0];const L=()=>{if(A)return;A=!0;const Y=r(c,256,9,0);Y.onaudioprocess=({inputBuffer:O})=>{const $=[i(O,C,0),i(O,C,1),i(O,C,2),i(O,C,3),i(O,C,4),i(O,C,5)];$.some((J,re)=>J!==D[re])&&(u.setOrientation(...$),D=$);const B=[i(O,C,6),i(O,C,7),i(O,C,8)];B.some((J,re)=>J!==H[re])&&(u.setPosition(...B),H=B)},R.connect(Y)},P=Y=>O=>{O!==D[Y]&&(D[Y]=O,u.setOrientation(...D))},U=Y=>O=>{O!==H[Y]&&(H[Y]=O,u.setPosition(...H))},z=(Y,O,$)=>{const B=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:O});B.connect(R,0,Y),B.start(),Object.defineProperty(B.offset,"defaultValue",{get(){return O}});const J=t({context:l},E,B.offset,vs,Is);return a(J,"value",re=>()=>re.call(J),re=>X=>{try{re.call(J,X)}catch(M){if(M.code!==9)throw M}L(),E&&$(X)}),J.cancelAndHoldAtTime=(re=>E?()=>{throw s()}:(...X)=>{const M=re.apply(J,X);return L(),M})(J.cancelAndHoldAtTime),J.cancelScheduledValues=(re=>E?()=>{throw s()}:(...X)=>{const M=re.apply(J,X);return L(),M})(J.cancelScheduledValues),J.exponentialRampToValueAtTime=(re=>E?()=>{throw s()}:(...X)=>{const M=re.apply(J,X);return L(),M})(J.exponentialRampToValueAtTime),J.linearRampToValueAtTime=(re=>E?()=>{throw s()}:(...X)=>{const M=re.apply(J,X);return L(),M})(J.linearRampToValueAtTime),J.setTargetAtTime=(re=>E?()=>{throw s()}:(...X)=>{const M=re.apply(J,X);return L(),M})(J.setTargetAtTime),J.setValueAtTime=(re=>E?()=>{throw s()}:(...X)=>{const M=re.apply(J,X);return L(),M})(J.setValueAtTime),J.setValueCurveAtTime=(re=>E?()=>{throw s()}:(...X)=>{const M=re.apply(J,X);return L(),M})(J.setValueCurveAtTime),J};return{forwardX:z(0,0,P(0)),forwardY:z(1,0,P(1)),forwardZ:z(2,-1,P(2)),positionX:z(6,0,U(0)),positionY:z(7,0,U(1)),positionZ:z(8,0,U(2)),upX:z(3,0,P(3)),upY:z(4,1,P(4)),upZ:z(5,0,P(5))}},{forwardX:p,forwardY:f,forwardZ:y,positionX:g,positionY:b,positionZ:v,upX:w,upY:_,upZ:T}=u.forwardX===void 0?d():u;return{get forwardX(){return p},get forwardY(){return f},get forwardZ(){return y},get positionX(){return g},get positionY(){return b},get positionZ(){return v},get upX(){return w},get upY(){return _},get upZ(){return T}}},ny=t=>"context"in t,Vg=t=>ny(t[0]),md=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},pA=(t,e,[n,r],s)=>{md(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},mA=(t,[e,n,r],s)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):md(i,[n,r],o=>o[0]===n,s)},Hf=t=>"inputs"in t,ry=(t,e,n,r)=>{if(Hf(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},RR=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},$K=(t,e,n)=>R2(t,r=>r[0]===e&&r[1]===n),MR=(t,e)=>{if(!Og(t).delete(e))throw new Error("Missing the expected event listener.")},DR=(t,e,n)=>{const r=bo(t,e),s=R2(r,i=>i[0]===n);return r.size===0&&t.delete(e),s},sy=(t,e,n,r)=>{Hf(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Nn=t=>bo(A4,t),Um=t=>bo(T4,t),nd=t=>d_.has(t),iv=t=>!Sf.has(t),gA=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(s),a.disconnect(s),r.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,u=>u===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),t5=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,i===void 0?1:i+1)}n.forEach((r,s)=>e(s,r))},iy=t=>"context"in t,HK=t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const o=iy(r)?n(r,s,i):n(r,s),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:s}]):a.every(l=>l.input!==i||l.output!==s)&&a.push({input:i,output:s}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,a]of e){const l=a.filter(c=>c.output!==r);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(r))if(s===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const a=o.filter(l=>l.output!==s&&(l.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(l=>{iy(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},GK=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=Fg(e),{outputs:o}=ws(t),a=Og(t),l=c=>{const u=Nn(t),d=Um(e);if(c){const p=DR(i,t,n);pA(s,t,p,!1),!r&&!nd(t)&&u.connect(d,n)}else{const p=$K(s,t,n);mA(i,p,!1),!r&&!nd(t)&&u.disconnect(d,n)}};return md(o,[e,n],c=>c[0]===e&&c[1]===n,!0)?(a.add(l),tl(t)?pA(s,t,[n,l],!0):mA(i,[t,n,l],!0),!0):!1},YK=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=ws(e),o=RR(s[r],t,n);return o===null?[PR(i,t,n,r)[2],!1]:[o[2],!0]},KK=(t,e,n)=>{const{activeInputs:r,passiveInputs:s}=Fg(e),i=RR(r,t,n);return i===null?[DR(s,t,n)[1],!1]:[i[2],!0]},E4=(t,e,n,r,s)=>{const[i,o]=YK(t,n,r,s);if(i!==null&&(MR(t,i),o&&!e&&!nd(t)&&sy(Nn(t),Nn(n),r,s)),tl(n)){const{activeInputs:a}=ws(n);p_(n,a)}},j4=(t,e,n,r)=>{const[s,i]=KK(t,n,r);s!==null&&(MR(t,s),i&&!e&&!nd(t)&&Nn(t).disconnect(Um(n),r))},ZK=(t,e)=>{const n=ws(t),r=[];for(const s of n.outputs)Vg(s)?E4(t,e,...s):j4(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},XK=(t,e,n)=>{const r=ws(t),s=[];for(const i of r.outputs)i[1]===n&&(Vg(i)?E4(t,e,...i):j4(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s},QK=(t,e,n,r,s)=>{const i=ws(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(s===void 0||o[2]===s)).map(o=>(Vg(o)?E4(t,e,...o):j4(t,e,...o),i.outputs.delete(o),o[0]))},JK=(t,e,n,r,s,i,o,a,l,c,u,d,p,f,y,g)=>class extends c{constructor(v,w,_,T){super(_),this._context=v,this._nativeAudioNode=_;const C=u(v);d(C)&&n(gA,()=>gA(C,g))!==!0&&HK(_),A4.set(this,_),AR.set(this,new Set),v.state!=="closed"&&w&&Nf(this),t(this,T,_)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(v){this._nativeAudioNode.channelCount=v}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(v){this._nativeAudioNode.channelCountMode=v}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(v){this._nativeAudioNode.channelInterpretation=v}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(v,w=0,_=0){if(w<0||w>=this._nativeAudioNode.numberOfOutputs)throw s();const T=u(this._context),C=y(T);if(p(v)||f(v))throw i();if(ny(v)){const A=Nn(v);try{const H=ry(this._nativeAudioNode,A,w,_),L=iv(this);(C||L)&&this._nativeAudioNode.disconnect(...H),this.context.state!=="closed"&&!L&&iv(v)&&Nf(v)}catch(H){throw H.code===12?i():H}if(e(this,v,w,_,C)){const H=l([this],v);t5(H,r(C))}return v}const R=Um(v);if(R.name==="playbackRate"&&R.maxValue===1024)throw o();try{this._nativeAudioNode.connect(R,w),(C||iv(this))&&this._nativeAudioNode.disconnect(R,w)}catch(A){throw A.code===12?i():A}if(GK(this,v,w,C)){const A=l([this],v);t5(A,r(C))}}disconnect(v,w,_){let T;const C=u(this._context),R=y(C);if(v===void 0)T=ZK(this,R);else if(typeof v=="number"){if(v<0||v>=this.numberOfOutputs)throw s();T=XK(this,R,v)}else{if(w!==void 0&&(w<0||w>=this.numberOfOutputs)||ny(v)&&_!==void 0&&(_<0||_>=v.numberOfInputs))throw s();if(T=QK(this,R,v,w,_),T.length===0)throw i()}for(const E of T){const A=l([this],E);t5(A,a)}}},eZ=(t,e,n,r,s,i,o,a,l,c,u,d,p)=>(f,y,g,b=null,v=null)=>{const w=g.value,_=new uK(w),T=y?r(_):null,C={get defaultValue(){return w},get maxValue(){return b===null?g.maxValue:b},get minValue(){return v===null?g.minValue:v},get value(){return g.value},set value(R){g.value=R,C.setValueAtTime(R,f.context.currentTime)},cancelAndHoldAtTime(R){if(typeof g.cancelAndHoldAtTime=="function")T===null&&_.flush(f.context.currentTime),_.add(s(R)),g.cancelAndHoldAtTime(R);else{const E=Array.from(_).pop();T===null&&_.flush(f.context.currentTime),_.add(s(R));const A=Array.from(_).pop();g.cancelScheduledValues(R),E!==A&&A!==void 0&&(A.type==="exponentialRampToValue"?g.exponentialRampToValueAtTime(A.value,A.endTime):A.type==="linearRampToValue"?g.linearRampToValueAtTime(A.value,A.endTime):A.type==="setValue"?g.setValueAtTime(A.value,A.startTime):A.type==="setValueCurve"&&g.setValueCurveAtTime(A.values,A.startTime,A.duration))}return C},cancelScheduledValues(R){return T===null&&_.flush(f.context.currentTime),_.add(i(R)),g.cancelScheduledValues(R),C},exponentialRampToValueAtTime(R,E){if(R===0)throw new RangeError;if(!Number.isFinite(E)||E<0)throw new RangeError;const A=f.context.currentTime;return T===null&&_.flush(A),Array.from(_).length===0&&(_.add(c(w,A)),g.setValueAtTime(w,A)),_.add(o(R,E)),g.exponentialRampToValueAtTime(R,E),C},linearRampToValueAtTime(R,E){const A=f.context.currentTime;return T===null&&_.flush(A),Array.from(_).length===0&&(_.add(c(w,A)),g.setValueAtTime(w,A)),_.add(a(R,E)),g.linearRampToValueAtTime(R,E),C},setTargetAtTime(R,E,A){return T===null&&_.flush(f.context.currentTime),_.add(l(R,E,A)),g.setTargetAtTime(R,E,A),C},setValueAtTime(R,E){return T===null&&_.flush(f.context.currentTime),_.add(c(R,E)),g.setValueAtTime(R,E),C},setValueCurveAtTime(R,E,A){const D=R instanceof Float32Array?R:new Float32Array(R);if(d!==null&&d.name==="webkitAudioContext"){const H=E+A,L=f.context.sampleRate,P=Math.ceil(E*L),U=Math.floor(H*L),z=U-P,Y=new Float32Array(z);for(let $=0;$<z;$+=1){const B=(D.length-1)/A*((P+$)/L-E),J=Math.floor(B),re=Math.ceil(B);Y[$]=J===re?D[J]:(1-(B-J))*D[J]+(1-(re-B))*D[re]}T===null&&_.flush(f.context.currentTime),_.add(u(Y,E,A)),g.setValueCurveAtTime(Y,E,A);const O=U/L;O<H&&p(C,Y[Y.length-1],O),p(C,D[D.length-1],H)}else T===null&&_.flush(f.context.currentTime),_.add(u(D,E,A)),g.setValueCurveAtTime(D,E,A);return C}};return n.set(C,g),e.set(C,f),t(C,T),C},tZ=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}else throw new Error("Can't apply an unknown automation.")}});class OR{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const nZ={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},rZ=(t,e,n,r,s,i,o,a,l,c,u,d,p,f)=>class extends e{constructor(g,b,v){var w;const _=a(g),T=l(_),C=u({...nZ,...v});p(C);const R=h_.get(_),E=R==null?void 0:R.get(b),A=T||_.state!=="closed"?_:(w=o(_))!==null&&w!==void 0?w:_,D=s(A,T?null:g.baseLatency,c,b,E,C),H=T?r(b,C,E):null;super(g,!0,D,H);const L=[];D.parameters.forEach((U,z)=>{const Y=n(this,T,U);L.push([z,Y])}),this._nativeAudioWorkletNode=D,this._onprocessorerror=null,this._parameters=new OR(L),T&&t(_,this);const{activeInputs:P}=i(this);d(D,P)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(g){const b=typeof g=="function"?f(this,g):null;this._nativeAudioWorkletNode.onprocessorerror=b;const v=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=v!==null&&v===b?g:v}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function oy(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(s,s+128);else{const o=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const IR=(t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},ay=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i=typeof e=="number"?e:e[r];for(let o=0;o<i;o+=1)s.push(new Float32Array(128));n.push(s)}return n},sZ=(t,e)=>{const n=bo(f_,t),r=Nn(e);return bo(n,r)},iZ=async(t,e,n,r,s,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,c=s.reduce((b,v)=>b+v,0),u=c===0?null:n.createBuffer(c,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const d=ws(t),p=await sZ(n,t),f=ay(r.numberOfInputs,r.channelCount),y=ay(r.numberOfOutputs,s),g=Array.from(t.parameters.keys()).reduce((b,v)=>({...b,[v]:new Float32Array(128)}),{});for(let b=0;b<a;b+=128){if(r.numberOfInputs>0&&e!==null)for(let v=0;v<r.numberOfInputs;v+=1)for(let w=0;w<r.channelCount;w+=1)oy(e,f[v],w,w,b);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:v},w)=>{oy(e,g,v,l+w,b)});for(let v=0;v<r.numberOfInputs;v+=1)for(let w=0;w<s[v];w+=1)y[v][w].byteLength===0&&(y[v][w]=new Float32Array(128));try{const v=f.map((_,T)=>d.activeInputs[T].size===0?[]:_),w=o(b/n.sampleRate,n.sampleRate,()=>p.process(v,y,g));if(u!==null)for(let _=0,T=0;_<r.numberOfOutputs;_+=1){for(let C=0;C<s[_];C+=1)IR(u,y[_],C,T+C,b);T+=s[_]}if(!w)break}catch(v){t.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return u},oZ=(t,e,n,r,s,i,o,a,l,c,u,d,p,f,y,g)=>(b,v,w)=>{const _=new WeakMap;let T=null;const C=async(R,E)=>{let A=u(R),D=null;const H=os(A,E),L=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(d===null){const P=L.reduce((O,$)=>O+$,0),U=s(E,{channelCount:Math.max(1,P),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,P)}),z=[];for(let O=0;O<R.numberOfOutputs;O+=1)z.push(r(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:L[O]}));const Y=o(E,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});Y.connect=e.bind(null,z),Y.disconnect=l.bind(null,z),D=[U,z,Y]}else H||(A=new d(E,b));if(_.set(E,D===null?A:D[2]),D!==null){if(T===null){if(w===void 0)throw new Error("Missing the processor constructor.");if(p===null)throw new Error("Missing the native OfflineAudioContext constructor.");const $=R.channelCount*R.numberOfInputs,B=w.parameterDescriptors===void 0?0:w.parameterDescriptors.length,J=$+B;T=iZ(R,J===0?null:await(async()=>{const X=new p(J,Math.ceil(R.context.length/128)*128,E.sampleRate),M=[],F=[];for(let se=0;se<v.numberOfInputs;se+=1)M.push(o(X,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),F.push(s(X,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const K=await Promise.all(Array.from(R.parameters.values()).map(async se=>{const oe=i(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:se.value});return await f(X,se,oe.offset),oe})),ee=r(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,$+B)});for(let se=0;se<v.numberOfInputs;se+=1){M[se].connect(F[se]);for(let oe=0;oe<v.channelCount;oe+=1)F[se].connect(ee,oe,se*v.channelCount+oe)}for(const[se,oe]of K.entries())oe.connect(ee,0,$+se),oe.start(0);return ee.connect(X.destination),await Promise.all(M.map(se=>y(R,X,se))),g(X)})(),E,v,L,w,c)}const P=await T,U=n(E,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[z,Y,O]=D;P!==null&&(U.buffer=P,U.start(0)),U.connect(z);for(let $=0,B=0;$<R.numberOfOutputs;$+=1){const J=Y[$];for(let re=0;re<L[$];re+=1)z.connect(J,B+re,re);B+=L[$]}return O}if(H)for(const[P,U]of R.parameters.entries())await t(E,U,A.parameters.get(P));else for(const[P,U]of R.parameters.entries())await f(E,U,A.parameters.get(P));return await y(R,E,A),A};return{render(R,E){a(E,R);const A=_.get(E);return A!==void 0?Promise.resolve(A):C(R,E)}}},aZ=(t,e,n,r,s,i,o,a,l,c,u,d,p,f,y,g,b,v,w,_)=>class extends y{constructor(C,R){super(C,R),this._nativeContext=C,this._audioWorklet=t===void 0?void 0:{addModule:(E,A)=>t(this,E,A)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(C,R,E){return new n({length:R,numberOfChannels:C,sampleRate:E})}createBufferSource(){return new r(this)}createChannelMerger(C=6){return new i(this,{numberOfInputs:C})}createChannelSplitter(C=6){return new o(this,{numberOfOutputs:C})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(C=1){return new u(this,{maxDelayTime:C})}createDynamicsCompressor(){return new d(this)}createGain(){return new p(this)}createIIRFilter(C,R){return new f(this,{feedback:R,feedforward:C})}createOscillator(){return new g(this)}createPanner(){return new b(this)}createPeriodicWave(C,R,E={disableNormalization:!1}){return new v(this,{...E,imag:R,real:C})}createStereoPanner(){return new w(this)}createWaveShaper(){return new _(this)}decodeAudioData(C,R,E){return c(this._nativeContext,C).then(A=>(typeof R=="function"&&R(A),A),A=>{throw typeof E=="function"&&E(A),A})}},lZ={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},cZ=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,u){const d=i(c),p={...lZ,...u},f=s(d,p),y=o(d),g=y?n():null;super(c,!1,f,g),this._Q=e(this,y,f.Q,vs,Is),this._detune=e(this,y,f.detune,1200*Math.log2(vs),-1200*Math.log2(vs)),this._frequency=e(this,y,f.frequency,c.sampleRate/2,0),this._gain=e(this,y,f.gain,40*Math.log10(vs),Is),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,u,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,u,d)}catch(p){throw p.code===11?r():p}if(c.length!==u.length||u.length!==d.length)throw r()}},uZ=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=os(c,l);if(!u){const d={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(l,d)}return i.set(l,c),u?(await t(l,a.Q,c.Q),await t(l,a.detune,c.detune),await t(l,a.frequency,c.frequency),await t(l,a.gain,c.gain)):(await r(l,a.Q,c.Q),await r(l,a.detune,c.detune),await r(l,a.frequency,c.frequency),await r(l,a.gain,c.gain)),await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},dZ=(t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t.get(n);if(i!==void 0)return i;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},hZ={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},fZ=(t,e,n,r,s)=>class extends t{constructor(o,a){const l=r(o),c={...hZ,...a},u=n(l,c),d=s(l)?e():null;super(o,!1,u,d)}},pZ=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!os(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,c)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},mZ={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},gZ=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=r(a),u=i({...mZ,...l}),d=n(c,u),p=s(c)?e():null;super(a,!1,d,p)}},vZ=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!os(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,c)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},yZ=t=>(e,n,r)=>t(n,e,r),wZ=t=>(e,n,r=0,s=0)=>{const i=e[r];if(i===void 0)throw t();return iy(n)?i.connect(n,0,s):i.connect(n,0)},xZ=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},bZ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},_Z=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...bZ,...c},p=r(u,d),f=i(u),y=f?n():null;super(l,!1,p,y),this._constantSourceNodeRenderer=y,this._nativeConstantSourceNode=p,this._offset=e(this,f,p.offset,vs,Is),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=c;const u=this._nativeConstantSourceNode.onended;this._onended=u!==null&&u===c?l:u}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){Nf(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),tl(this)&&Ig(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},SZ=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(c,u)=>{let d=n(c);const p=os(d,u);if(!p){const f={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(u,f),o!==null&&d.start(o),a!==null&&d.stop(a)}return i.set(u,d),p?await t(u,c.offset,d.offset):await r(u,c.offset,d.offset),await s(c,u,d),d};return{set start(c){o=c},set stop(c){a=c},render(c,u){const d=i.get(u);return d!==void 0?Promise.resolve(d):l(c,u)}}},NZ=t=>e=>(t[0]=e,t[0]),kZ={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},CZ=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=r(a),u={...kZ,...l},d=n(c,u),f=s(c)?e():null;super(a,!1,d,f),this._isBufferNullified=!1,this._nativeConvolverNode=d,u.buffer!==null&&i(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},AZ=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!os(a,o)){const c={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,c)}return r.set(o,a),Hf(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},TZ=(t,e)=>(n,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(i){throw i.name==="SyntaxError"?t():i}},PZ=()=>new DOMException("","DataCloneError"),vA=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},EZ=(t,e,n,r,s,i,o,a,l,c,u)=>(d,p)=>{const f=o(d)?d:i(d);if(s.has(p)){const y=n();return Promise.reject(y)}try{s.add(p)}catch{}return e(l,()=>l(f))?f.decodeAudioData(p).then(y=>(vA(p).catch(()=>{}),e(a,()=>a(y))||u(y),t.add(y),y)):new Promise((y,g)=>{const b=async()=>{try{await vA(p)}catch{}},v=w=>{g(w),b()};try{f.decodeAudioData(p,w=>{typeof w.copyFromChannel!="function"&&(c(w),P4(w)),t.add(w),b().then(()=>y(w))},w=>{v(w===null?r():w)})}catch(w){v(w)}})},jZ=(t,e,n,r,s,i,o,a)=>(l,c)=>{const u=e.get(l);if(u===void 0)throw new Error("Missing the expected cycle count.");const d=i(l.context),p=a(d);if(u===c){if(e.delete(l),!p&&o(l)){const f=r(l),{outputs:y}=n(l);for(const g of y)if(Vg(g)){const b=r(g[0]);t(f,b,g[1],g[2])}else{const b=s(g[0]);f.connect(b,g[1])}}}else e.set(l,u-c)},LZ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},RZ=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...LZ,...c},p=r(u,d),f=i(u),y=f?n(d.maxDelayTime):null;super(l,!1,p,y),this._delayTime=e(this,f,p.delayTime),o(this,d.maxDelayTime)}get delayTime(){return this._delayTime}},MZ=(t,e,n,r,s)=>i=>{const o=new WeakMap,a=async(l,c)=>{let u=n(l);const d=os(u,c);if(!d){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:i};u=e(c,p)}return o.set(c,u),d?await t(c,l.delayTime,u.delayTime):await r(c,l.delayTime,u.delayTime),await s(l,c,u),u};return{render(l,c){const u=o.get(c);return u!==void 0?Promise.resolve(u):a(l,c)}}},DZ=t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r),OZ=t=>(e,n)=>{t(e).delete(n)},IZ=t=>"delayTime"in t,FZ=(t,e,n)=>function r(s,i){const o=ny(i)?i:n(t,i);if(IZ(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>r([...s,o],l[0])).reduce((l,c)=>l.concat(c),[])},T1=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},VZ=t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?T1(t,e,n).disconnect():iy(n)?r===void 0?e.forEach(i=>i.disconnect(n)):s===void 0?T1(t,e,r).disconnect(n,0):T1(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(i=>i.disconnect(n)):T1(t,e,r).disconnect(n,0),zZ={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},BZ=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,u){const d=i(c),p={...zZ,...u},f=r(d,p),y=o(d),g=y?n():null;super(c,!1,f,g),this._attack=e(this,y,f.attack),this._knee=e(this,y,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,y,f.ratio),this._release=e(this,y,f.release),this._threshold=e(this,y,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=u,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=u,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},qZ=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=os(c,l);if(!u){const d={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(l,d)}return i.set(l,c),u?(await t(l,a.attack,c.attack),await t(l,a.knee,c.knee),await t(l,a.ratio,c.ratio),await t(l,a.release,c.release),await t(l,a.threshold,c.threshold)):(await r(l,a.attack,c.attack),await r(l,a.knee,c.knee),await r(l,a.ratio,c.ratio),await r(l,a.release,c.release),await r(l,a.threshold,c.threshold)),await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},UZ=()=>new DOMException("","EncodingError"),WZ=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(u,d,p,f,y)=>{if(d===a||d===t.location.href&&p===1&&f===1)return c(),r(y),!1;if(l!==null)return l(u,d,p,f,y)},i.onerror=()=>{c(),r(new SyntaxError)},i.onload=()=>{c(),n()},i.src=a,i.type="module",s.appendChild(i)}}),$Z=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,s)}},HZ=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},GZ=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},YZ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},KZ=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=s(a),u={...YZ,...l},d=r(c,u),p=i(c),f=p?n():null;super(a,!1,d,f),this._gain=e(this,p,d.gain,vs,Is)}get gain(){return this._gain}},ZZ=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=os(c,l);if(!u){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(l,d)}return i.set(l,c),u?await t(l,a.gain,c.gain):await r(l,a.gain,c.gain),await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},XZ=(t,e)=>n=>e(t,n),QZ=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},JZ=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},eX=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},tX=t=>e=>t.get(e),Er=()=>new DOMException("","InvalidStateError"),nX=t=>e=>{const n=t.get(e);if(n===void 0)throw Er();return n},rX=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},sX=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},M2=()=>new DOMException("","InvalidAccessError"),iX=t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw M2();return e.call(t,n,r,s)})(t.getFrequencyResponse)},oX={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},aX=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=r(a),u=s(c),d={...oX,...l},p=e(c,u?null:a.baseLatency,d),f=u?n(d.feedback,d.feedforward):null;super(a,!1,p,f),iX(p),this._nativeIIRFilterNode=p,i(this,1)}getFrequencyResponse(a,l,c){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,c)}},FR=(t,e,n,r,s,i,o,a,l,c,u)=>{const d=c.length;let p=a;for(let f=0;f<d;f+=1){let y=n[0]*c[f];for(let g=1;g<s;g+=1){const b=p-g&l-1;y+=n[g]*i[b],y-=t[g]*o[b]}for(let g=s;g<r;g+=1)y+=n[g]*i[p-g&l-1];for(let g=s;g<e;g+=1)y-=t[g]*o[p-g&l-1];i[p]=c[f],o[p]=y,p=p+1&l-1,u[f]=y}return p},lX=(t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),o=s.length,a=i.length,l=Math.min(o,a);if(s[0]!==1){for(let y=0;y<o;y+=1)i[y]/=s[0];for(let y=1;y<a;y+=1)s[y]/=s[0]}const c=32,u=new Float32Array(c),d=new Float32Array(c),p=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let y=0;y<f;y+=1){const g=t.getChannelData(y),b=p.getChannelData(y);u.fill(0),d.fill(0),FR(s,o,i,a,l,u,d,0,c,g,b)}return p},cX=(t,e,n,r,s)=>(i,o)=>{const a=new WeakMap;let l=null;const c=async(u,d)=>{let p=null,f=e(u);const y=os(f,d);if(d.createIIRFilter===void 0?p=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):y||(f=d.createIIRFilter(o,i)),a.set(d,p===null?f:p),p!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const b=new n(u.context.destination.channelCount,u.context.length,d.sampleRate);l=(async()=>{await r(u,b,b.destination);const v=await s(b);return lX(v,d,i,o)})()}const g=await l;return p.buffer=g,p.start(0),p}return await r(u,d,f),f};return{render(u,d){const p=a.get(d);return p!==void 0?Promise.resolve(p):c(u,d)}}},uX=(t,e,n,r,s,i)=>o=>(a,l)=>{const c=t.get(a);if(c===void 0){if(!o&&i(a)){const u=r(a),{outputs:d}=n(a);for(const p of d)if(Vg(p)){const f=r(p[0]);e(u,f,p[1],p[2])}else{const f=s(p[0]);u.disconnect(f,p[1])}}t.set(a,l)}else t.set(a,c+l)},dX=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},hX=(t,e)=>n=>t.has(n)||e(n),fX=(t,e)=>n=>t.has(n)||e(n),pX=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},mX=t=>e=>t!==null&&e instanceof t,gX=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,vX=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,yX=(t,e)=>n=>t(n)||e(n),wX=t=>e=>t!==null&&e instanceof t,xX=t=>t!==null&&t.isSecureContext,bX=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},_X={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},SX=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i);if(r(a))throw new TypeError;const l={..._X,...o},c=e(a,l);super(i,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},NX=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},kX=(t,e,n)=>class extends t{constructor(s,i){const o=n(s),a=e(o,i);super(s,!0,a,null)}},CX=(t,e,n,r,s,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,L2.set(this,a),r(a)&&s.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===l?a:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Wm=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},AX=(t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(o=>(a,l=0,c=0)=>{const u=i.size===0;if(e(a))return o.call(n,a,l,c),t(i,[a,l,c],d=>d[0]===a&&d[1]===l&&d[2]===c,!0),u&&r(),a;o.call(n,a,l),t(i,[a,l],d=>d[0]===a&&d[1]===l,!0),u&&r()})(n.connect),n.disconnect=(o=>(a,l,c)=>{const u=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const p of i)p[1]===a&&i.delete(p)}else{e(a)?o.call(n,a,l,c):o.call(n,a,l);for(const p of i)p[0]===a&&(l===void 0||p[1]===l)&&(c===void 0||p[2]===c)&&i.delete(p)}const d=i.size===0;u&&d&&s()})(n.disconnect),n},Cn=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},br=(t,e)=>{Cn(t,e,"channelCount"),Cn(t,e,"channelCountMode"),Cn(t,e,"channelInterpretation")},yA=t=>typeof t.getFloatTimeDomainData=="function",TX=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=(n[s]-128)*.0078125;return e}},PX=(t,e)=>(n,r)=>{const s=n.createAnalyser();if(br(s,r),!(r.maxDecibels>r.minDecibels))throw e();return Cn(s,r,"fftSize"),Cn(s,r,"maxDecibels"),Cn(s,r,"minDecibels"),Cn(s,r,"smoothingTimeConstant"),t(yA,()=>yA(s))||TX(s),s},EX=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Hn=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},jX=t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw Er();e.call(t,r,s,i),n=!0}})(t.start)},L4=t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},R4=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},LX=(t,e,n,r,s,i,o,a,l,c,u)=>(d,p)=>{const f=d.createBufferSource();return br(f,p),Hn(f,p,"playbackRate"),Cn(f,p,"buffer"),Cn(f,p,"loop"),Cn(f,p,"loopEnd"),Cn(f,p,"loopStart"),e(n,()=>n(d))||jX(f),e(r,()=>r(d))||l(f),e(s,()=>s(d))||c(f,d),e(i,()=>i(d))||L4(f),e(o,()=>o(d))||u(f,d),e(a,()=>a(d))||R4(f),t(d,f),f},RX=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,MX=(t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(c){if(l>i.maxChannelCount)throw c}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},DX=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,OX=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},IX=(t,e,n,r,s)=>(i,o,a,l,c,u)=>{if(a!==null)try{const d=new a(i,l,u),p=new Map;let f=null;if(Object.defineProperties(d,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>f,set:y=>{typeof f=="function"&&d.removeEventListener("processorerror",f),f=typeof y=="function"?y:null,typeof f=="function"&&d.addEventListener("processorerror",f)}}}),d.addEventListener=(y=>(...g)=>{if(g[0]==="processorerror"){const b=typeof g[1]=="function"?g[1]:typeof g[1]=="object"&&g[1]!==null&&typeof g[1].handleEvent=="function"?g[1].handleEvent:null;if(b!==null){const v=p.get(g[1]);v!==void 0?g[1]=v:(g[1]=w=>{w.type==="error"?(Object.defineProperties(w,{type:{value:"processorerror"}}),b(w)):b(new ErrorEvent(g[0],{...w}))},p.set(b,g[1]))}}return y.call(d,"error",g[1],g[2]),y.call(d,...g)})(d.addEventListener),d.removeEventListener=(y=>(...g)=>{if(g[0]==="processorerror"){const b=p.get(g[1]);b!==void 0&&(p.delete(g[1]),g[1]=b)}return y.call(d,"error",g[1],g[2]),y.call(d,g[0],g[1],g[2])})(d.removeEventListener),u.numberOfOutputs!==0){const y=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(y).connect(i.destination),s(d,()=>y.disconnect(),()=>y.connect(i.destination))}return d}catch(d){throw d.code===11?r():d}if(c===void 0)throw r();return OX(u),e(i,o,c,u)},VR=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),FX=t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}),VX=async(t,e)=>{const n=await FX(e);return new t(n)},zX=(t,e,n,r)=>{let s=f_.get(t);s===void 0&&(s=new WeakMap,f_.set(t,s));const i=VX(n,r);return s.set(e,i),i},BX=(t,e,n,r,s,i,o,a,l,c,u,d,p)=>(f,y,g,b)=>{if(b.numberOfInputs===0&&b.numberOfOutputs===0)throw l();const v=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(v.some(de=>de<1))throw l();if(v.length!==b.numberOfOutputs)throw e();if(b.channelCountMode!=="explicit")throw l();const w=b.channelCount*b.numberOfInputs,_=v.reduce((de,Q)=>de+Q,0),T=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length;if(w+T>6||_>6)throw l();const C=new MessageChannel,R=[],E=[];for(let de=0;de<b.numberOfInputs;de+=1)R.push(o(f,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),E.push(s(f,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const A=[];if(g.parameterDescriptors!==void 0)for(const{defaultValue:de,maxValue:Q,minValue:Ge,name:qe}of g.parameterDescriptors){const Se=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:b.parameterData[qe]!==void 0?b.parameterData[qe]:de===void 0?0:de});Object.defineProperties(Se.offset,{defaultValue:{get:()=>de===void 0?0:de},maxValue:{get:()=>Q===void 0?vs:Q},minValue:{get:()=>Ge===void 0?Is:Ge}}),A.push(Se)}const D=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,w+T)}),H=VR(y,f.sampleRate),L=a(f,H,w+T,Math.max(1,_)),P=s(f,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),U=[];for(let de=0;de<b.numberOfOutputs;de+=1)U.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[de]}));for(let de=0;de<b.numberOfInputs;de+=1){R[de].connect(E[de]);for(let Q=0;Q<b.channelCount;Q+=1)E[de].connect(D,Q,de*b.channelCount+Q)}const z=new OR(g.parameterDescriptors===void 0?[]:g.parameterDescriptors.map(({name:de},Q)=>{const Ge=A[Q];return Ge.connect(D,0,w+Q),Ge.start(0),[de,Ge.offset]}));D.connect(L);let Y=b.channelInterpretation,O=null;const $=b.numberOfOutputs===0?[L]:U,B={get bufferSize(){return H},get channelCount(){return b.channelCount},set channelCount(de){throw n()},get channelCountMode(){return b.channelCountMode},set channelCountMode(de){throw n()},get channelInterpretation(){return Y},set channelInterpretation(de){for(const Q of R)Q.channelInterpretation=de;Y=de},get context(){return L.context},get inputs(){return R},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get onprocessorerror(){return O},set onprocessorerror(de){typeof O=="function"&&B.removeEventListener("processorerror",O),O=typeof de=="function"?de:null,typeof O=="function"&&B.addEventListener("processorerror",O)},get parameters(){return z},get port(){return C.port2},addEventListener(...de){return L.addEventListener(de[0],de[1],de[2])},connect:t.bind(null,$),disconnect:c.bind(null,$),dispatchEvent(...de){return L.dispatchEvent(de[0])},removeEventListener(...de){return L.removeEventListener(de[0],de[1],de[2])}},J=new Map;C.port1.addEventListener=(de=>(...Q)=>{if(Q[0]==="message"){const Ge=typeof Q[1]=="function"?Q[1]:typeof Q[1]=="object"&&Q[1]!==null&&typeof Q[1].handleEvent=="function"?Q[1].handleEvent:null;if(Ge!==null){const qe=J.get(Q[1]);qe!==void 0?Q[1]=qe:(Q[1]=Se=>{u(f.currentTime,f.sampleRate,()=>Ge(Se))},J.set(Ge,Q[1]))}}return de.call(C.port1,Q[0],Q[1],Q[2])})(C.port1.addEventListener),C.port1.removeEventListener=(de=>(...Q)=>{if(Q[0]==="message"){const Ge=J.get(Q[1]);Ge!==void 0&&(J.delete(Q[1]),Q[1]=Ge)}return de.call(C.port1,Q[0],Q[1],Q[2])})(C.port1.removeEventListener);let re=null;Object.defineProperty(C.port1,"onmessage",{get:()=>re,set:de=>{typeof re=="function"&&C.port1.removeEventListener("message",re),re=typeof de=="function"?de:null,typeof re=="function"&&(C.port1.addEventListener("message",re),C.port1.start())}}),g.prototype.port=C.port1;let X=null;zX(f,B,g,b).then(de=>X=de);const F=ay(b.numberOfInputs,b.channelCount),K=ay(b.numberOfOutputs,v),ee=g.parameterDescriptors===void 0?[]:g.parameterDescriptors.reduce((de,{name:Q})=>({...de,[Q]:new Float32Array(128)}),{});let se=!0;const oe=()=>{b.numberOfOutputs>0&&L.disconnect(P);for(let de=0,Q=0;de<b.numberOfOutputs;de+=1){const Ge=U[de];for(let qe=0;qe<v[de];qe+=1)P.disconnect(Ge,Q+qe,qe);Q+=v[de]}},ae=new Map;L.onaudioprocess=({inputBuffer:de,outputBuffer:Q})=>{if(X!==null){const Ge=d(B);for(let qe=0;qe<H;qe+=128){for(let Se=0;Se<b.numberOfInputs;Se+=1)for(let Re=0;Re<b.channelCount;Re+=1)oy(de,F[Se],Re,Re,qe);g.parameterDescriptors!==void 0&&g.parameterDescriptors.forEach(({name:Se},Re)=>{oy(de,ee,Se,w+Re,qe)});for(let Se=0;Se<b.numberOfInputs;Se+=1)for(let Re=0;Re<v[Se];Re+=1)K[Se][Re].byteLength===0&&(K[Se][Re]=new Float32Array(128));try{const Se=F.map((Be,te)=>{if(Ge[te].size>0)return ae.set(te,H/128),Be;const ve=ae.get(te);return ve===void 0?[]:(Be.every(Pe=>Pe.every(Te=>Te===0))&&(ve===1?ae.delete(te):ae.set(te,ve-1)),Be)});se=u(f.currentTime+qe/f.sampleRate,f.sampleRate,()=>X.process(Se,K,ee));for(let Be=0,te=0;Be<b.numberOfOutputs;Be+=1){for(let le=0;le<v[Be];le+=1)IR(Q,K[Be],le,te+le,qe);te+=v[Be]}}catch(Se){se=!1,B.dispatchEvent(new ErrorEvent("processorerror",{colno:Se.colno,filename:Se.filename,lineno:Se.lineno,message:Se.message}))}if(!se){for(let Se=0;Se<b.numberOfInputs;Se+=1){R[Se].disconnect(E[Se]);for(let Re=0;Re<b.channelCount;Re+=1)E[qe].disconnect(D,Re,Se*b.channelCount+Re)}if(g.parameterDescriptors!==void 0){const Se=g.parameterDescriptors.length;for(let Re=0;Re<Se;Re+=1){const Be=A[Re];Be.disconnect(D,0,w+Re),Be.stop()}}D.disconnect(L),L.onaudioprocess=null,pe?oe():Ce();break}}}};let pe=!1;const _e=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),be=()=>L.connect(_e).connect(f.destination),Ce=()=>{L.disconnect(_e),_e.disconnect()},Fe=()=>{if(se){Ce(),b.numberOfOutputs>0&&L.connect(P);for(let de=0,Q=0;de<b.numberOfOutputs;de+=1){const Ge=U[de];for(let qe=0;qe<v[de];qe+=1)P.connect(Ge,Q+qe,qe);Q+=v[de]}}pe=!0},et=()=>{se&&(be(),oe()),pe=!1};return be(),p(B,Fe,et)},zR=(t,e)=>{const n=t.createBiquadFilter();return br(n,e),Hn(n,e,"Q"),Hn(n,e,"detune"),Hn(n,e,"frequency"),Hn(n,e,"gain"),Cn(n,e,"type"),n},qX=(t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),br(s,r),s},UX=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Er()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Er()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Er()}})},zg=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return br(n,e),UX(n),n},WX=(t,e,n,r,s)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return br(a,o),Hn(a,o,"offset"),e(r,()=>r(i))||L4(a),e(s,()=>s(i))||R4(a),t(i,a),a},Gf=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),$X=(t,e,n,r)=>(s,{offset:i,...o})=>{const a=s.createBuffer(1,2,44100),l=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(s,{...o,gain:i}),u=a.getChannelData(0);u[0]=1,u[1]=1,l.buffer=a,l.loop=!0;const d={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(y){c.channelCount=y},get channelCountMode(){return c.channelCountMode},set channelCountMode(y){c.channelCountMode=y},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(y){c.channelInterpretation=y},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(y){l.onended=y},addEventListener(...y){return l.addEventListener(y[0],y[1],y[2])},dispatchEvent(...y){return l.dispatchEvent(y[0])},removeEventListener(...y){return l.removeEventListener(y[0],y[1],y[2])},start(y=0){l.start.call(l,y)},stop(y=0){l.stop.call(l,y)}},p=()=>l.connect(c),f=()=>l.disconnect(c);return t(s,l),r(Gf(d,c),p,f)},HX=(t,e)=>(n,r)=>{const s=n.createConvolver();if(br(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),Cn(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",i=>()=>i.call(s),i=>o=>{if(o>2)throw t();return i.call(s,o)}),r.channelCountMode==="max"))throw t();return e(s,"channelCountMode",i=>()=>i.call(s),i=>o=>{if(o==="max")throw t();return i.call(s,o)}),s},BR=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return br(n,e),Hn(n,e,"delayTime"),n},GX=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(br(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Hn(r,n,"attack"),Hn(r,n,"knee"),Hn(r,n,"ratio"),Hn(r,n,"release"),Hn(r,n,"threshold"),r},Us=(t,e)=>{const n=t.createGain();return br(n,e),Hn(n,e,"gain"),n},YX=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return br(s,r),s};function KX(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function ZX(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function wA(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=ZX(n,e),n[0]+=t[r];return n}const XX=(t,e,n,r)=>(s,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:u})=>{const d=VR(i,s.sampleRate),p=c instanceof Float64Array?c:new Float64Array(c),f=u instanceof Float64Array?u:new Float64Array(u),y=p.length,g=f.length,b=Math.min(y,g);if(y===0||y>20)throw r();if(p[0]===0)throw e();if(g===0||g>20)throw r();if(f[0]===0)throw e();if(p[0]!==1){for(let A=0;A<g;A+=1)f[A]/=p[0];for(let A=1;A<y;A+=1)p[A]/=p[0]}const v=n(s,d,o,o);v.channelCount=o,v.channelCountMode=a,v.channelInterpretation=l;const w=32,_=[],T=[],C=[];for(let A=0;A<o;A+=1){_.push(0);const D=new Float32Array(w),H=new Float32Array(w);D.fill(0),H.fill(0),T.push(D),C.push(H)}v.onaudioprocess=A=>{const D=A.inputBuffer,H=A.outputBuffer,L=D.numberOfChannels;for(let P=0;P<L;P+=1){const U=D.getChannelData(P),z=H.getChannelData(P);_[P]=FR(p,y,f,g,b,T[P],C[P],_[P],w,U,z)}};const R=s.sampleRate/2;return Gf({get bufferSize(){return d},get channelCount(){return v.channelCount},set channelCount(A){v.channelCount=A},get channelCountMode(){return v.channelCountMode},set channelCountMode(A){v.channelCountMode=A},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(A){v.channelInterpretation=A},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener(...A){return v.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return v.dispatchEvent(A[0])},getFrequencyResponse(A,D,H){if(A.length!==D.length||D.length!==H.length)throw t();const L=A.length;for(let P=0;P<L;P+=1){const U=-Math.PI*(A[P]/R),z=[Math.cos(U),Math.sin(U)],Y=wA(f,z),O=wA(p,z),$=KX(Y,O);D[P]=Math.sqrt($[0]*$[0]+$[1]*$[1]),H[P]=Math.atan2($[1],$[0])}},removeEventListener(...A){return v.removeEventListener(A[0],A[1],A[2])}},v)},QX=(t,e)=>t.createMediaElementSource(e.mediaElement),JX=(t,e)=>{const n=t.createMediaStreamDestination();return br(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},eQ=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},tQ=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),i=n.createMediaStreamSource(s);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},nQ=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,rQ=(t,e,n,r,s,i)=>(o,a)=>{const l=o.createOscillator();return br(l,a),Hn(l,a,"detune"),Hn(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):Cn(l,a,"type"),e(n,()=>n(o))||L4(l),e(r,()=>r(o))||i(l,o),e(s,()=>s(o))||R4(l),t(o,l),l},sQ=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(br(r,n),Hn(r,n,"orientationX"),Hn(r,n,"orientationY"),Hn(r,n,"orientationZ"),Hn(r,n,"positionX"),Hn(r,n,"positionY"),Hn(r,n,"positionZ"),Cn(r,n,"coneInnerAngle"),Cn(r,n,"coneOuterAngle"),Cn(r,n,"coneOuterGain"),Cn(r,n,"distanceModel"),Cn(r,n,"maxDistance"),Cn(r,n,"panningModel"),Cn(r,n,"refDistance"),Cn(r,n,"rolloffFactor"),r)},iQ=(t,e,n,r,s,i,o,a,l,c)=>(u,{coneInnerAngle:d,coneOuterAngle:p,coneOuterGain:f,distanceModel:y,maxDistance:g,orientationX:b,orientationY:v,orientationZ:w,panningModel:_,positionX:T,positionY:C,positionZ:R,refDistance:E,rolloffFactor:A,...D})=>{const H=u.createPanner();if(D.channelCount>2||D.channelCountMode==="max")throw o();br(H,D);const L={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},P=n(u,{...L,channelInterpretation:"speakers",numberOfInputs:6}),U=r(u,{...D,gain:1}),z=r(u,{...L,gain:1}),Y=r(u,{...L,gain:0}),O=r(u,{...L,gain:0}),$=r(u,{...L,gain:0}),B=r(u,{...L,gain:0}),J=r(u,{...L,gain:0}),re=s(u,256,6,1),X=i(u,{...L,curve:new Float32Array([1,1]),oversample:"none"});let M=[b,v,w],F=[T,C,R];const K=new Float32Array(1);re.onaudioprocess=({inputBuffer:ae})=>{const pe=[l(ae,K,0),l(ae,K,1),l(ae,K,2)];pe.some((be,Ce)=>be!==M[Ce])&&(H.setOrientation(...pe),M=pe);const _e=[l(ae,K,3),l(ae,K,4),l(ae,K,5)];_e.some((be,Ce)=>be!==F[Ce])&&(H.setPosition(..._e),F=_e)},Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(J.gain,"defaultValue",{get:()=>0});const ee={get bufferSize(){},get channelCount(){return H.channelCount},set channelCount(ae){if(ae>2)throw o();U.channelCount=ae,H.channelCount=ae},get channelCountMode(){return H.channelCountMode},set channelCountMode(ae){if(ae==="max")throw o();U.channelCountMode=ae,H.channelCountMode=ae},get channelInterpretation(){return H.channelInterpretation},set channelInterpretation(ae){U.channelInterpretation=ae,H.channelInterpretation=ae},get coneInnerAngle(){return H.coneInnerAngle},set coneInnerAngle(ae){H.coneInnerAngle=ae},get coneOuterAngle(){return H.coneOuterAngle},set coneOuterAngle(ae){H.coneOuterAngle=ae},get coneOuterGain(){return H.coneOuterGain},set coneOuterGain(ae){if(ae<0||ae>1)throw e();H.coneOuterGain=ae},get context(){return H.context},get distanceModel(){return H.distanceModel},set distanceModel(ae){H.distanceModel=ae},get inputs(){return[U]},get maxDistance(){return H.maxDistance},set maxDistance(ae){if(ae<0)throw new RangeError;H.maxDistance=ae},get numberOfInputs(){return H.numberOfInputs},get numberOfOutputs(){return H.numberOfOutputs},get orientationX(){return z.gain},get orientationY(){return Y.gain},get orientationZ(){return O.gain},get panningModel(){return H.panningModel},set panningModel(ae){H.panningModel=ae},get positionX(){return $.gain},get positionY(){return B.gain},get positionZ(){return J.gain},get refDistance(){return H.refDistance},set refDistance(ae){if(ae<0)throw new RangeError;H.refDistance=ae},get rolloffFactor(){return H.rolloffFactor},set rolloffFactor(ae){if(ae<0)throw new RangeError;H.rolloffFactor=ae},addEventListener(...ae){return U.addEventListener(ae[0],ae[1],ae[2])},dispatchEvent(...ae){return U.dispatchEvent(ae[0])},removeEventListener(...ae){return U.removeEventListener(ae[0],ae[1],ae[2])}};d!==ee.coneInnerAngle&&(ee.coneInnerAngle=d),p!==ee.coneOuterAngle&&(ee.coneOuterAngle=p),f!==ee.coneOuterGain&&(ee.coneOuterGain=f),y!==ee.distanceModel&&(ee.distanceModel=y),g!==ee.maxDistance&&(ee.maxDistance=g),b!==ee.orientationX.value&&(ee.orientationX.value=b),v!==ee.orientationY.value&&(ee.orientationY.value=v),w!==ee.orientationZ.value&&(ee.orientationZ.value=w),_!==ee.panningModel&&(ee.panningModel=_),T!==ee.positionX.value&&(ee.positionX.value=T),C!==ee.positionY.value&&(ee.positionY.value=C),R!==ee.positionZ.value&&(ee.positionZ.value=R),E!==ee.refDistance&&(ee.refDistance=E),A!==ee.rolloffFactor&&(ee.rolloffFactor=A),(M[0]!==1||M[1]!==0||M[2]!==0)&&H.setOrientation(...M),(F[0]!==0||F[1]!==0||F[2]!==0)&&H.setPosition(...F);const se=()=>{U.connect(H),t(U,X,0,0),X.connect(z).connect(P,0,0),X.connect(Y).connect(P,0,1),X.connect(O).connect(P,0,2),X.connect($).connect(P,0,3),X.connect(B).connect(P,0,4),X.connect(J).connect(P,0,5),P.connect(re).connect(u.destination)},oe=()=>{U.disconnect(H),a(U,X,0,0),X.disconnect(z),z.disconnect(P),X.disconnect(Y),Y.disconnect(P),X.disconnect(O),O.disconnect(P),X.disconnect($),$.disconnect(P),X.disconnect(B),B.disconnect(P),X.disconnect(J),J.disconnect(P),P.disconnect(re),re.disconnect(u.destination)};return c(Gf(ee,H),se,oe)},oQ=t=>(e,{disableNormalization:n,imag:r,real:s})=>{const i=r instanceof Float32Array?r:new Float32Array(r),o=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},Bg=(t,e,n,r)=>t.createScriptProcessor(e,n,r),aQ=(t,e)=>(n,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return br(i,r),Hn(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw e()}}),i},lQ=(t,e,n,r,s,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},d=(y,g,b,v)=>{const w=new Float32Array(16385),_=new Float32Array(16385);for(let D=0;D<16385;D+=1){const H=D/16384*l;w[D]=Math.cos(H),_[D]=Math.sin(H)}const T=n(y,{...c,gain:0}),C=r(y,{...u,curve:w}),R=r(y,{...u,curve:a}),E=n(y,{...c,gain:0}),A=r(y,{...u,curve:_});return{connectGraph(){g.connect(T),g.connect(R.inputs===void 0?R:R.inputs[0]),g.connect(E),R.connect(b),b.connect(C.inputs===void 0?C:C.inputs[0]),b.connect(A.inputs===void 0?A:A.inputs[0]),C.connect(T.gain),A.connect(E.gain),T.connect(v,0,0),E.connect(v,0,1)},disconnectGraph(){g.disconnect(T),g.disconnect(R.inputs===void 0?R:R.inputs[0]),g.disconnect(E),R.disconnect(b),b.disconnect(C.inputs===void 0?C:C.inputs[0]),b.disconnect(A.inputs===void 0?A:A.inputs[0]),C.disconnect(T.gain),A.disconnect(E.gain),T.disconnect(v,0,0),E.disconnect(v,0,1)}}},p=(y,g,b,v)=>{const w=new Float32Array(16385),_=new Float32Array(16385),T=new Float32Array(16385),C=new Float32Array(16385),R=Math.floor(16385/2);for(let $=0;$<16385;$+=1)if($>R){const B=($-R)/(16384-R)*l;w[$]=Math.cos(B),_[$]=Math.sin(B),T[$]=0,C[$]=1}else{const B=$/(16384-R)*l;w[$]=1,_[$]=0,T[$]=Math.cos(B),C[$]=Math.sin(B)}const E=e(y,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),A=n(y,{...c,gain:0}),D=r(y,{...u,curve:w}),H=n(y,{...c,gain:0}),L=r(y,{...u,curve:_}),P=r(y,{...u,curve:a}),U=n(y,{...c,gain:0}),z=r(y,{...u,curve:T}),Y=n(y,{...c,gain:0}),O=r(y,{...u,curve:C});return{connectGraph(){g.connect(E),g.connect(P.inputs===void 0?P:P.inputs[0]),E.connect(A,0),E.connect(H,0),E.connect(U,1),E.connect(Y,1),P.connect(b),b.connect(D.inputs===void 0?D:D.inputs[0]),b.connect(L.inputs===void 0?L:L.inputs[0]),b.connect(z.inputs===void 0?z:z.inputs[0]),b.connect(O.inputs===void 0?O:O.inputs[0]),D.connect(A.gain),L.connect(H.gain),z.connect(U.gain),O.connect(Y.gain),A.connect(v,0,0),U.connect(v,0,0),H.connect(v,0,1),Y.connect(v,0,1)},disconnectGraph(){g.disconnect(E),g.disconnect(P.inputs===void 0?P:P.inputs[0]),E.disconnect(A,0),E.disconnect(H,0),E.disconnect(U,1),E.disconnect(Y,1),P.disconnect(b),b.disconnect(D.inputs===void 0?D:D.inputs[0]),b.disconnect(L.inputs===void 0?L:L.inputs[0]),b.disconnect(z.inputs===void 0?z:z.inputs[0]),b.disconnect(O.inputs===void 0?O:O.inputs[0]),D.disconnect(A.gain),L.disconnect(H.gain),z.disconnect(U.gain),O.disconnect(Y.gain),A.disconnect(v,0,0),U.disconnect(v,0,0),H.disconnect(v,0,1),Y.disconnect(v,0,1)}}},f=(y,g,b,v,w)=>{if(g===1)return d(y,b,v,w);if(g===2)return p(y,b,v,w);throw s()};return(y,{channelCount:g,channelCountMode:b,pan:v,...w})=>{if(b==="max")throw s();const _=t(y,{...w,channelCount:1,channelCountMode:b,numberOfInputs:2}),T=n(y,{...w,channelCount:g,channelCountMode:b,gain:1}),C=n(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:v});let{connectGraph:R,disconnectGraph:E}=f(y,g,T,C,_);Object.defineProperty(C.gain,"defaultValue",{get:()=>0}),Object.defineProperty(C.gain,"maxValue",{get:()=>1}),Object.defineProperty(C.gain,"minValue",{get:()=>-1});const A={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(P){T.channelCount!==P&&(D&&E(),{connectGraph:R,disconnectGraph:E}=f(y,P,T,C,_),D&&R()),T.channelCount=P},get channelCountMode(){return T.channelCountMode},set channelCountMode(P){if(P==="clamped-max"||P==="max")throw s();T.channelCountMode=P},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(P){T.channelInterpretation=P},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get pan(){return C.gain},addEventListener(...P){return T.addEventListener(P[0],P[1],P[2])},dispatchEvent(...P){return T.dispatchEvent(P[0])},removeEventListener(...P){return T.removeEventListener(P[0],P[1],P[2])}};let D=!1;const H=()=>{R(),D=!0},L=()=>{E(),D=!1};return i(Gf(A,_),H,L)}},cQ=(t,e,n,r,s,i,o)=>(a,l)=>{const c=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);br(c,l);const u=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(u!==null&&u.length<2)throw e();Cn(c,{curve:u},"curve"),Cn(c,l,"oversample");let d=null,p=!1;return o(c,"curve",g=>()=>g.call(c),g=>b=>(g.call(c,b),p&&(r(b)&&d===null?d=t(a,c):!r(b)&&d!==null&&(d(),d=null)),b)),s(c,()=>{p=!0,r(c.curve)&&(d=t(a,c))},()=>{p=!1,d!==null&&(d(),d=null)})},uQ=(t,e,n,r,s)=>(i,{curve:o,oversample:a,...l})=>{const c=i.createWaveShaper(),u=i.createWaveShaper();br(c,l),br(u,l);const d=n(i,{...l,gain:1}),p=n(i,{...l,gain:-1}),f=n(i,{...l,gain:1}),y=n(i,{...l,gain:-1});let g=null,b=!1,v=null;const w={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(C){d.channelCount=C,p.channelCount=C,c.channelCount=C,f.channelCount=C,u.channelCount=C,y.channelCount=C},get channelCountMode(){return c.channelCountMode},set channelCountMode(C){d.channelCountMode=C,p.channelCountMode=C,c.channelCountMode=C,f.channelCountMode=C,u.channelCountMode=C,y.channelCountMode=C},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(C){d.channelInterpretation=C,p.channelInterpretation=C,c.channelInterpretation=C,f.channelInterpretation=C,u.channelInterpretation=C,y.channelInterpretation=C},get context(){return c.context},get curve(){return v},set curve(C){if(C!==null&&C.length<2)throw e();if(C===null)c.curve=C,u.curve=C;else{const R=C.length,E=new Float32Array(R+2-R%2),A=new Float32Array(R+2-R%2);E[0]=C[0],A[0]=-C[R-1];const D=Math.ceil((R+1)/2),H=(R+1)/2-1;for(let L=1;L<D;L+=1){const P=L/D*H,U=Math.floor(P),z=Math.ceil(P);E[L]=U===z?C[U]:(1-(P-U))*C[U]+(1-(z-P))*C[z],A[L]=U===z?-C[R-1-U]:-((1-(P-U))*C[R-1-U])-(1-(z-P))*C[R-1-z]}E[D]=R%2===1?C[D-1]:(C[D-2]+C[D-1])/2,c.curve=E,u.curve=A}v=C,b&&(r(v)&&g===null?g=t(i,d):g!==null&&(g(),g=null))},get inputs(){return[d]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(C){c.oversample=C,u.oversample=C},addEventListener(...C){return d.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return d.dispatchEvent(C[0])},removeEventListener(...C){return d.removeEventListener(C[0],C[1],C[2])}};o!==null&&(w.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==w.oversample&&(w.oversample=a);const _=()=>{d.connect(c).connect(f),d.connect(p).connect(u).connect(y).connect(f),b=!0,r(v)&&(g=t(i,d))},T=()=>{d.disconnect(c),c.disconnect(f),d.disconnect(p),p.disconnect(u),u.disconnect(y),y.disconnect(f),b=!1,g!==null&&(g(),g=null)};return s(Gf(w,f),_,T)},As=()=>new DOMException("","NotSupportedError"),dQ={numberOfChannels:1},hQ=(t,e,n,r,s)=>class extends t{constructor(o,a,l){let c;if(typeof o=="number"&&a!==void 0&&l!==void 0)c={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")c=o;else throw new Error("The given parameters are not valid.");const{length:u,numberOfChannels:d,sampleRate:p}={...dQ,...c},f=r(d,u,p);e(Wm,()=>Wm(f))||f.addEventListener("statechange",(()=>{let y=0;const g=b=>{this._state==="running"&&(y>0?(f.removeEventListener("statechange",g),b.stopImmediatePropagation(),this._waitForThePromiseToSettle(b)):y+=1)};return g})()),super(f,d),this._length=u,this._nativeOfflineAudioContext=f,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,LR(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},fQ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},pQ=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...fQ,...c},p=n(u,d),f=i(u),y=f?r():null,g=l.sampleRate/2;super(l,!1,p,y),this._detune=e(this,f,p.detune,153600,-153600),this._frequency=e(this,f,p.frequency,g,-g),this._nativeOscillatorNode=p,this._onended=null,this._oscillatorNodeRenderer=y,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=c;const u=this._nativeOscillatorNode.onended;this._onended=u!==null&&u===c?l:u}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){Nf(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),tl(this)&&Ig(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},mQ=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const c=async(u,d)=>{let p=n(u);const f=os(p,d);if(!f){const y={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,periodicWave:o===null?void 0:o,type:p.type};p=e(d,y),a!==null&&p.start(a),l!==null&&p.stop(l)}return i.set(d,p),f?(await t(d,u.detune,p.detune),await t(d,u.frequency,p.frequency)):(await r(d,u.detune,p.detune),await r(d,u.frequency,p.frequency)),await s(u,d,p),p};return{set periodicWave(u){o=u},set start(u){a=u},set stop(u){l=u},render(u,d){const p=i.get(d);return p!==void 0?Promise.resolve(p):c(u,d)}}},gQ={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},vQ=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...gQ,...c},p=n(u,d),f=i(u),y=f?r():null;super(l,!1,p,y),this._nativePannerNode=p,this._orientationX=e(this,f,p.orientationX,vs,Is),this._orientationY=e(this,f,p.orientationY,vs,Is),this._orientationZ=e(this,f,p.orientationZ,vs,Is),this._positionX=e(this,f,p.positionX,vs,Is),this._positionY=e(this,f,p.positionY,vs,Is),this._positionZ=e(this,f,p.positionZ,vs,Is),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},yQ=(t,e,n,r,s,i,o,a,l,c)=>()=>{const u=new WeakMap;let d=null;const p=async(f,y)=>{let g=null,b=i(f);const v={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation},w={...v,coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,panningModel:b.panningModel,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor},_=os(b,y);if("bufferSize"in b)g=r(y,{...v,gain:1});else if(!_){const T={...w,orientationX:b.orientationX.value,orientationY:b.orientationY.value,orientationZ:b.orientationZ.value,positionX:b.positionX.value,positionY:b.positionY.value,positionZ:b.positionZ.value};b=s(y,T)}if(u.set(y,g===null?b:g),g!==null){if(d===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const L=new o(6,f.context.length,y.sampleRate),P=e(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});P.connect(L.destination),d=(async()=>{const U=await Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map(async(z,Y)=>{const O=n(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Y===0?1:0});return await a(L,z,O.offset),O}));for(let z=0;z<6;z+=1)U[z].connect(P,0,z),U[z].start(0);return c(L)})()}const T=await d,C=r(y,{...v,gain:1});await l(f,y,C);const R=[];for(let L=0;L<T.numberOfChannels;L+=1)R.push(T.getChannelData(L));let E=[R[0][0],R[1][0],R[2][0]],A=[R[3][0],R[4][0],R[5][0]],D=r(y,{...v,gain:1}),H=s(y,{...w,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:A[0],positionY:A[1],positionZ:A[2]});C.connect(D).connect(H.inputs[0]),H.connect(g);for(let L=128;L<T.length;L+=128){const P=[R[0][L],R[1][L],R[2][L]],U=[R[3][L],R[4][L],R[5][L]];if(P.some((z,Y)=>z!==E[Y])||U.some((z,Y)=>z!==A[Y])){E=P,A=U;const z=L/y.sampleRate;D.gain.setValueAtTime(0,z),D=r(y,{...v,gain:0}),H=s(y,{...w,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:A[0],positionY:A[1],positionZ:A[2]}),D.gain.setValueAtTime(1,z),C.connect(D).connect(H.inputs[0]),H.connect(g)}}return g}return _?(await t(y,f.orientationX,b.orientationX),await t(y,f.orientationY,b.orientationY),await t(y,f.orientationZ,b.orientationZ),await t(y,f.positionX,b.positionX),await t(y,f.positionY,b.positionY),await t(y,f.positionZ,b.positionZ)):(await a(y,f.orientationX,b.orientationX),await a(y,f.orientationY,b.orientationY),await a(y,f.orientationZ,b.orientationZ),await a(y,f.positionX,b.positionX),await a(y,f.positionY,b.positionY),await a(y,f.positionZ,b.positionZ)),Hf(b)?await l(f,y,b.inputs[0]):await l(f,y,b),b};return{render(f,y){const g=u.get(y);return g!==void 0?Promise.resolve(g):p(f,y)}}},wQ={disableNormalization:!1},xQ=(t,e,n,r)=>class qR{constructor(i,o){const a=e(i),l=r({...wQ,...o}),c=t(a,l);return n.add(c),c}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===qR.prototype||n.has(i)}},bQ=(t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),_Q=(t,e,n)=>async(r,s,i)=>{const o=t(r);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([c,u])=>{const p=await e(c).render(c,s),f=r.context.destination;!n(c)&&(r!==f||!n(r))&&p.connect(i,u,l)})).reduce((a,l)=>[...a,...l],[]))},SQ=(t,e,n)=>async(r,s,i)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const u=await t(a).render(a,s);n(a)||u.connect(i,l)}))},NQ=(t,e,n,r)=>s=>t(Wm,()=>Wm(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const o=n(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const o=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(s.destination),s.startRendering()}),kQ=t=>(e,n)=>{t.set(e,n)},CQ=t=>(e,n)=>t.set(e,n),AQ=(t,e,n,r,s,i,o,a)=>(l,c)=>n(l).render(l,c).then(()=>Promise.all(Array.from(r(c)).map(u=>n(u).render(u,c)))).then(()=>s(c)).then(u=>(typeof u.copyFromChannel!="function"?(o(u),P4(u)):e(i,()=>i(u))||a(u),t.add(u),u)),TQ={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},PQ=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=s(a),u={...TQ,...l},d=n(c,u),p=i(c),f=p?r():null;super(a,!1,d,f),this._pan=e(this,p,d.pan)}get pan(){return this._pan}},EQ=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=os(c,l);if(!u){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(l,d)}return i.set(l,c),u?await t(l,a.pan,c.pan):await r(l,a.pan,c.pan),Hf(c)?await s(a,l,c.inputs[0]):await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},jQ=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},LQ=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,o=!1;try{await r.audioWorklet.addModule(s);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await r.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(s)}return i&&!o},RQ=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},MQ=()=>new DOMException("","UnknownError"),DQ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},OQ=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...DQ,...c},p=n(u,d),y=i(u)?r():null;super(l,!0,p,y),this._isCurveNullified=!1,this._nativeWaveShaperNode=p,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},IQ=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!os(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,c)}return r.set(o,a),Hf(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},FQ=()=>typeof window>"u"?null:window,VQ=(t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=r.length;for(let d=o<0?-o:0;d+o<l&&d<u;d+=1)r[d]=c[d+o]},n.copyToChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=r.length;for(let d=o<0?-o:0;d+o<l&&d<u;d+=1)c[d+o]=r[d]}},zQ=t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},BQ=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,i===null?r:i))},qQ=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)s.connect(r,0,l)},()=>s.disconnect(r))},UR=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),WR=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},qg=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(o)})},UQ=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),WQ=t=>({...t,channelCount:t.numberOfOutputs}),$Q=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},$R=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;$R(t,e,n+1e-7)}},HQ=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},GQ=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},YQ=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},M4=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},HR=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},D4=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},KQ=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},ZQ=t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,o=i===null?r:Math.min(i.duration,r);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,s)})(t.start)},GR=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Gf(t,n),t.stop=(s=>{let i=!1;return(o=0)=>{if(i)try{s.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else s.call(t,o),i=!0}})(t.stop)},Yf=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},XQ=vK(md),QQ=SK(md),JQ=DZ(R2),YR=new WeakMap,eJ=JZ(YR),Ao=dZ(new Map,new WeakMap),fa=FQ(),KR=PX(Ao,xa),O4=QZ(ws),qr=_Q(ws,O4,nd),tJ=TK(KR,Nn,qr),wn=nX(L2),pl=nQ(fa),cn=wX(pl),ZR=new WeakMap,XR=$Z(Yf),Ug=RX(fa),I4=mX(Ug),F4=gX(fa),QR=vX(fa),$m=DX(fa),ir=JK(yK(kR),_K(XQ,QQ,ry,JQ,sy,ws,eJ,Og,Nn,md,tl,nd,iv),Ao,uX(d_,sy,ws,Nn,Um,tl),xa,M2,As,jZ(ry,d_,ws,Nn,Um,wn,tl,cn),FZ(ZR,ws,bo),XR,wn,I4,F4,QR,cn,$m),nJ=AK(ir,tJ,xa,KR,wn,cn),V4=new WeakSet,xA=EX(fa),JR=NZ(new Uint32Array(1)),z4=VQ(JR,xa),B4=zQ(JR),eM=EK(V4,Ao,As,xA,pl,jQ(xA),z4,B4),D2=NK(Us),tM=SQ(O4,Fg,nd),ba=yZ(tM),Kf=LX(D2,Ao,HQ,GQ,YQ,M4,HR,D4,ZQ,BQ(qg),GR),_a=bQ(eX(Fg),tM),rJ=RK(ba,Kf,Nn,_a,qr),To=eZ(wK(CR),ZR,T4,tZ,dK,hK,fK,pK,mK,l_,SR,Ug,$R),sJ=LK(ir,rJ,To,Er,Kf,wn,cn,Yf),iJ=qK(ir,UK,xa,Er,MX(Us,qg),wn,cn,qr),oJ=uZ(ba,zR,Nn,_a,qr),gd=CQ(YR),aJ=cZ(ir,To,oJ,M2,zR,wn,cn,gd),Yc=AX(md,F4),lJ=qQ(Er,Yc),Kc=qX(Ug,lJ),cJ=pZ(Kc,Nn,qr),uJ=fZ(ir,cJ,Kc,wn,cn),dJ=vZ(zg,Nn,qr),hJ=gZ(ir,dJ,zg,wn,cn,WQ),fJ=$X(D2,Kf,Us,Yc),Zf=WX(D2,Ao,fJ,M4,D4),pJ=SZ(ba,Zf,Nn,_a,qr),mJ=_Z(ir,To,pJ,Zf,wn,cn,Yf),nM=HX(As,qg),gJ=AZ(nM,Nn,qr),vJ=CZ(ir,gJ,nM,wn,cn,gd),yJ=MZ(ba,BR,Nn,_a,qr),wJ=RZ(ir,To,yJ,BR,wn,cn,gd),rM=GX(As),xJ=qZ(ba,rM,Nn,_a,qr),bJ=BZ(ir,To,xJ,rM,As,wn,cn,gd),_J=ZZ(ba,Us,Nn,_a,qr),SJ=KZ(ir,To,_J,Us,wn,cn),NJ=XX(M2,Er,Bg,As),O2=NQ(Ao,Us,Bg,RQ(Us,pl)),kJ=cX(Kf,Nn,pl,qr,O2),CJ=YX(NJ),AJ=aX(ir,CJ,kJ,wn,cn,gd),TJ=WK(To,Kc,Zf,Bg,As,UR,cn,qg),sM=new WeakMap,PJ=CX(iJ,TJ,XR,cn,sM,Yf),iM=rQ(D2,Ao,M4,HR,D4,GR),EJ=mQ(ba,iM,Nn,_a,qr),jJ=pQ(ir,To,iM,EJ,wn,cn,Yf),oM=xZ(Kf),LJ=uQ(oM,Er,Us,WR,Yc),I2=cQ(oM,Er,LJ,WR,Yc,Ug,qg),RJ=iQ(ry,Er,Kc,Us,Bg,I2,As,sy,UR,Yc),aM=sQ(RJ),MJ=yQ(ba,Kc,Zf,Us,aM,Nn,pl,_a,qr,O2),DJ=vQ(ir,To,aM,MJ,wn,cn,gd),OJ=oQ(xa),IJ=xQ(OJ,wn,new WeakSet,$Q),FJ=lQ(Kc,zg,Us,I2,As,Yc),lM=aQ(FJ,As),VJ=EQ(ba,lM,Nn,_a,qr),zJ=PQ(ir,To,lM,VJ,wn,cn),BJ=IQ(I2,Nn,qr),qJ=OQ(ir,Er,I2,BJ,wn,cn,gd),cM=xX(fa),q4=HZ(fa),uM=new WeakMap,UJ=rX(uM,pl),WJ=cM?bK(Ao,As,WZ(fa),q4,GZ(gK),wn,UJ,cn,$m,new WeakMap,new WeakMap,LQ($m,pl),fa):void 0,$J=yX(I4,cn),HJ=EZ(V4,Ao,PZ,UZ,new WeakSet,wn,$J,ty,Wm,z4,B4),dM=aZ(WJ,nJ,eM,sJ,aJ,uJ,hJ,mJ,vJ,HJ,wJ,bJ,SJ,AJ,PJ,jJ,DJ,IJ,zJ,qJ),GJ=bX(ir,QX,wn,cn),YJ=SX(ir,JX,wn,cn),KJ=NX(ir,eQ,wn,cn),ZJ=tQ(Er,cn),XJ=kX(ir,ZJ,wn),QJ=BK(dM,Er,As,MQ,GJ,YJ,KJ,XJ,Ug),U4=sX(sM),JJ=kK(U4),hM=wZ(xa),eee=OZ(U4),fM=VZ(xa),pM=new WeakMap,tee=XZ(pM,bo),nee=BX(hM,xa,Er,Kc,zg,Zf,Us,Bg,As,fM,q4,tee,Yc),ree=IX(Er,nee,Us,As,Yc),see=oZ(ba,hM,Kf,Kc,zg,Zf,Us,eee,fM,q4,Nn,$m,pl,_a,qr,O2),iee=tX(uM),oee=kQ(pM),bA=cM?rZ(JJ,ir,To,see,ree,ws,iee,wn,cn,$m,UQ,oee,KQ,Yf):void 0,aee=TZ(As,pl),lee=AQ(V4,Ao,O4,U4,O2,ty,z4,B4),cee=hQ(dM,Ao,Er,aee,lee),uee=dX(L2,I4),dee=hX(A4,F4),hee=fX(T4,QR),fee=pX(L2,cn);function oi(t){return t===void 0}function Rt(t){return t!==void 0}function pee(t){return typeof t=="function"}function _o(t){return typeof t=="number"}function wc(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function mM(t){return typeof t=="boolean"}function ns(t){return Array.isArray(t)}function pa(t){return typeof t=="string"}function P1(t){return pa(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function mt(t,e){if(!t)throw new Error(e)}function ma(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function gM(t){!t.isOffline&&t.state!=="running"&&F2('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let vM=!1,_A=!1;function SA(t){vM=t}function mee(t){oi(t)&&vM&&!_A&&(_A=!0,F2("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let yM=console;function gee(...t){yM.log(...t)}function F2(...t){yM.warn(...t)}function vee(t){return new QJ(t)}function yee(t,e,n){return new cee(t,e,n)}const ei=typeof self=="object"?self:null,wee=ei&&(ei.hasOwnProperty("AudioContext")||ei.hasOwnProperty("webkitAudioContext"));function xee(t,e,n){return mt(Rt(bA),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(ei==null?void 0:ei.BaseAudioContext)?ei==null?void 0:ei.AudioWorkletNode:bA)(t,e,n)}class bee{constructor(e,n,r,s){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function rd(t){return hee(t)}function xc(t){return dee(t)}function ov(t){return fee(t)}function ah(t){return uee(t)}function _ee(t){return t instanceof eM}function See(t,e){return t==="value"||rd(e)||xc(e)||_ee(e)}function Bu(t,...e){if(!e.length)return t;const n=e.shift();if(wc(t)&&wc(n))for(const r in n)See(r,n[r])?t[r]=n[r]:wc(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Bu(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Bu(t,...e)}function Nee(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function ot(t,e,n=[],r){const s={},i=Array.from(e);if(wc(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Bu(s,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&wc(i[0]))Bu(s,i[0]);else for(let o=0;o<n.length;o++)Rt(i[o])&&(s[n[o]]=i[o]);return Bu(t,s)}function kee(t){return t.constructor.getDefaults()}function oa(t,e){return oi(t)?e:t}function ly(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class ml{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||ei&&this.toString()===ei.TONE_DEBUG_CLASS)&&gee(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ml.version=_R;const W4=1e-6;function kf(t,e){return t>e+W4}function g_(t,e){return kf(t,e)||oo(t,e)}function cy(t,e){return t+W4<e}function oo(t,e){return Math.abs(t-e)<W4}function vd(t,e,n){return Math.max(Math.min(t,n),e)}class Li extends ml{constructor(){super(),this.name="Timeline",this._timeline=[];const e=ot(Li.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(mt(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];mt(g_(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(oo(this._timeline[n].time,e)){for(let r=n;r>=0&&oo(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&g_(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<i;){let o=Math.floor(r+(i-r)/2);const a=this._timeline[o],l=this._timeline[o+1];if(oo(a[n],e)){for(let c=o;c<this._timeline.length;c++){const u=this._timeline[c];if(oo(u[n],e))o=c;else break}return o}else{if(cy(a[n],e)&&kf(l[n],e))return o;kf(a[n],e)?i=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),i=this._search(n);return s!==-1&&i!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,s,i)):s===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&oo(this._timeline[r].time,e)){let s=r;for(let i=r;i>=0&&oo(this._timeline[i].time,e);i--)s=i;this._iterate(i=>{n(i)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const wM=[];function V2(t){wM.push(t)}function Cee(t){wM.forEach(e=>e(t))}const xM=[];function z2(t){xM.push(t)}function Aee(t){xM.forEach(e=>e(t))}class Wg extends ml{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{oi(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(oi(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(oi(n))this._events[s]=[];else{const i=this._events[s];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,i=r.length;s<i;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Wg.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class bM extends Wg{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class $g extends bM{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Li,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=ot($g.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=vee({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new bee(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Cee(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return mt(ah(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return mt(ah(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return mt(ah(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){mt(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){mt(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){mt(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){mt(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return xee(this.rawContext,e,n)}addAudioWorkletModule(e){return rr(this,void 0,void 0,function*(){mt(Rt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return rr(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ah(this._context)?this._context.resume():Promise.resolve()}close(){return rr(this,void 0,void 0,function*(){ah(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&Aee(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:i+n})};return s(),r}}class Tee extends bM{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return rr(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Bt(t,e){ns(e)?e.forEach(n=>Bt(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function $4(t,e){ns(e)?e.forEach(n=>$4(t,n)):Object.defineProperty(t,e,{writable:!0})}const Ht=()=>{};class an extends ml{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ht;const e=ot(an.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,pa(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Ht,onload:Ht,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Pi().sampleRate}set(e){return e instanceof an?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return rr(this,void 0,void 0,function*(){const n=an.load(e).then(r=>{this.set(r),this.onload(this)});an.downloads.push(n);try{yield n}finally{const r=an.downloads.indexOf(n);an.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=ns(e)&&e[0].length>0,r=n?e.length:1,s=n?e[0].length:e.length,i=Pi(),o=i.createBuffer(r,s,i.sampleRate),a=!n&&r===1?[e]:e;for(let l=0;l<r;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(_o(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const i=this.toArray(s);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(s=>s/r),this.fromArray(n)}return this}toArray(e){if(_o(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){mt(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);mt(r<s,"The start time must be less than the end time");const i=s-r,o=Pi().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(r,s),a);return new an(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new an().fromArray(e)}static fromUrl(e){return rr(this,void 0,void 0,function*(){return yield new an().load(e)})}static load(e){return rr(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const l=n[1].split("|");let c=l[0];for(const u of l)if(an.supportsType(u)){c=u;break}e=e.replace(n[0],c)}const r=an.baseUrl===""||an.baseUrl.endsWith("/")?an.baseUrl:an.baseUrl+"/",s=document.createElement("a");s.href=r+e,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(s.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const o=yield i.arrayBuffer();return yield Pi().decodeAudioData(o)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return rr(this,void 0,void 0,function*(){for(yield Promise.resolve();an.downloads.length;)yield an.downloads[0]})}}an.baseUrl="";an.downloads=[];class B2 extends $g{constructor(){super({clockSource:"offline",context:ov(arguments[0])?arguments[0]:yee(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:ov(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ov(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return rr(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(){return rr(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new an(n)})}close(){return Promise.resolve()}}const _M=new Tee;let ku=_M;function Pi(){return ku===_M&&wee&&Pee(new $g),ku}function Pee(t,e=!1){e&&ku.dispose(),ah(t)?ku=new $g(t):ov(t)?ku=new B2(t):ku=t}function SM(){return ku.resume()}if(ei&&!ei.TONE_SILENCE_LOGGING){const e=` * Tone.js v${_R} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function Eee(t){return Math.pow(10,t/20)}function uy(t){return 20*(Math.log(t)/Math.LN10)}function NM(t){return Math.pow(2,t/12)}let q2=440;function jee(){return q2}function Lee(t){q2=t}function Cu(t){return Math.round(kM(t))}function kM(t){return 69+12*Math.log2(t/q2)}function CM(t){return q2*Math.pow(2,(t-69)/12)}class H4 extends ml{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof H4&&this.fromType(this._val),oi(this._val))return this._noArg();if(pa(this._val)&&oi(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(wc(this._val)){let e=0;for(const n in this._val)if(Rt(this._val[n])){const r=this._val[n],s=new this.constructor(this.context,n).valueOf()*r;e+=s}return e}if(Rt(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return pa(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class uo extends H4{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new uo(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),a=Math.round(s/r)*r-s;return s+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],s=new uo(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new uo(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(s-e)&&(r=i,s=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Cu(this.toFrequency())}_now(){return this.context.now()}}class Vs extends uo{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return jee()}static set A4(e){Lee(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Vs.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const s=Ree[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:Vs.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new Vs(this.context,this.valueOf()*NM(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Cu(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Vs.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),Mee[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return CM(e)}static ftom(e){return Cu(e)}}const Ree={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},Mee=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Dee(t,e){return new Vs(Pi(),t,e)}class $h extends uo{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class jr extends ml{constructor(){super();const e=ot(jr.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Pi()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return mee(e),new uo(this.context,e).toSeconds()}toFrequency(e){return new Vs(this.context,e).toFrequency()}toTicks(e){return new $h(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{oi(e[r])&&delete n[r]}),n}get(){const e=kee(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];Rt(r)&&Rt(r.value)&&Rt(r.setValueAtTime)?e[n]=r.value:r instanceof jr?e[n]=r._getPartialProperties(e[n]):ns(r)||_o(r)||pa(r)||mM(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Rt(this[n])&&(this[n]&&Rt(this[n].value)&&Rt(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof jr?this[n].set(e[n]):this[n]=e[n])}),this}}class Hg extends Li{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return ma(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let s=r;s>=0;s--){const i=this._timeline[s];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const i=this._timeline[s];if(i.state===e)return i}}}class Wt extends jr{constructor(){const e=ot(Wt.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,mt(Rt(e.param)&&(rd(e.param)||e.param instanceof Wt),"param must be an AudioParam");!rd(e.param);)e.param=e.param._param;this._swappable=Rt(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Li(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Rt(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(jr.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Rt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Rt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Rt(this.maxValue)&&Rt(this.minValue)&&ma(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?Eee(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?uy(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return mt(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let i=this._initialValue;if(s===null)i=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(s.time);let a;o===null?a=this._initialValue:a=o.value,s.type==="setTargetAtTime"&&(i=this._exponentialApproach(s.time,a,s.value,s.constant,n))}else if(r===null)i=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=s.value;if(s.type==="setTargetAtTime"){const a=this._events.getBefore(s.time);a===null?o=this._initialValue:o=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(s.time,o,r.time,r.value,n):i=this._exponentialInterpolate(s.time,o,r.time,r.value,n)}else i=s.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return mt(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=oo(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return mt(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);mt(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(s),mt(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(s,i,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*s;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return mt(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));mt(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),i=this._events.getAfter(n);return s&&oo(s.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),i=s?s.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){mt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,i){return r+(n-r)*Math.exp(-(i-e)/s)}_linearInterpolate(e,n,r,s,i){return n+(s-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,s,i){return n*Math.pow(s/n,(i-e)/(r-e))}}class ht extends jr{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Rt(this.input)?rd(this.input)||this.input instanceof Wt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Rt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Rt(e)&&(e instanceof ht||xc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();mt(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return So(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return F2("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return AM(this,e,n,r),this}chain(...e){return sd(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Rt(this.input)&&(this.input instanceof ht?this.input.dispose():xc(this.input)&&this.input.disconnect()),Rt(this.output)&&(this.output instanceof ht?this.output.dispose():xc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function sd(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof ht?n.connect(r):xc(n)&&So(n,r),r),e)}function So(t,e,n=0,r=0){for(mt(Rt(t),"Cannot connect from undefined node"),mt(Rt(e),"Cannot connect to undefined node"),(e instanceof ht||xc(e))&&mt(e.numberOfInputs>0,"Cannot connect to node with no inputs"),mt(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof ht||e instanceof Wt;)Rt(e.input)&&(e=e.input);for(;t instanceof ht;)Rt(t.output)&&(t=t.output);rd(e)?t.connect(e,n):t.connect(e,n,r)}function AM(t,e,n=0,r=0){if(Rt(e))for(;e instanceof ht;)e=e.input;for(;!xc(t);)Rt(t.output)&&(t=t.output);rd(e)?t.disconnect(e,n):xc(e)?t.disconnect(e,n,r):t.disconnect()}class Gt extends ht{constructor(){const e=ot(Gt.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Wt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Bt(this,"gain")}static getDefaults(){return Object.assign(ht.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Cf extends ht{constructor(e){super(e),this.onended=Ht,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Gt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(ht.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ht})}_startGain(e,n=1){mt(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){mt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ht&&(this.onended(this),this.onended=Ht,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),mt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Ht,this}}class G4 extends Cf{constructor(){const e=ot(G4.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),So(this._source,this._gainNode),this.offset=new Wt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Cf.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class nn extends ht{constructor(){const e=ot(nn.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new G4({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ht.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return U2(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function U2(t,e,n,r){(e instanceof Wt||rd(e)||e instanceof nn&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof nn&&(e.overridden=!0)),So(t,e,n,r)}class Y4 extends Wt{constructor(){const e=ot(Y4.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Li(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Wt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const l=r*a+n,c=this._exponentialApproach(i.time,i.value,s,r,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),i=Math.round(Math.max((n-s.time)*10,1)),o=(n-s.time)/i;for(let a=0;a<=i;a++){const l=o*a+s.time,c=this._exponentialInterpolate(s.time,s.value,n,r,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(oi(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),a=Math.sqrt(Math.pow(s,2)-2*o*(n.ticks-e)),l=(-s+a)/o,c=(-s-a)/o;return(l>0?l:c)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class K4 extends nn{constructor(){const e=ot(K4.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Y4({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(nn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Z4 extends jr{constructor(){const e=ot(Z4.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Hg,this._tickOffset=new Li,this._ticksAtTime=new Li,this._secondsAtTime=new Li,this.frequency=new K4({context:this.context,units:e.units,value:e.frequency}),Bt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},jr.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Rt(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=s||r,a=s?s.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,c=>{let u=o.time;const d=this._tickOffset.get(c.time);d&&d.time>=o.time&&(a=d.ticks,u=d.time),o.state==="started"&&c.state!=="started"&&(a+=this.frequency.getTicksAtTime(c.time)-this.frequency.getTicksAtTime(u),c.time!==i.time&&(l={state:c.state,time:c.time,ticks:a})),o=c}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const s=this._secondsAtTime.get(e);let i=s||n,o=s?s.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let c=i.time;const u=this._tickOffset.get(l.time);u&&u.time>=i.time&&(o=u.seconds,c=u.time),i.state==="started"&&l.state!=="started"&&(o+=l.time-c,l.time!==r.time&&(a={state:l.state,time:l.time,seconds:o})),i=l}),this._state.remove(r),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),i=Math.max(r.time,s.time),o=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,o=>{s&&s.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),o.time-this.sampleTime,r),s=o});let i=null;if(s&&s.state==="started"){const o=Math.max(s.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(s.time),c=a-l;let u=Math.ceil(c)-c;u=oo(u,1)?0:u;let d=this.frequency.getTimeOfTick(a+u);for(;d<n;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(p){i=p;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class W2 extends jr{constructor(){const e=ot(W2.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Ht,this._lastUpdate=0,this._state=new Hg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Z4({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Bt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(jr.getDefaults(),{callback:Ht,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){gM(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Wg.mixin(W2);class Hh extends ht{constructor(){const e=ot(Hh.getDefaults(),arguments,["delayTime","maxDelay"]);super(e),this.name="Delay";const n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new Wt({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Bt(this,"delayTime")}static getDefaults(){return Object.assign(ht.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Xf extends ht{constructor(){const e=ot(Xf.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Gt({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Bt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(ht.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class X4 extends ht{constructor(){const e=ot(X4.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Xf({context:this.context}),this.output=new Gt({context:this.context}),this.volume=this.input.volume,sd(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ht.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),sd(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}V2(t=>{t.destination=new X4({context:t})});z2(t=>{t.destination.dispose()});class Oee extends ht{constructor(){super(...arguments),this.name="Listener",this.positionX=new Wt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Wt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Wt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Wt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Wt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Wt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Wt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Wt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Wt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ht.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}V2(t=>{t.listener=new Oee({context:t})});z2(t=>{t.listener.dispose()});class Q4 extends ml{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=ot(Q4.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Ht,onload:Ht,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return mt(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=Ht,s=Ht){return pa(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new an(this.baseUrl+n,r,s))):this._buffers.set(e.toString(),new an(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class dy extends Vs{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Cu(super._frequencyToUnits(e))}_ticksToUnits(e){return Cu(super._ticksToUnits(e))}_beatsToUnits(e){return Cu(super._beatsToUnits(e))}_secondsToUnits(e){return Cu(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return CM(this.toMidi())}transpose(e){return new dy(this.context,this.toMidi()+e)}}class $n extends $h{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Iee extends jr{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Li,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}V2(t=>{t.draw=new Iee({context:t})});z2(t=>{t.draw.dispose()});class Fee extends ml{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){mt(Rt(e.time),"Events must have a time property"),mt(Rt(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new Vee(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,s=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class Vee{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class zee extends ml{constructor(e){super(),this.name="TimelineValue",this._timeline=new Li({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class ga extends ht{constructor(){super(ot(ga.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return U2(this,e,n,r),this}}class Qf extends ga{constructor(){const e=ot(Qf.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,ns(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):pee(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(nn.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,i=n;s<i;s++){const o=s/(i-1)*2-1;r[s]=e(o,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));mt(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class J4 extends ga{constructor(){const e=ot(J4.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Qf({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(ga.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class jc{constructor(e,n){this.id=jc._eventId++,this._remainderTime=0;const r=Object.assign(jc.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Ht,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}jc._eventId=0;class e3 extends jc{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(e3.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},jc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return cy(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new $n(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){cy(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new $n(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);kf(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class $2 extends jr{constructor(){const e=ot($2.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new zee(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Li,this._repeatedEvents=new Fee,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new W2({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Bt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(jr.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new $n(this.context,this._swingTicks*2/3).toSeconds()*s}SA(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),SA(!1)}schedule(e,n){const r=new jc(this,{callback:e,time:new $h(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const i=new e3(this,{callback:e,duration:new uo(this.context,s).toTicks(),interval:new uo(this.context,n).toTicks(),time:new $h(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new jc(this,{callback:e,once:!0,time:new $h(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new $n(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return Rt(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){ns(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new uo(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new uo(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new $n(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new $n(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+s;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),s=e-r%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){const r=this.now();let s=this.bpm,i=1/(60/s.getValueAtTime(r)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/i,c=new Gt(l),u=new J4(-1),d=new Gt(l);s.chain(c,u,d),s=d,i=1/i,o=[c,u,d]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/i:n=0);const a=new Gt(n);return s.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(s=>s.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),$4(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Wg.mixin($2);V2(t=>{t.transport=new $2({context:t})});z2(t=>{t.transport.dispose()});class Ss extends ht{constructor(e){super(e),this.input=void 0,this._state=new Hg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ht,this._syncedStop=Ht,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Xf({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Bt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(ht.getDefaults(),{mute:!1,onstop:Ht,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=oi(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")mt(kf(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const i=this._state.get(s);i&&(i.offset=this.toSeconds(oa(n,0)),i.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},s);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else gM(this.context),this._start(s,n,r);return this}stop(e){let n=oi(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Rt(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(kf(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const s=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ht,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Gg extends Cf{constructor(){const e=ot(Gg.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,So(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Wt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new an(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Cf.getDefaults(),{url:new an,loop:!1,loopEnd:0,loopStart:0,onload:Ht,onerror:Ht,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){mt(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),this.loop?n=oa(n,this.loopStart):n=oa(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),c=a-l;g_(o,a)&&(o=(o-l)%c+l),oo(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,cy(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),Rt(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Hm extends Ss{constructor(){const e=ot(Hm.getDefaults(),arguments,["type"]);super(e),this.name="Noise",this._source=null,this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ss.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(mt(e in NA,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const n=this.now();this._stop(n),this._start(n)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const n=NA[this._type];this._source=new Gg({url:n,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const rh=44100*5,n5=2,Oa={brown:null,pink:null,white:null},NA={get brown(){if(!Oa.brown){const t=[];for(let e=0;e<n5;e++){const n=new Float32Array(rh);t[e]=n;let r=0;for(let s=0;s<rh;s++){const i=Math.random()*2-1;n[s]=(r+.02*i)/1.02,r=n[s],n[s]*=3.5}}Oa.brown=new an().fromArray(t)}return Oa.brown},get pink(){if(!Oa.pink){const t=[];for(let e=0;e<n5;e++){const n=new Float32Array(rh);t[e]=n;let r,s,i,o,a,l,c;r=s=i=o=a=l=c=0;for(let u=0;u<rh;u++){const d=Math.random()*2-1;r=.99886*r+d*.0555179,s=.99332*s+d*.0750759,i=.969*i+d*.153852,o=.8665*o+d*.3104856,a=.55*a+d*.5329522,l=-.7616*l-d*.016898,n[u]=r+s+i+o+a+l+c+d*.5362,n[u]*=.11,c=d*.115926}}Oa.pink=new an().fromArray(t)}return Oa.pink},get white(){if(!Oa.white){const t=[];for(let e=0;e<n5;e++){const n=new Float32Array(rh);t[e]=n;for(let r=0;r<rh;r++)n[r]=Math.random()*2-1}Oa.white=new an().fromArray(t)}return Oa.white}};function yd(t,e){return rr(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new B2(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class t3 extends Cf{constructor(){const e=ot(t3.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],So(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Wt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Wt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Bt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Cf.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Gn extends Ss{constructor(){const e=ot(Gn.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new nn({context:this.context,units:"frequency",value:e.frequency}),Bt(this,"frequency"),this.detune=new nn({context:this.context,units:"cents",value:e.detune}),Bt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Ss.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new t3({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Gn._periodicWaveCache.find(n=>n.phase===this._phase&&Nee(n.partials,this._partials));{const e=Gn._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(Rt(r)){const{partials:s,wave:i}=r;this._wave=i,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(s,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Gn._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),Gn._periodicWaveCache.length>100&&Gn._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){ma(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((i,o)=>s[o]=i),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const i=new Float32Array(s),o=new Float32Array(s);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,s=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),s=a):this._partialCount=0,this._partials=[]}for(let l=1;l<s;++l){const c=2/(l*Math.PI);let u;switch(e){case"sine":u=l<=a?1:0,this._partials[l-1]=u;break;case"square":u=l&1?2*c:0,this._partials[l-1]=u;break;case"sawtooth":u=c*(l&1?1:-1),this._partials[l-1]=u;break;case"triangle":l&1?u=2*(c*c)*(l-1>>1&1?-1:1):u=0,this._partials[l-1]=u;break;case"custom":u=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}u!==0?(i[l]=-u*Math.sin(n*l),o[l]=u*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,r){let s=0;const i=e.length;for(let o=0;o<i;o++)s+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,i=32;for(let o=0;o<i;o++)r=Math.max(this._inverseFFT(e,n,o/i*s),r);return vd(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return rr(this,arguments,void 0,function*(e=1024){return yd(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Gn._periodicWaveCache=[];class TM extends ga{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Qf({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class id extends nn{constructor(){const e=ot(id.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Gt({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(nn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class H2 extends Ss{constructor(){const e=ot(H2.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new TM({context:this.context}),this._modulationNode=new Gt({context:this.context}),this._carrier=new Gn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Gn({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new id({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Bt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Gn.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return rr(this,arguments,void 0,function*(e=1024){return yd(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class G2 extends Ss{constructor(){const e=ot(G2.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Gt({context:this.context,gain:0}),this._carrier=new Gn({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new nn({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Gn({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new id({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new id({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Bt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Gn.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return rr(this,arguments,void 0,function*(e=1024){return yd(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Yg extends Ss{constructor(){const e=ot(Yg.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Gt({context:this.context,gain:0}),this._thresh=new Qf({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new nn({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Gn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Bt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Ss.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return rr(this,arguments,void 0,function*(e=1024){return yd(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Y2 extends Ss{constructor(){const e=ot(Y2.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new nn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new nn({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Bt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Gn.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,i)=>s.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(ma(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new Gn({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Ht});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return rr(this,arguments,void 0,function*(e=1024){return yd(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class K2 extends Ss{constructor(){const e=ot(K2.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new id({context:this.context,value:2}),this._pulse=new Yg({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Gn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Bt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Ss.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return rr(this,arguments,void 0,function*(e=1024){return yd(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const kA={am:H2,fat:Y2,fm:G2,oscillator:Gn,pulse:Yg,pwm:K2};class hy extends Ss{constructor(){const e=ot(hy.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new nn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new nn({context:this.context,units:"cents",value:e.detune}),Bt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Gn.getDefaults(),G2.getDefaults(),H2.getDefaults(),Y2.getDefaults(),Yg.getDefaults(),K2.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=kA[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof kA[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&_o(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&_o(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&pa(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return rr(this,arguments,void 0,function*(e=1024){return yd(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class n3 extends nn{constructor(){super(ot(n3.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new Gt({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,sd(this._constantSource,this._sum)}static getDefaults(){return Object.assign(nn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class r3 extends ga{constructor(){const e=ot(r3.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new id({context:this.context,value:e.max-e.min}),this._add=this.output=new n3({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(ga.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class s3 extends ga{constructor(){super(ot(s3.getDefaults(),arguments)),this.name="Zero",this._gain=new Gt({context:this.context}),this.output=this._gain,this.input=void 0,So(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),AM(this.context.getConstant(0),this._gain),this}}class Z2 extends ht{constructor(){const e=ot(Z2.getDefaults(),arguments,["frequency","min","max"]);super(e),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Wt.prototype._fromType,this._toType=Wt.prototype._toType,this._is=Wt.prototype._is,this._clampValue=Wt.prototype._clampValue,this._oscillator=new Gn(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Gt({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new nn({context:this.context,units:"audioRange",value:0}),this._zeros=new s3({context:this.context}),this._a2g=new TM({context:this.context}),this._scaler=this.output=new r3({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Bt(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Gn.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,r=this.max;this._units=e,this.min=n,this.max=r}get state(){return this._oscillator.state}connect(e,n,r){return(e instanceof Wt||e instanceof nn)&&(this.convert=e.convert,this.units=e.units),U2(this,e,n,r),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function PM(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){ma(i,t,e),n.set(this,i)}})}}function gl(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){ma(this.toSeconds(i),t,e),n.set(this,i)}})}}class X2 extends Ss{constructor(){const e=ot(X2.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new an({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ss.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ht,onerror:Ht,playbackRate:1,reverse:!1})}load(e){return rr(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Ht){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=oa(n,this._loopStart):n=oa(n,0);const s=this.toSeconds(n),i=r;r=oa(r,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const a=new Gg({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&oi(i)?a.start(e,s):a.start(e,s,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&ma(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&ma(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Co([gl(0)],X2.prototype,"fadeIn",void 0);Co([gl(0)],X2.prototype,"fadeOut",void 0);class Bee extends ga{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Qf({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Zc extends ht{constructor(){const e=ot(Zc.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new nn({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(ht.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(pa(e))return e;{let r;for(r in E1)if(E1[r][n]===e)return r;return e}}_setCurve(e,n,r){if(pa(r)&&Reflect.has(E1,r)){const s=E1[r];wc(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if(ns(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/s;s=(1-o)/a}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,s,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+s;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(mt(ns(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return U2(this,e,n,r),this}asArray(){return rr(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,r=new B2(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(n*(s+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Co([gl(0)],Zc.prototype,"attack",void 0);Co([gl(0)],Zc.prototype,"decay",void 0);Co([PM(0,1)],Zc.prototype,"sustain",void 0);Co([gl(0)],Zc.prototype,"release",void 0);const E1=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const s=[],i=6.4;for(e=0;e<127;e++){n=e/127;const p=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;s[e]=p/10+n*.83}s[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const c=[];for(e=0;e<128;e++){n=e/127;const p=Math.pow(n,3)*4+.2,f=Math.cos(p*Math.PI*2*n);c[e]=Math.abs(f*(1-n))}function u(p){const f=new Array(p.length);for(let y=0;y<p.length;y++)f[y]=1-p[y];return f}function d(p){return p.slice(0).reverse()}return{bounce:{In:u(c),Out:c},cosine:{In:r,Out:d(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:u(s)},sine:{In:l,Out:u(l)},step:{In:o,Out:u(o)}}})();class Lc extends ht{constructor(){const e=ot(Lc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Xf({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Bt(this,"volume")}static getDefaults(){return Object.assign(ht.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const i=s[n],o=this.context.transport.schedule(a=>{s[n]=a,r.apply(this,s)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,i,s),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class od extends Lc{constructor(){const e=ot(od.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Lc.getDefaults(),{detune:0,onsilence:Ht,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof Vs?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,i,r)}else this.frequency.setValueAtTime(s,r);return this}}Co([gl(0)],od.prototype,"portamento",void 0);class i3 extends Zc{constructor(){super(ot(i3.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Gt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class bc extends od{constructor(){const e=ot(bc.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new hy(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new i3(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Bt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(od.getDefaults(),{envelope:Object.assign(ly(Zc.getDefaults(),Object.keys(ht.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(ly(hy.getDefaults(),[...Object.keys(Ss.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class fy extends ht{constructor(){const e=ot(fy.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Wt({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Wt({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Wt({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Wt({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(ht.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){mt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let o=0;o<e;o++){const l=Math.pow(o/e,2)*19980+20;n[o]=l}const r=new Float32Array(e),s=new Float32Array(e),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(n,r,s),r}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Q2 extends ht{constructor(){const e=ot(Q2.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new Gt({context:this.context}),this.output=new Gt({context:this.context}),this._filters=[],this._filters=[],this.Q=new nn({context:this.context,units:"positive",value:e.Q}),this.frequency=new nn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new nn({context:this.context,units:"cents",value:e.detune}),this.gain=new nn({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Bt(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(ht.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){mt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(r=>r.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=_o(e)?e:parseInt(e,10),r=[-12,-24,-48,-96];let s=r.indexOf(n);mt(s!==-1,`rolloff can only be ${r.join(", ")}`),s+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(i=>i.disconnect()),this._filters=new Array(s);for(let i=0;i<s;i++){const o=new fy({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[i]=o}this._internalChannels=this._filters,sd(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new fy({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),r=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((i,o)=>r[o]*=i)}),n.dispose(),r}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),$4(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class J2 extends bc{constructor(){const e=ot(J2.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Bt(this,["oscillator","envelope"])}static getDefaults(){return Bu(od.getDefaults(),bc.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof Vs?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Co([PM(0)],J2.prototype,"octaves",void 0);Co([gl(0)],J2.prototype,"pitchDecay",void 0);const EM=new Set;function o3(t){EM.add(t)}function jM(t,e){const n=`registerProcessor("${t}", ${e})`;EM.add(n)}const qee=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;o3(qee);const Uee=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;o3(Uee);const Wee=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;o3(Wee);const $ee="feedback-comb-filter",Hee=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;jM($ee,Hee);class ao extends Lc{constructor(){const e=ot(ao.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=s=>this.releaseAll(s),mt(!_o(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Lc.getDefaults(),{maxPolyphony:32,options:{},voice:bc})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return mt(e instanceof od,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else F2("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,r){e.forEach(s=>{const i=new dy(this.context,s).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(s,n,r),this._activeVoices.push({midi:i,voice:o,released:!1}),this.log("triggerAttack",s,n))})}_triggerRelease(e,n){e.forEach(r=>{const s=new dy(this.context,r).toMidi(),i=this._activeVoices.find(({midi:o,released:a})=>o===s&&!a);i&&(i.voice.triggerRelease(n),i.released=!0,this.log("triggerRelease",r,n))})}_scheduleEvent(e,n,r,s){mt(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(n,r,s):this._triggerRelease(n,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,r,s)},r-this.now())}triggerAttack(e,n,r){Array.isArray(e)||(e=[e]);const s=this.toSeconds(n);return this._scheduleEvent("attack",e,s,r),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r);if(this.triggerAttack(e,i,s),ns(n)){mt(ns(e),"If the duration is an array, the notes must also be an array"),e=e;for(let o=0;o<e.length;o++){const a=n[Math.min(o,n.length-1)],l=this.toSeconds(a);mt(l>0,"The duration must be greater than 0"),this.triggerRelease(e[o],i+l)}}else{const o=this.toSeconds(n);mt(o>0,"The duration must be greater than 0"),this.triggerRelease(e,i+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=ly(e,["onsilence","context"]);return this.options=Bu(this.options,n),this._voices.forEach(r=>r.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class ew extends Lc{constructor(){const e=ot(ew.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(mt(P1(r)||_o(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),P1(r)){const i=new Vs(this.context,r).toMidi();n[i]=e.urls[r]}else _o(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new Q4({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Lc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ht,onerror:Ht,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=kM(new Vs(this.context,s).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),c=o-l,u=this._buffers.get(c),d=NM(l+a),p=new Gg({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);p.start(n,0,u.duration/d,r),ns(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(p),p.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const f=this._activeSources.get(o),y=f.indexOf(p);y!==-1&&f.splice(y,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new Vs(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const i=this._activeSources.get(s);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,s),ns(n)?(mt(ns(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(mt(P1(e)||isFinite(e),`note must be a pitch or midi: ${e}`),P1(e)){const s=new Vs(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Co([gl(0)],ew.prototype,"attack",void 0);Co([gl(0)],ew.prototype,"release",void 0);class Ka extends jr{constructor(){const e=ot(Ka.getDefaults(),arguments,["callback","value"]);super(e),this.name="ToneEvent",this._state=new Hg("stopped"),this._startOffset=0,this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(jr.getDefaults(),{callback:Ht,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let r;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const s=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||_o(this._loop)&&this._loop>1){r=1/0,_o(this._loop)&&(r=this._loop*this._getLoopDuration());const i=this._state.getAfter(s);i!==null&&(r=Math.min(r,i.time-s)),r!==1/0&&(r=new $n(this.context,r));const o=new $n(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),o,new $n(this.context,s),r)}else n.id=this.context.transport.schedule(this._tick.bind(this),new $n(this.context,s))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);const n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const r=this._state.getBefore(n);let s=n;r!==null&&(s=r.time),this._rescheduleEvents(s)}return this}cancel(e){e=oa(e,-1/0);const n=this.toTicks(e);return this._state.forEachFrom(n,r=>{this.context.transport.clear(r.id)}),this._state.cancel(n),this}_tick(e){const n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let r=.02;mM(this.humanize)||(r=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*r}this.callback(e,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new $n(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new $n(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){const r=this._getLoopDuration();return(e-n.time)%r/r}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Za extends jr{constructor(){const e=ot(Za.getDefaults(),arguments,["callback","interval"]);super(e),this.name="Loop",this._event=new Ka({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability,humanize:e.humanize}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign(jr.getDefaults(),{interval:"4n",callback:Ht,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(e){e===1/0?this._event.loop=!0:this._event.loop=e}dispose(){return super.dispose(),this._event.dispose(),this}}class py extends Ka{constructor(){const e=ot(py.getDefaults(),arguments,["callback","events"]);super(e),this.name="Part",this._state=new Hg("stopped"),this._events=new Set,this._state.increasing=!0,e.events.forEach(n=>{ns(n)?this.add(n[0],n[1]):this.add(n)})}static getDefaults(){return Object.assign(Ka.getDefaults(),{events:[]})}start(e,n){const r=this.toTicks(e);if(this._state.getValueAtTime(r)!=="started"){n=oa(n,this._loop?this._loopStart:0),this._loop?n=oa(n,this._loopStart):n=oa(n,0);const s=this.toTicks(n);this._state.add({id:-1,offset:s,state:"started",time:r}),this._forEach(i=>{this._startNote(i,r,s)})}return this}_startNote(e,n,r){n-=r,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<r&&(n+=this._getLoopDuration()),e.start(new $n(this.context,n))):e.startOffset<this._loopStart&&e.startOffset>=r&&(e.loop=!1,e.start(new $n(this.context,n))):e.startOffset>=r&&e.start(new $n(this.context,n))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(n=>{n.startOffset+=this._startOffset})}stop(e){const n=this.toTicks(e);return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._forEach(r=>{r.stop(e)}),this}at(e,n){const r=new $h(this.context,e).toTicks(),s=new $n(this.context,1).toSeconds(),i=this._events.values();let o=i.next();for(;!o.done;){const a=o.value;if(Math.abs(r-a.startOffset)<s)return Rt(n)&&(a.value=n),a;o=i.next()}return Rt(n)?(this.add(e,n),this.at(e)):null}add(e,n){e instanceof Object&&Reflect.has(e,"time")&&(n=e,e=n.time);const r=this.toTicks(e);let s;return n instanceof Ka?(s=n,s.callback=this._tick.bind(this)):s=new Ka({callback:this._tick.bind(this),context:this.context,value:n}),s.startOffset=r,s.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(s),this._restartEvent(s),this}_restartEvent(e){this._state.forEach(n=>{n.state==="started"?this._startNote(e,n.time,n.offset):e.stop(new $n(this.context,n.time))})}remove(e,n){return wc(e)&&e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e),this._events.forEach(r=>{r.startOffset===e&&(oi(n)||Rt(n)&&r.value===n)&&(this._events.delete(r),r.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(n=>n.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(n=>{n instanceof py?n._forEach(e):e(n)}),this}_setAll(e,n){this._forEach(r=>{r[e]=n})}_tick(e,n){this.mute||this.callback(e,n)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(n=>{n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.loop=e,this._testLoopBoundries(n)})}get loopEnd(){return new $n(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopEnd=e,this._testLoopBoundries(n)})}get loopStart(){return new $n(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopStart=this.loopStart,this._testLoopBoundries(n)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*Gee(t){let e=0;for(;e<t;)e=vd(e,0,t-1),yield e,e++}function*Yee(t){let e=t-1;for(;e>=0;)e=vd(e,0,t-1),yield e,e--}function*qp(t,e){for(;;)yield*e(t)}function*CA(t,e){let n=e?0:t-1;for(;;)n=vd(n,0,t-1),yield n,e?(n++,n>=t-1&&(e=!1)):(n--,n<=0&&(e=!0))}function*Kee(t){let e=0,n=0;for(;e<t;)e=vd(e,0,t-1),yield e,n++,e+=n%2?2:-1}function*Zee(t){let e=t-1,n=0;for(;e>=0;)e=vd(e,0,t-1),yield e,n++,e+=n%2?-2:1}function*Xee(t){for(;;)yield Math.floor(Math.random()*t)}function*Qee(t){const e=[];for(let n=0;n<t;n++)e.push(n);for(;e.length>0;){const n=e.splice(Math.floor(e.length*Math.random()),1);yield vd(n[0],0,t-1)}}function*Jee(t){let e=Math.floor(Math.random()*t);for(;;)e===0?e++:e===t-1||Math.random()<.5?e--:e++,yield e}function*AA(t,e="up",n=0){switch(mt(t>=1,"The number of values must be at least one"),e){case"up":yield*qp(t,Gee);case"down":yield*qp(t,Yee);case"upDown":yield*CA(t,!0);case"downUp":yield*CA(t,!1);case"alternateUp":yield*qp(t,Kee);case"alternateDown":yield*qp(t,Zee);case"random":yield*Xee(t);case"randomOnce":yield*qp(t,Qee);case"randomWalk":yield*Jee(t)}}class Gm extends Za{constructor(){const e=ot(Gm.getDefaults(),arguments,["callback","values","pattern"]);super(e),this.name="Pattern",this.callback=e.callback,this._values=e.values,this._pattern=AA(e.values.length,e.pattern),this._type=e.pattern}static getDefaults(){return Object.assign(Za.getDefaults(),{pattern:"up",values:[],callback:Ht})}_tick(e){const n=this._pattern.next();this._index=n.value,this._value=this._values[n.value],this.callback(e,this._value)}get values(){return this._values}set values(e){this._values=e,this.pattern=this._type}get value(){return this._value}get index(){return this._index}get pattern(){return this._type}set pattern(e){this._type=e,this._pattern=AA(this._values.length,this._type)}}class my extends Ka{constructor(){const e=ot(my.getDefaults(),arguments,["callback","events","subdivision"]);super(e),this.name="Sequence",this._part=new py({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[],this._subdivision=this.toTicks(e.subdivision),this.events=e.events,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.playbackRate=e.playbackRate,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate}static getDefaults(){return Object.assign(ly(Ka.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(e,n){n!==null&&!this.mute&&this.callback(e,n)}get events(){return this._events}set events(e){this.clear(),this._eventsArray=e,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(e,n){return this._part.start(e,n&&this._indexTime(n)),this}stop(e){return this._part.stop(e),this}get subdivision(){return new $n(this.context,this._subdivision).toSeconds()}_createSequence(e){return new Proxy(e,{get:(n,r)=>n[r],set:(n,r,s)=>(pa(r)&&isFinite(parseInt(r,10))&&ns(s)?n[r]=this._createSequence(s):n[r]=s,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(e,n,r){e.forEach((s,i)=>{const o=i*n+r;if(ns(s))this._rescheduleSequence(s,n/s.length,o);else{const a=new $n(this.context,o,"i").toSeconds();this._part.add(a,s)}})}_indexTime(e){return new $n(this.context,e*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(e){this._part.loop=e}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this._part.loopStart=this._indexTime(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,e===0?this._part.loopEnd=this._indexTime(this._eventsArray.length):this._part.loopEnd=this._indexTime(e)}get startOffset(){return this._part.startOffset}set startOffset(e){this._part.startOffset=e}get playbackRate(){return this._part.playbackRate}set playbackRate(e){this._part.playbackRate=e}get probability(){return this._part.probability}set probability(e){this._part.probability=e}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(e){this._part.humanize=e}get length(){return this._part.length}}class tw extends ht{constructor(){const e=ot(tw.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Bee({context:this.context}),this.a=new Gt({context:this.context,gain:0}),this.b=new Gt({context:this.context,gain:0}),this.output=new Gt({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new nn({context:this.context,units:"normalRange",value:e.fade}),Bt(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",So(this._split,this.a.gain,0),So(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ht.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Af extends ht{constructor(e){super(e),this.name="Effect",this._dryWet=new tw({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Gt({context:this.context}),this.effectReturn=new Gt({context:this.context}),this.input=new Gt({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Bt(this,"wet")}static getDefaults(){return Object.assign(ht.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class TA extends Af{constructor(e){super(e),this.name="LFOEffect",this._lfo=new Z2({context:this.context,frequency:e.frequency,amplitude:e.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=e.type,Bt(this,["frequency","depth"])}static getDefaults(){return Object.assign(Af.getDefaults(),{frequency:1,type:"sine",depth:1})}start(e){return this._lfo.start(e),this}stop(e){return this._lfo.stop(e),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class a3 extends TA{constructor(){const e=ot(a3.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);super(e),this.name="AutoFilter",this.filter=new Q2(Object.assign(e.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=e.octaves,this.baseFrequency=e.baseFrequency}static getDefaults(){return Object.assign(TA.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(e){this._lfo.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._lfo.max=this._lfo.min*Math.pow(2,e)}dispose(){return super.dispose(),this.filter.dispose(),this}}class l3 extends ht{constructor(){const e=ot(l3.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Wt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Bt(this,"pan")}static getDefaults(){return Object.assign(ht.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const ete="bit-crusher",tte=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;jM(ete,tte);class nw extends ht{constructor(){const e=ot(nw.getDefaults(),arguments,["channels"]);super(e),this.name="Split",this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(ht.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Kg extends ht{constructor(){const e=ot(Kg.getDefaults(),arguments,["channels"]);super(e),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(ht.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class PA extends ht{constructor(e){super(e),this.name="StereoEffect",this.input=new Gt({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new tw({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new nw({context:this.context,channels:2}),this._merge=new Kg({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Bt(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),sd(...e),So(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),sd(...e),So(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(ht.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class nte extends PA{constructor(e){super(e),this.feedback=new nn({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new Gt({context:this.context}),this._feedbackR=new Gt({context:this.context}),this._feedbackSplit=new nw({context:this.context,channels:2}),this._feedbackMerge=new Kg({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Bt(this,["feedback"])}static getDefaults(){return Object.assign(PA.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class EA extends Af{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new Gt({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Bt(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Af.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Zg extends EA{constructor(){const e=ot(Zg.getDefaults(),arguments,["delayTime","feedback"]);super(e),this.name="FeedbackDelay",this._delayNode=new Hh({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Bt(this,"delayTime")}static getDefaults(){return Object.assign(EA.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class jA extends nte{constructor(e){super(e),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Bt(this,["feedback"])}}class c3 extends jA{constructor(){const e=ot(c3.getDefaults(),arguments,["delayTime","feedback"]);super(e),this.name="PingPongDelay",this._leftDelay=new Hh({context:this.context,maxDelay:e.maxDelay}),this._rightDelay=new Hh({context:this.context,maxDelay:e.maxDelay}),this._rightPreDelay=new Hh({context:this.context,maxDelay:e.maxDelay}),this.delayTime=new nn({context:this.context,units:"time",value:e.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Bt(this,["delayTime"])}static getDefaults(){return Object.assign(jA.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class Yo extends Af{constructor(){const e=ot(Yo.getDefaults(),arguments,["decay"]);super(e),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve(),this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Af.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),ma(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),ma(e,0),this._preDelay=e,this.generate()}generate(){return rr(this,void 0,void 0,function*(){const e=this.ready,n=new B2(2,this._decay+this._preDelay,this.context.sampleRate),r=new Hm({context:n}),s=new Hm({context:n}),i=new Kg({context:n});r.connect(i,0,0),s.connect(i,0,1);const o=new Gt({context:n}).toDestination();i.connect(o),r.start(0),s.start(0),o.gain.setValueAtTime(0,0),o.gain.setValueAtTime(1,this._preDelay),o.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const a=n.render();return this.ready=a.then(Ht),yield e,this._convolver.buffer=(yield a).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class ur extends ht{constructor(){const e=ot(ur.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Gt({context:this.context}),ur._allSolos.has(this.context)||ur._allSolos.set(this.context,new Set),ur._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(ht.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),ur._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){ur._soloed.has(this.context)||ur._soloed.set(this.context,new Set),ur._soloed.get(this.context).add(this)}_removeSolo(){ur._soloed.has(this.context)&&ur._soloed.get(this.context).delete(this)}_isSoloed(){return ur._soloed.has(this.context)&&ur._soloed.get(this.context).has(this)}_noSolos(){return!ur._soloed.has(this.context)||ur._soloed.has(this.context)&&ur._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ur._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ur._allSolos=new Map;ur._soloed=new Map;class u3 extends ht{constructor(){const e=ot(u3.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new l3({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Xf({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Bt(this,["pan","volume"])}static getDefaults(){return Object.assign(ht.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Nh extends ht{constructor(){const e=ot(Nh.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new ur({solo:e.solo,context:this.context}),this._panVol=this.output=new u3({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Bt(this,["pan","volume"])}static getDefaults(){return Object.assign(ht.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Nh.buses.has(e)||Nh.buses.set(e,new Gt({context:this.context})),Nh.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new Gt({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Nh.buses=new Map;const Au=Pi().transport,r5=Pi().destination;Pi().destination;Pi().listener;Pi().draw;const rte=Pi();function ste({dreamContent:t,dreamStory:e,category:n,emotion:r,soundtrack:s,soundMood:i,onSoundtrackChange:o}){const[a,l]=N.useState(!1),[c,u]=N.useState(70),[d,p]=N.useState(!1),[f,y]=N.useState(i||"pacifico"),{toast:g}=zr(),b=[{value:"allegro",label:"Allegro"},{value:"misterioso",label:"Misterioso"},{value:"inquietante",label:"Inquietante"},{value:"tranquillo",label:"Tranquillo"},{value:"epico",label:"Epico"},{value:"malinconico",label:"Malinconico"},{value:"sognante",label:"Sognante"},{value:"avventuroso",label:"Avventuroso"},{value:"romantico",label:"Romantico"},{value:"pacifico",label:"Pacifico"}],[v,w]=N.useState(null),[_,T]=N.useState(null),[C,R]=N.useState(null),[E,A]=N.useState(null),[D,H]=N.useState([]);N.useEffect(()=>{if(!v){const O=new ao().toDestination();O.volume.value=uy(c/100),w(O);const $=new Yo({decay:4,wet:.5}).toDestination(),B=new Zg({delayTime:.25,feedback:.3,wet:.2}).toDestination();O.connect($),O.connect(B),T($),R(B)}return()=>{E&&(E.stop(),E.dispose()),v&&v.dispose(),_&&_.dispose(),C&&C.dispose()}},[]),N.useEffect(()=>{v&&(v.volume.value=uy(c/100))},[c,v]),N.useEffect(()=>{if(s)try{const O=JSON.parse(s);H(O)}catch(O){console.error("Errore nel parsing delle note dal soundtrack:",O)}},[s]);const L=O=>{let $=[],B=[];switch(O){case"allegro":B=["C4","D4","E4","F4","G4","A4","B4","C5"];break;case"misterioso":B=["D4","E4","F4","G4","A4","Bb4","C5","D5"];break;case"inquietante":B=["C4","D4","Eb4","F4","G4","Ab4","B4","C5"];break;case"tranquillo":B=["G3","A3","C4","D4","E4","G4","A4","C5"];break;case"epico":B=["C4","D4","E4","F4","G4","A4","B4","C5","D5","E5"];break;case"malinconico":B=["A3","C4","D4","E4","G4","A4"];break;case"sognante":B=["D4","F4","G4","A4","C5","D5"];break;case"avventuroso":B=["C4","D4","E4","F#4","G4","A4","B4","C5"];break;case"romantico":B=["E4","F#4","G4","A4","B4","C5","D5","E5"];break;default:B=["G3","B3","D4","G4","B4","D5"]}const J=16;for(let re=0;re<J;re++){const X=Math.floor(Math.random()*B.length);$.push(B[X])}return $},P=()=>{if(!v||D.length===0)return;let O=120;switch(f){case"allegro":O=140;break;case"misterioso":O=90;break;case"inquietante":O=80;break;case"tranquillo":O=75;break;case"epico":O=110;break;case"malinconico":O=65;break;case"sognante":O=85;break;case"avventuroso":O=125;break;case"romantico":O=95;break;case"pacifico":O=70;break}Au.bpm.value=O,E&&(E.stop(),E.dispose());const $=new Gm((B,J)=>{if(v){let re="8n";["tranquillo","malinconico","romantico","pacifico"].includes(f)?re="4n":["allegro","avventuroso"].includes(f)&&(re="16n"),v.triggerAttackRelease(J,re,B)}},D,"randomWalk");A($),$.start(0),Au.start(),l(!0)},U=()=>{E&&E.stop(),Au.stop(),l(!1)},z=async()=>{rte.state!=="running"&&await SM(),a?U():P()},Y=async()=>{if(!d){p(!0);try{if(t&&f){const O=L(f);H(O);const $=JSON.stringify(O);o($,f),g({description:"Colonna sonora generata con successo!"})}}catch(O){console.error("Errore nella generazione della colonna sonora:",O),g({variant:"destructive",description:"Errore durante la generazione della colonna sonora"})}finally{p(!1)}}};return N.useEffect(()=>{if(i)y(i);else{let O="pacifico";switch(n){case"spaventoso":O="inquietante";break;case"avventura":O="avventuroso";break;case"romantico":O="romantico";break;case"fantastico":O="epico";break;case"supereroi":O="epico";break;case"surreale":O="misterioso";break;default:switch(r){case"felice":O="allegro";break;case"triste":O="malinconico";break;case"spaventato":O="inquietante";break;case"ansioso":O="misterioso";break;case"nostalgico":O="sognante";break;case"eccitato":O="avventuroso";break;case"pacifico":O="tranquillo";break;default:O="pacifico"}}y(O)}},[n,r,i]),h.jsxs(hr,{className:"w-full dark:bg-slate-900/60 light:bg-white/90 backdrop-blur-sm",children:[h.jsx(Tr,{className:"pb-2",children:h.jsxs(Pr,{className:"text-lg font-semibold flex items-center",children:[h.jsx(Kj,{className:"h-5 w-5 mr-2"}),"Colonna sonora del sogno"]})}),h.jsx(xr,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"soundMood",children:"Atmosfera musicale"}),h.jsxs(Ja,{value:f,onValueChange:O=>y(O),children:[h.jsx(sa,{id:"soundMood",children:h.jsx(el,{placeholder:"Seleziona un'atmosfera"})}),h.jsx(ia,{children:b.map(O=>h.jsx(qn,{value:O.value,children:O.label},O.value))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs(jt,{htmlFor:"volume",className:"flex justify-between items-center",children:[h.jsx("span",{children:"Volume"}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:[c,"%"]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Fm,{className:"h-4 w-4 text-muted-foreground"}),h.jsx(cc,{id:"volume",min:0,max:100,step:1,value:[c],onValueChange:O=>u(O[0])})]})]}),h.jsxs("div",{className:"flex justify-between items-center pt-2 space-x-2",children:[h.jsx(it,{variant:"outline",className:"w-full",onClick:Y,disabled:d||!t,children:d?h.jsxs(h.Fragment,{children:[h.jsx(wC,{className:"mr-2 h-4 w-4 animate-spin"}),"Generando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(wC,{className:"mr-2 h-4 w-4"}),"Genera colonna sonora"]})}),h.jsx(it,{className:"w-full",onClick:z,disabled:D.length===0,children:a?h.jsxs(h.Fragment,{children:[h.jsx(l2,{className:"mr-2 h-4 w-4"}),"Pausa"]}):h.jsxs(h.Fragment,{children:[h.jsx(c2,{className:"mr-2 h-4 w-4"}),"Riproduci"]})})]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"La colonna sonora viene generata in base all'atmosfera e alle emozioni del tuo sogno."})]})})]})}var s5="rovingFocusGroup.onEntryFocus",ite={bubbles:!1,cancelable:!0},rw="RovingFocusGroup",[v_,LM,ote]=Cg(rw),[ate,RM]=Br(rw,[ote]),[lte,cte]=ate(rw),MM=N.forwardRef((t,e)=>h.jsx(v_.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(v_.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(ute,{...t,ref:e})})}));MM.displayName=rw;var ute=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,p=N.useRef(null),f=Dt(e,p),y=Mg(i),[g=null,b]=_s({prop:o,defaultProp:a,onChange:l}),[v,w]=N.useState(!1),_=bs(c),T=LM(n),C=N.useRef(!1),[R,E]=N.useState(0);return N.useEffect(()=>{const A=p.current;if(A)return A.addEventListener(s5,_),()=>A.removeEventListener(s5,_)},[_]),h.jsx(lte,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:g,onItemFocus:N.useCallback(A=>b(A),[b]),onItemShiftTab:N.useCallback(()=>w(!0),[]),onFocusableItemAdd:N.useCallback(()=>E(A=>A+1),[]),onFocusableItemRemove:N.useCallback(()=>E(A=>A-1),[]),children:h.jsx(lt.div,{tabIndex:v||R===0?-1:0,"data-orientation":r,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:Ke(t.onMouseDown,()=>{C.current=!0}),onFocus:Ke(t.onFocus,A=>{const D=!C.current;if(A.target===A.currentTarget&&D&&!v){const H=new CustomEvent(s5,ite);if(A.currentTarget.dispatchEvent(H),!H.defaultPrevented){const L=T().filter(O=>O.focusable),P=L.find(O=>O.active),U=L.find(O=>O.id===g),Y=[P,U,...L].filter(Boolean).map(O=>O.ref.current);IM(Y,u)}}C.current=!1}),onBlur:Ke(t.onBlur,()=>w(!1))})})}),DM="RovingFocusGroupItem",OM=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=ji(),l=i||a,c=cte(DM,n),u=c.currentTabStopId===l,d=LM(n),{onFocusableItemAdd:p,onFocusableItemRemove:f}=c;return N.useEffect(()=>{if(r)return p(),()=>f()},[r,p,f]),h.jsx(v_.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:h.jsx(lt.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Ke(t.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:Ke(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ke(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=fte(y,c.orientation,c.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=d().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const w=v.indexOf(y.currentTarget);v=c.loop?pte(v,w+1):v.slice(w+1)}setTimeout(()=>IM(v))}})})})});OM.displayName=DM;var dte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function fte(t,e,n){const r=hte(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return dte[r]}function IM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function pte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var mte=MM,gte=OM,d3="Tabs",[vte,khe]=Br(d3,[RM]),FM=RM(),[yte,h3]=vte(d3),VM=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Mg(a),[d,p]=_s({prop:r,onChange:s,defaultProp:i});return h.jsx(yte,{scope:n,baseId:ji(),value:d,onValueChange:p,orientation:o,dir:u,activationMode:l,children:h.jsx(lt.div,{dir:u,"data-orientation":o,...c,ref:e})})});VM.displayName=d3;var zM="TabsList",BM=N.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=h3(zM,n),o=FM(n);return h.jsx(mte,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(lt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});BM.displayName=zM;var qM="TabsTrigger",UM=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=h3(qM,n),a=FM(n),l=HM(o.baseId,r),c=GM(o.baseId,r),u=r===o.value;return h.jsx(gte,{asChild:!0,...a,focusable:!s,active:u,children:h.jsx(lt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Ke(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:Ke(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:Ke(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!s&&d&&o.onValueChange(r)})})})});UM.displayName=qM;var WM="TabsContent",$M=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=h3(WM,n),l=HM(a.baseId,r),c=GM(a.baseId,r),u=r===a.value,d=N.useRef(u);return N.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),h.jsx(Ii,{present:s||u,children:({present:p})=>h.jsx(lt.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:p&&i})})});$M.displayName=WM;function HM(t,e){return`${t}-trigger-${e}`}function GM(t,e){return`${t}-content-${e}`}var wte=VM,YM=BM,KM=UM,ZM=$M;const Xg=wte,Jf=N.forwardRef(({className:t,...e},n)=>h.jsx(YM,{ref:n,className:rt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Jf.displayName=YM.displayName;const Ri=N.forwardRef(({className:t,...e},n)=>h.jsx(KM,{ref:n,className:rt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ri.displayName=KM.displayName;const Mi=N.forwardRef(({className:t,...e},n)=>h.jsx(ZM,{ref:n,className:rt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Mi.displayName=ZM.displayName;var XM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=s(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)e.call(i,a)&&i[a]&&(o=s(o,a));return o}function s(i,o){return o?i?i+" "+o:i+o:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(XM);var xte=XM.exports;const QM=qy(xte);var y_={exports:{}},w_={exports:{}},Ym=1e3,Km=Ym*60,Zm=Km*60,Xm=Zm*24,bte=Xm*365.25,_te=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Ste(t);if(n==="number"&&isNaN(t)===!1)return e.long?kte(t):Nte(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Ste(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*bte;case"days":case"day":case"d":return n*Xm;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Zm;case"minutes":case"minute":case"mins":case"min":case"m":return n*Km;case"seconds":case"second":case"secs":case"sec":case"s":return n*Ym;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Nte(t){return t>=Xm?Math.round(t/Xm)+"d":t>=Zm?Math.round(t/Zm)+"h":t>=Km?Math.round(t/Km)+"m":t>=Ym?Math.round(t/Ym)+"s":t+"ms"}function kte(t){return j1(t,Xm,"day")||j1(t,Zm,"hour")||j1(t,Km,"minute")||j1(t,Ym,"second")||t+" ms"}function j1(t,e,n){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}(function(t,e){e=t.exports=s.debug=s.default=s,e.coerce=l,e.disable=o,e.enable=i,e.enabled=a,e.humanize=_te,e.names=[],e.skips=[],e.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return e.colors[Math.abs(u)%e.colors.length]}function s(c){function u(){if(u.enabled){var d=u,p=+new Date,f=p-(n||p);d.diff=f,d.prev=n,d.curr=p,n=p;for(var y=new Array(arguments.length),g=0;g<y.length;g++)y[g]=arguments[g];y[0]=e.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");var b=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,function(w,_){if(w==="%%")return w;b++;var T=e.formatters[_];if(typeof T=="function"){var C=y[b];w=T.call(d,C),y.splice(b,1),b--}return w}),e.formatArgs.call(d,y);var v=u.log||e.log||console.log.bind(console);v.apply(d,y)}}return u.namespace=c,u.enabled=e.enabled(c),u.useColors=e.useColors(),u.color=r(c),typeof e.init=="function"&&e.init(u),u}function i(c){e.save(c),e.names=[],e.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,p=0;p<d;p++)u[p]&&(c=u[p].replace(/\*/g,".*?"),c[0]==="-"?e.skips.push(new RegExp("^"+c.substr(1)+"$")):e.names.push(new RegExp("^"+c+"$")))}function o(){e.enable("")}function a(c){var u,d;for(u=0,d=e.skips.length;u<d;u++)if(e.skips[u].test(c))return!1;for(u=0,d=e.names.length;u<d;u++)if(e.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(w_,w_.exports);var Cte=w_.exports;(function(t,e){var n={};e=t.exports=Cte,e.log=i,e.formatArgs=s,e.save=o,e.load=a,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function s(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var p=0,f=0;c[0].replace(/%[a-zA-Z%]/g,function(y){y!=="%%"&&(p++,y==="%c"&&(f=p))}),c.splice(f,0,d)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?e.storage.removeItem("debug"):e.storage.debug=c}catch{}}function a(){var c;try{c=e.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}e.enable(a());function l(){try{return window.localStorage}catch{}}})(y_,y_.exports);var Ate=y_.exports,LA=Ate("jsonp"),Tte=jte,Pte=0;function Ete(){}function jte(t,e,n){typeof e=="function"&&(n=e,e={}),e||(e={});var r=e.prefix||"__jp",s=e.name||r+Pte++,i=e.param||"callback",o=e.timeout!=null?e.timeout:6e4,a=encodeURIComponent,l=document.getElementsByTagName("script")[0]||document.head,c,u;o&&(u=setTimeout(function(){d(),n&&n(new Error("Timeout"))},o));function d(){c.parentNode&&c.parentNode.removeChild(c),window[s]=Ete,u&&clearTimeout(u)}function p(){window[s]&&d()}return window[s]=function(f){LA("jsonp got",f),d(),n&&n(null,f)},t+=(~t.indexOf("?")?"&":"?")+i+"="+a(s),t=t.replace("?&","?"),LA('jsonp req "%s"',t),c=document.createElement("script"),c.src=t,l.parentNode.insertBefore(c,l),p}const wd=qy(Tte);var Lte=Object.defineProperty,Rte=Object.defineProperties,Mte=Object.getOwnPropertyDescriptors,gy=Object.getOwnPropertySymbols,JM=Object.prototype.hasOwnProperty,eD=Object.prototype.propertyIsEnumerable,RA=(t,e,n)=>e in t?Lte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ti=(t,e)=>{for(var n in e||(e={}))JM.call(e,n)&&RA(t,n,e[n]);if(gy)for(var n of gy(e))eD.call(e,n)&&RA(t,n,e[n]);return t},sw=(t,e)=>Rte(t,Mte(e)),iw=(t,e)=>{var n={};for(var r in t)JM.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&gy)for(var r of gy(t))e.indexOf(r)<0&&eD.call(t,r)&&(n[r]=t[r]);return n};function Xc(t){return n=>{var r=n,{bgStyle:s={},borderRadius:i=0,iconFillColor:o="white",round:a=!1,size:l=64}=r,c=iw(r,["bgStyle","borderRadius","iconFillColor","round","size"]);return h.jsxs("svg",sw(ti({viewBox:"0 0 64 64",width:l,height:l},c),{children:[a?h.jsx("circle",{cx:"32",cy:"32",r:"32",fill:t.color,style:s}):h.jsx("rect",{width:"64",height:"64",rx:i,ry:i,fill:t.color,style:s}),h.jsx("path",{d:t.path,fill:o})]}))}}class Dte extends Error{constructor(e){super(e),this.name="AssertionError"}}function kn(t,e){if(!t)throw new Dte(e)}function un(t){const e=Object.entries(t).filter(([,n])=>n!=null).map(([n,r])=>`${encodeURIComponent(n)}=${encodeURIComponent(String(r))}`);return e.length>0?`?${e.join("&")}`:""}const Ote=t=>!!t&&(typeof t=="object"||typeof t=="function")&&"then"in t&&typeof t.then=="function",Ite=(t,e)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-t/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-e/2}),Fte=(t,e)=>({top:(window.screen.height-e)/2,left:(window.screen.width-t)/2});function Vte(t,e,n){var r=e,{height:s,width:i}=r,o=iw(r,["height","width"]);const a=ti({height:s,width:i,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},o),l=window.open(t,"",Object.keys(a).map(c=>`${c}=${a[c]}`).join(", "));if(n){const c=window.setInterval(()=>{try{(l===null||l.closed)&&(window.clearInterval(c),n(l))}catch(u){console.error(u)}},1e3)}return l}function zte(t){var e=t,{beforeOnClick:n,children:r,className:s,disabled:i,disabledStyle:o={opacity:.6},forwardedRef:a,htmlTitle:l,networkLink:c,networkName:u,onClick:d,onShareWindowClose:p,openShareDialogOnClick:f=!0,opts:y,resetButtonStyle:g=!0,style:b,title:v,url:w,windowHeight:_=400,windowPosition:T="windowCenter",windowWidth:C=550}=e,R=iw(e,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","htmlTitle","networkLink","networkName","onClick","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","title","url","windowHeight","windowPosition","windowWidth"]);const E=async H=>{const L=c(w,y);if(!i){if(H.preventDefault(),n){const P=n();Ote(P)&&await P}if(f){const P=ti({height:_,width:C},T==="windowCenter"?Ite(C,_):Fte(C,_));Vte(L,P,p)}d&&d(H,L)}},A=QM("react-share__ShareButton",{"react-share__ShareButton--disabled":!!i,disabled:!!i},s),D=ti(ti(g?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},b),i&&o);return h.jsx("button",sw(ti({},R),{className:A,onClick:E,ref:a,style:D,title:l,children:r}))}function Tn(t,e,n,r){const s=(i,o)=>{const a=n(i),l=ti({},i);return Object.keys(a).forEach(u=>{delete l[u]}),h.jsx(zte,sw(ti(ti({},r),l),{forwardedRef:o,networkName:t,networkLink:e,opts:a}))};return s.displayName=`ShareButton-${t}`,N.forwardRef(s)}function Bte(t,{title:e,separator:n}){return kn(t,"bluesky.url"),"https://bsky.app/intent/compose"+un({text:e?e+n+t:t})}Tn("bluesky",Bte,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});const qte=Xc({color:"#7f7f7f",path:"M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z"});function Ute(t,{subject:e,body:n,separator:r}){return"mailto:"+un({subject:e,body:n?n+r+t:t})}const Wte=Tn("email",Ute,t=>({subject:t.subject,body:t.body,separator:t.separator||" "}),{openShareDialogOnClick:!1,onClick:(t,e)=>{window.location.href=e}}),$te=Xc({color:"#0965FE",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"});function Hte(t,{appId:e,redirectUri:n,to:r}){return"https://www.facebook.com/dialog/send"+un({link:t,redirect_uri:n||t,app_id:e,to:r})}Tn("facebookmessenger",Hte,t=>({appId:t.appId,redirectUri:t.redirectUri,to:t.to}),{windowWidth:1e3,windowHeight:820});function Gte(t,{hashtag:e}){return kn(t,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+un({u:t,hashtag:e})}const Yte=Tn("facebook",Gte,t=>({hashtag:t.hashtag}),{windowWidth:550,windowHeight:400});function Kte(){const t=N.useRef(!1);return N.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),N.useCallback(()=>t.current,[])}function Zte(t){var e=t,{children:n=p=>p,className:r,getCount:s,url:i}=e,o=iw(e,["children","className","getCount","url"]);const a=Kte(),[l,c]=N.useState(void 0),[u,d]=N.useState(!1);return N.useEffect(()=>{d(!0),s(i,p=>{a()&&(c(p),d(!1))})},[i]),h.jsx("span",sw(ti({className:QM("react-share__ShareCount",r)},o),{children:!u&&l!==void 0&&n(l)}))}function xd(t){const e=n=>h.jsx(Zte,ti({getCount:t},n));return e.displayName=`ShareCount(${t.name})`,e}function Xte(t,e){const n=`https://graph.facebook.com/?id=${t}&fields=og_object{engagement}`;wd(n,(r,s)=>{e(!r&&s&&s.og_object&&s.og_object.engagement?s.og_object.engagement.count:void 0)})}xd(Xte);function Qte(t,{title:e}){return kn(t,"hatena.url"),`http://b.hatena.ne.jp/add?mode=confirm&url=${t}&title=${e}`}Tn("hatena",Qte,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function Jte(t,e){wd("https://bookmark.hatenaapis.com/count/entry"+un({url:t}),(r,s)=>{e(s??void 0)})}xd(Jte);function ene(t,{title:e,description:n}){return kn(t,"instapaper.url"),"http://www.instapaper.com/hello2"+un({url:t,title:e,description:n})}Tn("instapaper",ene,t=>({title:t.title,description:t.description}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"});function tne(t,{title:e}){return kn(t,"line.url"),"https://social-plugins.line.me/lineit/share"+un({url:t,text:e})}Tn("line",tne,t=>({title:t.title}),{windowWidth:500,windowHeight:500});const nne=Xc({color:"#0077B5",path:"M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z"});function rne(t,{title:e,summary:n,source:r}){return kn(t,"linkedin.url"),"https://linkedin.com/shareArticle"+un({url:t,mini:"true",title:e,summary:n,source:r})}const sne=Tn("linkedin",rne,({title:t,summary:e,source:n})=>({title:t,summary:e,source:n}),{windowWidth:750,windowHeight:600});function ine(t,{title:e,description:n}){return kn(t,"livejournal.url"),"https://www.livejournal.com/update.bml"+un({subject:e,event:n})}Tn("livejournal",ine,t=>({title:t.title,description:t.description}),{windowWidth:660,windowHeight:460});function one(t,{title:e,description:n,imageUrl:r}){return kn(t,"mailru.url"),"https://connect.mail.ru/share"+un({url:t,title:e,description:n,image_url:r})}Tn("mailru",one,t=>({title:t.title,description:t.description,imageUrl:t.imageUrl}),{windowWidth:660,windowHeight:460});function ane(t,{title:e,description:n,image:r}){return kn(t,"ok.url"),"https://connect.ok.ru/offer"+un({url:t,title:e,description:n,imageUrl:r})}Tn("ok",ane,t=>({title:t.title,description:t.description,image:t.image}),{windowWidth:588,windowHeight:480,windowPosition:"screenCenter"});function lne(t,e){window.OK||(window.OK={Share:{count:function(i,o){var a,l;(l=(a=window.OK.callbacks)[i])==null||l.call(a,o)}},callbacks:[]});const n="https://connect.ok.ru/dk",r=window.OK.callbacks.length;return window.ODKL={updateCount(s,i){var o,a;const l=s===""?0:parseInt(s.replace("react-share-",""),10);(a=(o=window.OK.callbacks)[l])==null||a.call(o,i===""?void 0:parseInt(i,10))}},window.OK.callbacks.push(e),wd(n+un({"st.cmd":"extLike",uid:`react-share-${r}`,ref:t}))}xd(lne);const cne=Xc({color:"#E60023",path:"M32,16c-8.8,0-16,7.2-16,16c0,6.6,3.9,12.2,9.6,14.7c0-1.1,0-2.5,0.3-3.7 c0.3-1.3,2.1-8.7,2.1-8.7s-0.5-1-0.5-2.5c0-2.4,1.4-4.1,3.1-4.1c1.5,0,2.2,1.1,2.2,2.4c0,1.5-0.9,3.7-1.4,5.7 c-0.4,1.7,0.9,3.1,2.5,3.1c3,0,5.1-3.9,5.1-8.5c0-3.5-2.4-6.1-6.7-6.1c-4.9,0-7.9,3.6-7.9,7.7c0,1.4,0.4,2.4,1.1,3.1 c0.3,0.3,0.3,0.5,0.2,0.9c-0.1,0.3-0.3,1-0.3,1.3c-0.1,0.4-0.4,0.6-0.8,0.4c-2.2-0.9-3.3-3.4-3.3-6.1c0-4.5,3.8-10,11.4-10 c6.1,0,10.1,4.4,10.1,9.2c0,6.3-3.5,11-8.6,11c-1.7,0-3.4-0.9-3.9-2c0,0-0.9,3.7-1.1,4.4c-0.3,1.2-1,2.5-1.6,3.4 c1.4,0.4,3,0.7,4.5,0.7c8.8,0,16-7.2,16-16C48,23.2,40.8,16,32,16z"});function une(t,{media:e,description:n,pinId:r}){return r?`https://pinterest.com/pin/${r}/repin/x/`:(kn(t,"pinterest.url"),kn(e,"pinterest.media"),"https://pinterest.com/pin/create/button/"+un({url:t,media:e,description:n}))}const dne=Tn("pinterest",une,t=>({media:t.media,description:t.description,pinId:t.pinId}),{windowWidth:1e3,windowHeight:730});function hne(t,e){wd("https://api.pinterest.com/v1/urls/count.json"+un({url:t}),(r,s)=>{e(s?s.count:void 0)})}xd(hne);function fne(t,{title:e}){return kn(t,"pocket.url"),"https://getpocket.com/save"+un({url:t,title:e})}Tn("pocket",fne,t=>({title:t.title}),{windowWidth:500,windowHeight:500});const pne=Xc({color:"#FF5700",path:"M 53.34375 32 C 53.277344 30.160156 52.136719 28.53125 50.429688 27.839844 C 48.722656 27.148438 46.769531 27.523438 45.441406 28.800781 C 41.800781 26.324219 37.519531 24.957031 33.121094 24.863281 L 35.199219 14.878906 L 42.046875 16.320312 C 42.214844 17.882812 43.496094 19.09375 45.066406 19.171875 C 46.636719 19.253906 48.03125 18.183594 48.359375 16.644531 C 48.6875 15.105469 47.847656 13.558594 46.382812 12.992188 C 44.914062 12.425781 43.253906 13.007812 42.464844 14.367188 L 34.625 12.800781 C 34.363281 12.742188 34.09375 12.792969 33.871094 12.9375 C 33.648438 13.082031 33.492188 13.308594 33.441406 13.566406 L 31.070312 24.671875 C 26.617188 24.738281 22.277344 26.105469 18.59375 28.609375 C 17.242188 27.339844 15.273438 26.988281 13.570312 27.707031 C 11.863281 28.429688 10.746094 30.089844 10.71875 31.941406 C 10.691406 33.789062 11.757812 35.484375 13.441406 36.257812 C 13.402344 36.726562 13.402344 37.195312 13.441406 37.664062 C 13.441406 44.832031 21.792969 50.65625 32.097656 50.65625 C 42.398438 50.65625 50.753906 44.832031 50.753906 37.664062 C 50.789062 37.195312 50.789062 36.726562 50.753906 36.257812 C 52.363281 35.453125 53.371094 33.800781 53.34375 32 Z M 21.34375 35.199219 C 21.34375 33.433594 22.777344 32 24.542969 32 C 26.3125 32 27.742188 33.433594 27.742188 35.199219 C 27.742188 36.96875 26.3125 38.398438 24.542969 38.398438 C 22.777344 38.398438 21.34375 36.96875 21.34375 35.199219 Z M 39.9375 44 C 37.664062 45.710938 34.871094 46.582031 32.03125 46.464844 C 29.191406 46.582031 26.398438 45.710938 24.128906 44 C 23.847656 43.65625 23.871094 43.15625 24.183594 42.839844 C 24.5 42.527344 25 42.503906 25.34375 42.785156 C 27.269531 44.195312 29.617188 44.90625 32 44.800781 C 34.386719 44.929688 36.746094 44.242188 38.6875 42.847656 C 39.042969 42.503906 39.605469 42.511719 39.953125 42.863281 C 40.296875 43.21875 40.289062 43.785156 39.9375 44.128906 Z M 39.359375 38.527344 C 37.59375 38.527344 36.160156 37.09375 36.160156 35.328125 C 36.160156 33.5625 37.59375 32.128906 39.359375 32.128906 C 41.128906 32.128906 42.558594 33.5625 42.558594 35.328125 C 42.59375 36.203125 42.269531 37.054688 41.65625 37.6875 C 41.046875 38.316406 40.203125 38.664062 39.328125 38.65625 Z M 39.359375 38.527344"});function mne(t,{title:e}){return kn(t,"reddit.url"),"https://www.reddit.com/web/submit"+un({url:t,title:e})}const gne=Tn("reddit",mne,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function vne(t,{title:e}){return kn(t,"gab.url"),"https://gab.com/compose"+un({url:t,text:e})}Tn("gab",vne,t=>({title:t.title}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"});function yne(t,e){const n=`https://www.reddit.com/api/info.json?limit=1&url=${t}`;wd(n,{param:"jsonp"},(r,s)=>{e(!r&&s&&s.data&&s.data.children.length>0&&s.data.children[0].data.score?s.data.children[0].data.score:void 0)})}xd(yne);const wne=Xc({color:"#25A3E3",path:"m45.90873,15.44335c-0.6901,-0.0281 -1.37668,0.14048 -1.96142,0.41265c-0.84989,0.32661 -8.63939,3.33986 -16.5237,6.39174c-3.9685,1.53296 -7.93349,3.06593 -10.98537,4.24067c-3.05012,1.1765 -5.34694,2.05098 -5.4681,2.09312c-0.80775,0.28096 -1.89996,0.63566 -2.82712,1.72788c-0.23354,0.27218 -0.46884,0.62161 -0.58825,1.10275c-0.11941,0.48114 -0.06673,1.09222 0.16682,1.5716c0.46533,0.96052 1.25376,1.35737 2.18443,1.71383c3.09051,0.99037 6.28638,1.93508 8.93263,2.8236c0.97632,3.44171 1.91401,6.89571 2.84116,10.34268c0.30554,0.69185 0.97105,0.94823 1.65764,0.95525l-0.00351,0.03512c0,0 0.53908,0.05268 1.06412,-0.07375c0.52679,-0.12292 1.18879,-0.42846 1.79109,-0.99212c0.662,-0.62161 2.45836,-2.38812 3.47683,-3.38552l7.6736,5.66477l0.06146,0.03512c0,0 0.84989,0.59703 2.09312,0.68132c0.62161,0.04214 1.4399,-0.07726 2.14229,-0.59176c0.70766,-0.51626 1.1765,-1.34683 1.396,-2.29506c0.65673,-2.86224 5.00979,-23.57745 5.75257,-27.00686l-0.02107,0.08077c0.51977,-1.93157 0.32837,-3.70159 -0.87096,-4.74991c-0.60054,-0.52152 -1.2924,-0.7498 -1.98425,-0.77965l0,0.00176zm-0.2072,3.29069c0.04741,0.0439 0.0439,0.0439 0.00351,0.04741c-0.01229,-0.00351 0.14048,0.2072 -0.15804,1.32576l-0.01229,0.04214l-0.00878,0.03863c-0.75858,3.50668 -5.15554,24.40802 -5.74203,26.96472c-0.08077,0.34417 -0.11414,0.31959 -0.09482,0.29852c-0.1756,-0.02634 -0.50045,-0.16506 -0.52679,-0.1756l-13.13468,-9.70175c4.4988,-4.33199 9.09945,-8.25307 13.744,-12.43229c0.8218,-0.41265 0.68483,-1.68573 -0.29852,-1.70681c-1.04305,0.24584 -1.92279,0.99564 -2.8798,1.47502c-5.49971,3.2626 -11.11882,6.13186 -16.55882,9.49279c-2.792,-0.97105 -5.57873,-1.77704 -8.15298,-2.57601c2.2336,-0.89555 4.00889,-1.55579 5.75608,-2.23009c3.05188,-1.1765 7.01687,-2.7042 10.98537,-4.24067c7.94051,-3.06944 15.92667,-6.16346 16.62028,-6.43037l0.05619,-0.02283l0.05268,-0.02283c0.19316,-0.0878 0.30378,-0.09658 0.35471,-0.10009c0,0 -0.01756,-0.05795 -0.00351,-0.04566l-0.00176,0zm-20.91715,22.0638l2.16687,1.60145c-0.93418,0.91311 -1.81743,1.77353 -2.45485,2.38812l0.28798,-3.98957"});function xne(t,{title:e}){return kn(t,"telegram.url"),"https://telegram.me/share/url"+un({url:t,text:e})}const bne=Tn("telegram",xne,t=>({title:t.title}),{windowWidth:550,windowHeight:400});function _ne(t,{title:e}){return kn(t,"threads.url"),"https://threads.net/intent/post"+un({url:t,text:e})}Tn("threads",_ne,t=>({title:t.title}),{windowWidth:550,windowHeight:600});function Sne(t,{title:e,caption:n,tags:r,posttype:s}){return kn(t,"tumblr.url"),"https://www.tumblr.com/widgets/share/tool"+un({canonicalUrl:t,title:e,caption:n,tags:r,posttype:s})}Tn("tumblr",Sne,t=>({title:t.title,tags:(t.tags||[]).join(","),caption:t.caption,posttype:t.posttype||"link"}),{windowWidth:660,windowHeight:460});function Nne(t,e){return wd("https://api.tumblr.com/v2/share/stats"+un({url:t}),(r,s)=>{e(!r&&s&&s.response?s.response.note_count:void 0)})}xd(Nne);const kne=Xc({color:"#00aced",path:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"});function Cne(t,{title:e,via:n,hashtags:r=[],related:s=[]}){return kn(t,"twitter.url"),kn(Array.isArray(r),"twitter.hashtags is not an array"),kn(Array.isArray(s),"twitter.related is not an array"),"https://twitter.com/intent/tweet"+un({url:t,text:e,via:n,hashtags:r.length>0?r.join(","):void 0,related:s.length>0?s.join(","):void 0})}const Ane=Tn("twitter",Cne,t=>({hashtags:t.hashtags,title:t.title,via:t.via,related:t.related}),{windowWidth:550,windowHeight:400});function Tne(t,{title:e,separator:n}){return kn(t,"viber.url"),"viber://forward"+un({text:e?e+n+t:t})}Tn("viber",Tne,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:660,windowHeight:460});function Pne(t,{title:e,image:n,noParse:r,noVkLinks:s}){return kn(t,"vk.url"),"https://vk.com/share.php"+un({url:t,title:e,image:n,noparse:r?1:0,no_vk_links:s?1:0})}Tn("vk",Pne,t=>({title:t.title,image:t.image,noParse:t.noParse,noVkLinks:t.noVkLinks}),{windowWidth:660,windowHeight:460});function Ene(t,e){window.VK||(window.VK={}),window.VK.Share={count:(s,i)=>{var o,a;return(a=(o=window.VK.callbacks)==null?void 0:o[s])==null?void 0:a.call(o,i)}},window.VK.callbacks=[];const n="https://vk.com/share.php",r=window.VK.callbacks.length;return window.VK.callbacks.push(e),wd(n+un({act:"count",index:r,url:t}))}xd(Ene);function jne(t,{title:e,image:n}){return kn(t,"weibo.url"),"http://service.weibo.com/share/share.php"+un({url:t,title:e,pic:n})}Tn("weibo",jne,t=>({title:t.title,image:t.image}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});const Lne=Xc({color:"#25D366",path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"});function Rne(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}function Mne(t,{title:e,separator:n}){return kn(t,"whatsapp.url"),"https://"+(Rne()?"api":"web")+".whatsapp.com/send"+un({text:e?e+n+t:t})}const Dne=Tn("whatsapp",Mne,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:550,windowHeight:400});function One(t,{quote:e,hashtag:n}){return kn(t,"workplace.url"),"https://work.facebook.com/sharer.php"+un({u:t,quote:e,hashtag:n})}Tn("workplace",One,t=>({quote:t.quote,hashtag:t.hashtag}),{windowWidth:550,windowHeight:400});function Ine({dreamContent:t,dreamStory:e,category:n,emotion:r,dreamImageUrl:s,dreamTitle:i}){const[o,a]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState(""),[p,f]=N.useState(!0),[y,g]=N.useState(!0),[b,v]=N.useState(!0),{toast:w}=zr(),_=i||`Ho sognato ${t.substring(0,30)}${t.length>30?"...":""}`,T=()=>{const P=["NarratoreDiSogni","Sogni"];return n&&n!=="non_categorizzato"&&P.push(`Sogno${n.charAt(0).toUpperCase()+n.slice(1)}`),r&&r!=="neutro"&&P.push(`${r.charAt(0).toUpperCase()+r.slice(1)}`),P},C=()=>T().map(P=>`#${P}`).join(" "),R=()=>{let P=_,U=u||`"${t.substring(0,100)}${t.length>100?"...":""}"`;return y&&e&&(U+=`

Ecco la storia generata dall'IA:
"${e.substring(0,200)}${e.length>200?"...":""}"`),U+=`

Categoria: ${n}`,U+=`
Emozione: ${r}`,b&&(U+=`

${C()}`),U+=`

Generato con Narratore di Sogni `,{title:P,text:U,url:window.location.href,hashtags:T(),image:p&&s?s:void 0}},E=()=>R().text,A=async()=>{try{await navigator.clipboard.writeText(E()),a(!0),w({description:"Testo copiato negli appunti!"}),setTimeout(()=>{a(!1)},2e3)}catch(P){console.error("Errore durante la copia:",P),w({variant:"destructive",description:"Impossibile copiare il testo. Prova a selezionarlo manualmente."})}},D=async()=>{if(!s){w({variant:"destructive",description:"Nessuna immagine disponibile da scaricare."});return}try{const P=document.createElement("a");P.href=s,P.download=`sogno-${new Date().toISOString().substring(0,10)}.png`,document.body.appendChild(P),P.click(),document.body.removeChild(P),c(!0),w({description:"Immagine scaricata!"}),setTimeout(()=>{c(!1)},2e3)}catch(P){console.error("Errore durante il download:",P),w({variant:"destructive",description:"Impossibile scaricare l'immagine."})}},H=async()=>{try{if(navigator.share){const P=R(),U={title:P.title,text:P.text,url:P.url};if(p&&s)try{const Y=await(await fetch(s)).blob(),O=new File([Y],"sogno.png",{type:"image/png"});navigator.canShare&&navigator.canShare({files:[O]})&&(U.files=[O])}catch(z){console.error("Errore nel caricamento dell'immagine per la condivisione:",z)}await navigator.share(U),w({description:"Grazie per aver condiviso il tuo sogno!"})}else throw new Error("Web Share API non supportata")}catch(P){console.error("Errore durante la condivisione:",P),w({variant:"default",description:"Usa le opzioni social qui sotto per condividere."})}},L=()=>h.jsxs("div",{className:"rounded-md border p-4 mt-4 max-h-48 overflow-y-auto text-sm",children:[h.jsx("h4",{className:"font-medium mb-2",children:_}),h.jsxs("p",{className:"text-muted-foreground whitespace-pre-line",children:[u||`"${t.substring(0,100)}${t.length>100?"...":""}"`,y&&e&&`

Ecco la storia generata dall'IA:
"${e.substring(0,150)}${e.length>150?"...":""}"`,`

Categoria: ${n}`,`
Emozione: ${r}`,b&&`

${C()}`,`

Generato con Narratore di Sogni `]}),p&&s&&h.jsx("div",{className:"mt-2 border rounded overflow-hidden w-16 h-16 flex-shrink-0",children:h.jsx("img",{src:s,alt:"Immagine del sogno",className:"w-full h-full object-cover"})})]});return h.jsxs(hr,{className:"w-full dark:bg-slate-900/60 light:bg-white/90 backdrop-blur-sm mt-4",children:[h.jsxs(Tr,{className:"pb-2",children:[h.jsxs(Pr,{className:"text-lg font-semibold flex items-center",children:[h.jsx(Lb,{className:"h-5 w-5 mr-2"}),"Condividi il tuo sogno"]}),h.jsx(ko,{children:"Personalizza e condividi la tua esperienza onirica con amici e follower"})]}),h.jsxs(xr,{children:[h.jsxs(Xg,{defaultValue:"share",className:"space-y-4",children:[h.jsxs(Jf,{className:"grid grid-cols-2",children:[h.jsx(Ri,{value:"share",children:"Condividi"}),h.jsx(Ri,{value:"customize",children:"Personalizza"})]}),h.jsxs(Mi,{value:"share",className:"space-y-4",children:[h.jsxs("div",{className:"flex flex-wrap gap-2",children:["share"in navigator&&h.jsxs(it,{variant:"outline",className:"flex-1",onClick:H,children:[h.jsx(Lb,{className:"h-4 w-4 mr-2"}),"Condividi"]}),h.jsx(it,{variant:"outline",className:"flex-1",onClick:A,children:o?h.jsxs(h.Fragment,{children:[h.jsx(xf,{className:"h-4 w-4 mr-2 text-green-500"}),"Copiato"]}):h.jsxs(h.Fragment,{children:[h.jsx(Wj,{className:"h-4 w-4 mr-2"}),"Copia testo"]})}),s&&h.jsx(it,{variant:"outline",className:"flex-1",onClick:D,disabled:!s,children:l?h.jsxs(h.Fragment,{children:[h.jsx(xf,{className:"h-4 w-4 mr-2 text-green-500"}),"Scaricata"]}):h.jsxs(h.Fragment,{children:[h.jsx(n4,{className:"h-4 w-4 mr-2"}),"Scarica immagine"]})})]}),h.jsxs("div",{className:"pt-2",children:[h.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[h.jsx($j,{className:"h-4 w-4 mr-1"}),h.jsx("span",{children:"Anteprima della condivisione"})]}),h.jsx(L,{})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"text-sm font-medium",children:"Condividi sui social"}),h.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[h.jsx(Ane,{url:R().url,title:R().text.substring(0,280),hashtags:R().hashtags,className:"!p-0",children:h.jsx("div",{className:"rounded-full p-2 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:h.jsx(kne,{size:36,round:!0})})}),h.jsx(Yte,{url:R().url,hashtag:R().hashtags[0]?`#${R().hashtags[0]}`:void 0,className:"!p-0",children:h.jsx("div",{className:"rounded-full p-2 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:h.jsx($te,{size:36,round:!0})})}),h.jsx(Dne,{url:R().url,title:R().text,className:"!p-0",children:h.jsx("div",{className:"rounded-full p-2 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:h.jsx(Lne,{size:36,round:!0})})}),h.jsx(bne,{url:R().url,title:R().text,className:"!p-0",children:h.jsx("div",{className:"rounded-full p-2 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:h.jsx(wne,{size:36,round:!0})})}),h.jsx(Wte,{url:R().url,subject:R().title,body:R().text,className:"!p-0",children:h.jsx("div",{className:"rounded-full p-2 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:h.jsx(qte,{size:36,round:!0})})}),h.jsx(sne,{url:R().url,title:R().title,className:"!p-0",children:h.jsx("div",{className:"rounded-full p-2 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:h.jsx(nne,{size:36,round:!0})})}),s&&h.jsx(dne,{url:R().url,media:s,description:R().text.substring(0,500),className:"!p-0",children:h.jsx("div",{className:"rounded-full p-2 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:h.jsx(cne,{size:36,round:!0})})}),h.jsx(gne,{url:R().url,title:R().title,className:"!p-0",children:h.jsx("div",{className:"rounded-full p-2 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:h.jsx(pne,{size:36,round:!0})})})]})]})]}),h.jsx(Mi,{value:"customize",className:"space-y-4",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs(jt,{htmlFor:"custom-message",className:"text-sm flex gap-2 items-center",children:[h.jsx(yC,{className:"h-4 w-4"}),"Messaggio personalizzato"]}),h.jsx(Lg,{id:"custom-message",placeholder:"Aggiungi un messaggio personalizzato per introdurre il tuo sogno...",value:u,onChange:P=>d(P.target.value),className:"min-h-[80px] resize-y"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Includi nel messaggio:"}),s&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"include-image",checked:p,onCheckedChange:f}),h.jsxs(jt,{htmlFor:"include-image",className:"flex items-center gap-2 cursor-pointer",children:[p?h.jsx(Gj,{className:"h-4 w-4"}):h.jsx(YB,{className:"h-4 w-4"}),h.jsx("span",{children:"Immagine del sogno"})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"include-story",checked:y,onCheckedChange:g}),h.jsxs(jt,{htmlFor:"include-story",className:"flex items-center gap-2 cursor-pointer",children:[h.jsx(yC,{className:"h-4 w-4"}),h.jsx("span",{children:"Storia generata"})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"include-hashtags",checked:b,onCheckedChange:v}),h.jsxs(jt,{htmlFor:"include-hashtags",className:"flex items-center gap-2 cursor-pointer",children:[h.jsx(KB,{className:"h-4 w-4"}),h.jsxs("span",{children:["Hashtag (",T().length,")"]})]})]})]})]})})]}),h.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Condividendo, accetti che il contenuto del tuo sogno, della storia generata e delle immagini sia visibile ad altre persone."})]})]})}var f3="Checkbox",[Fne,Che]=Br(f3),[Vne,zne]=Fne(f3),tD=N.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[p,f]=N.useState(null),y=Dt(e,T=>f(T)),g=N.useRef(!1),b=p?u||!!p.closest("form"):!0,[v=!1,w]=_s({prop:s,defaultProp:i,onChange:c}),_=N.useRef(v);return N.useEffect(()=>{const T=p==null?void 0:p.form;if(T){const C=()=>w(_.current);return T.addEventListener("reset",C),()=>T.removeEventListener("reset",C)}},[p,w]),h.jsxs(Vne,{scope:n,state:v,disabled:a,children:[h.jsx(lt.button,{type:"button",role:"checkbox","aria-checked":_c(v)?"mixed":v,"aria-required":o,"data-state":sD(v),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:y,onKeyDown:Ke(t.onKeyDown,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:Ke(t.onClick,T=>{w(C=>_c(C)?!0:!C),b&&(g.current=T.isPropagationStopped(),g.current||T.stopPropagation())})}),b&&h.jsx(Bne,{control:p,bubbles:!g.current,name:r,value:l,checked:v,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:_c(i)?!1:i})]})});tD.displayName=f3;var nD="CheckboxIndicator",rD=N.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=zne(nD,n);return h.jsx(Ii,{present:r||_c(i.state)||i.state===!0,children:h.jsx(lt.span,{"data-state":sD(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});rD.displayName=nD;var Bne=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=N.useRef(null),a=N2(n),l=p2(e);N.useEffect(()=>{const u=o.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&f){const y=new Event("click",{bubbles:r});u.indeterminate=_c(n),f.call(u,_c(n)?!1:n),u.dispatchEvent(y)}},[a,n,r]);const c=N.useRef(_c(n)?!1:n);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _c(t){return t==="indeterminate"}function sD(t){return _c(t)?"indeterminate":t?"checked":"unchecked"}var iD=tD,qne=rD;const oD=N.forwardRef(({className:t,...e},n)=>h.jsx(iD,{ref:n,className:rt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:h.jsx(qne,{className:rt("flex items-center justify-center text-current"),children:h.jsx(xf,{className:"h-4 w-4"})})}));oD.displayName=iD.displayName;const ys=N.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:rt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ys.displayName="Input";const Une="modulepreload",Wne=function(t){return"/"+t},MA={},x_=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Wne(l),l in MA)return;MA[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Une,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((p,f)=>{d.addEventListener("load",p),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function rn(t){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(t)}var es=Uint8Array,ri=Uint16Array,p3=Int32Array,ow=new es([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),aw=new es([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),b_=new es([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aD=function(t,e){for(var n=new ri(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new p3(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},lD=aD(ow,2),cD=lD.b,__=lD.r;cD[28]=258,__[258]=28;var uD=aD(aw,0),$ne=uD.b,DA=uD.r,S_=new ri(32768);for(var _n=0;_n<32768;++_n){var Il=(_n&43690)>>1|(_n&21845)<<1;Il=(Il&52428)>>2|(Il&13107)<<2,Il=(Il&61680)>>4|(Il&3855)<<4,S_[_n]=((Il&65280)>>8|(Il&255)<<8)>>1}var aa=function(t,e,n){for(var r=t.length,s=0,i=new ri(e);s<r;++s)t[s]&&++i[t[s]-1];var o=new ri(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(n){a=new ri(1<<e);var l=15-e;for(s=0;s<r;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],d=o[t[s]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)a[S_[d]>>l]=c}else for(a=new ri(r),s=0;s<r;++s)t[s]&&(a[s]=S_[o[t[s]-1]++]>>15-t[s]);return a},Rc=new es(288);for(var _n=0;_n<144;++_n)Rc[_n]=8;for(var _n=144;_n<256;++_n)Rc[_n]=9;for(var _n=256;_n<280;++_n)Rc[_n]=7;for(var _n=280;_n<288;++_n)Rc[_n]=8;var Qm=new es(32);for(var _n=0;_n<32;++_n)Qm[_n]=5;var Hne=aa(Rc,9,0),Gne=aa(Rc,9,1),Yne=aa(Qm,5,0),Kne=aa(Qm,5,1),i5=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ki=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},o5=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},m3=function(t){return(t+7)/8|0},dD=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new es(t.subarray(e,n))},Zne=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],eo=function(t,e,n){var r=new Error(e||Zne[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,eo),!n)throw r;return r},Xne=function(t,e,n,r){var s=t.length,i=0;if(!s||e.f&&!e.l)return n||new es(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new es(s*3));var c=function(be){var Ce=n.length;if(be>Ce){var Fe=new es(Math.max(Ce*2,be));Fe.set(n),n=Fe}},u=e.f||0,d=e.p||0,p=e.b||0,f=e.l,y=e.d,g=e.m,b=e.n,v=s*8;do{if(!f){u=Ki(t,d,1);var w=Ki(t,d+1,3);if(d+=3,w)if(w==1)f=Gne,y=Kne,g=9,b=5;else if(w==2){var R=Ki(t,d,31)+257,E=Ki(t,d+10,15)+4,A=R+Ki(t,d+5,31)+1;d+=14;for(var D=new es(A),H=new es(19),L=0;L<E;++L)H[b_[L]]=Ki(t,d+L*3,7);d+=E*3;for(var P=i5(H),U=(1<<P)-1,z=aa(H,P,1),L=0;L<A;){var Y=z[Ki(t,d,U)];d+=Y&15;var _=Y>>4;if(_<16)D[L++]=_;else{var O=0,$=0;for(_==16?($=3+Ki(t,d,3),d+=2,O=D[L-1]):_==17?($=3+Ki(t,d,7),d+=3):_==18&&($=11+Ki(t,d,127),d+=7);$--;)D[L++]=O}}var B=D.subarray(0,R),J=D.subarray(R);g=i5(B),b=i5(J),f=aa(B,g,1),y=aa(J,b,1)}else eo(1);else{var _=m3(d)+4,T=t[_-4]|t[_-3]<<8,C=_+T;if(C>s){l&&eo(0);break}a&&c(p+T),n.set(t.subarray(_,C),p),e.b=p+=T,e.p=d=C*8,e.f=u;continue}if(d>v){l&&eo(0);break}}a&&c(p+131072);for(var re=(1<<g)-1,X=(1<<b)-1,M=d;;M=d){var O=f[o5(t,d)&re],F=O>>4;if(d+=O&15,d>v){l&&eo(0);break}if(O||eo(2),F<256)n[p++]=F;else if(F==256){M=d,f=null;break}else{var K=F-254;if(F>264){var L=F-257,ee=ow[L];K=Ki(t,d,(1<<ee)-1)+cD[L],d+=ee}var se=y[o5(t,d)&X],oe=se>>4;se||eo(3),d+=se&15;var J=$ne[oe];if(oe>3){var ee=aw[oe];J+=o5(t,d)&(1<<ee)-1,d+=ee}if(d>v){l&&eo(0);break}a&&c(p+131072);var ae=p+K;if(p<J){var pe=i-J,_e=Math.min(J,ae);for(pe+p<0&&eo(3);p<_e;++p)n[p]=r[pe+p]}for(;p<ae;++p)n[p]=n[p-J]}}e.l=f,e.p=M,e.b=p,e.f=u,f&&(u=1,e.m=g,e.d=y,e.n=b)}while(!u);return p!=n.length&&o?dD(n,0,p):n.subarray(0,p)},Ia=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Up=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},a5=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:fD,l:0};if(s==1){var o=new es(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(C,R){return C.f-R.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=s-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=i[0].s,r=1;r<s;++r)i[r].s>p&&(p=i[r].s);var f=new ri(p+1),y=N_(n[u-1],f,0);if(y>e){var r=0,g=0,b=y-e,v=1<<b;for(i.sort(function(R,E){return f[E.s]-f[R.s]||R.f-E.f});r<s;++r){var w=i[r].s;if(f[w]>e)g+=v-(1<<y-f[w]),f[w]=e;else break}for(g>>=b;g>0;){var _=i[r].s;f[_]<e?g-=1<<e-f[_]++-1:++r}for(;r>=0&&g;--r){var T=i[r].s;f[T]==e&&(--f[T],++g)}y=e}return{t:new es(f),l:y}},N_=function(t,e,n){return t.s==-1?Math.max(N_(t.l,e,n+1),N_(t.r,e,n+1)):e[t.s]=n},OA=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ri(++e),r=0,s=t[0],i=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:n.subarray(0,r),n:e}},Wp=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},hD=function(t,e,n){var r=n.length,s=m3(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},IA=function(t,e,n,r,s,i,o,a,l,c,u){Ia(e,u++,n),++s[256];for(var d=a5(s,15),p=d.t,f=d.l,y=a5(i,15),g=y.t,b=y.l,v=OA(p),w=v.c,_=v.n,T=OA(g),C=T.c,R=T.n,E=new ri(19),A=0;A<w.length;++A)++E[w[A]&31];for(var A=0;A<C.length;++A)++E[C[A]&31];for(var D=a5(E,7),H=D.t,L=D.l,P=19;P>4&&!H[b_[P-1]];--P);var U=c+5<<3,z=Wp(s,Rc)+Wp(i,Qm)+o,Y=Wp(s,p)+Wp(i,g)+o+14+3*P+Wp(E,H)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&U<=z&&U<=Y)return hD(e,u,t.subarray(l,l+c));var O,$,B,J;if(Ia(e,u,1+(Y<z)),u+=2,Y<z){O=aa(p,f,0),$=p,B=aa(g,b,0),J=g;var re=aa(H,L,0);Ia(e,u,_-257),Ia(e,u+5,R-1),Ia(e,u+10,P-4),u+=14;for(var A=0;A<P;++A)Ia(e,u+3*A,H[b_[A]]);u+=3*P;for(var X=[w,C],M=0;M<2;++M)for(var F=X[M],A=0;A<F.length;++A){var K=F[A]&31;Ia(e,u,re[K]),u+=H[K],K>15&&(Ia(e,u,F[A]>>5&127),u+=F[A]>>12)}}else O=Hne,$=Rc,B=Yne,J=Qm;for(var A=0;A<a;++A){var ee=r[A];if(ee>255){var K=ee>>18&31;Up(e,u,O[K+257]),u+=$[K+257],K>7&&(Ia(e,u,ee>>23&31),u+=ow[K]);var se=ee&31;Up(e,u,B[se]),u+=J[se],se>3&&(Up(e,u,ee>>5&8191),u+=aw[se])}else Up(e,u,O[ee]),u+=$[ee]}return Up(e,u,O[256]),u+$[256]},Qne=new p3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fD=new es(0),Jne=function(t,e,n,r,s,i){var o=i.z||t.length,a=new es(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var d=Qne[e-1],p=d>>13,f=d&8191,y=(1<<n)-1,g=i.p||new ri(32768),b=i.h||new ri(y+1),v=Math.ceil(n/3),w=2*v,_=function(et){return(t[et]^t[et+1]<<v^t[et+2]<<w)&y},T=new p3(25e3),C=new ri(288),R=new ri(32),E=0,A=0,D=i.i||0,H=0,L=i.w||0,P=0;D+2<o;++D){var U=_(D),z=D&32767,Y=b[U];if(g[z]=Y,b[U]=z,L<=D){var O=o-D;if((E>7e3||H>24576)&&(O>423||!c)){u=IA(t,l,0,T,C,R,A,H,P,D-P,u),H=E=A=0,P=D;for(var $=0;$<286;++$)C[$]=0;for(var $=0;$<30;++$)R[$]=0}var B=2,J=0,re=f,X=z-Y&32767;if(O>2&&U==_(D-X))for(var M=Math.min(p,O)-1,F=Math.min(32767,D),K=Math.min(258,O);X<=F&&--re&&z!=Y;){if(t[D+B]==t[D+B-X]){for(var ee=0;ee<K&&t[D+ee]==t[D+ee-X];++ee);if(ee>B){if(B=ee,J=X,ee>M)break;for(var se=Math.min(X,ee-2),oe=0,$=0;$<se;++$){var ae=D-X+$&32767,pe=g[ae],_e=ae-pe&32767;_e>oe&&(oe=_e,Y=ae)}}}z=Y,Y=g[z],X+=z-Y&32767}if(J){T[H++]=268435456|__[B]<<18|DA[J];var be=__[B]&31,Ce=DA[J]&31;A+=ow[be]+aw[Ce],++C[257+be],++R[Ce],L=D+B,++E}else T[H++]=t[D],++C[t[D]]}}for(D=Math.max(D,L);D<o;++D)T[H++]=t[D],++C[t[D]];u=IA(t,l,c,T,C,R,A,H,P,D-P,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=b,i.p=g,i.i=D,i.w=L)}else{for(var D=i.w||0;D<o+c;D+=65535){var Fe=D+65535;Fe>=o&&(l[u/8|0]=c,Fe=o),u=hD(l,u+1,t.subarray(D,Fe))}i.i=o}return dD(a,0,r+m3(u)+s)},pD=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,i=n.length|0,o=0;o!=i;){for(var a=Math.min(o+2655,i);o<a;++o)s+=r+=n[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},ere=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new es(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return Jne(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},mD=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},tre=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=pD();s.p(e.dictionary),mD(t,2,s.d())}},nre=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&eo(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&eo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function k_(t,e){e||(e={});var n=pD();n.p(t);var r=ere(t,e,e.dictionary?6:2,4);return tre(r,e),mD(r,r.length-4,n.d()),r}function rre(t,e){return Xne(t.subarray(nre(t,e),-4),{i:2},e,e)}var sre=typeof TextDecoder<"u"&&new TextDecoder,ire=0;try{sre.decode(fD,{stream:!0}),ire=1}catch{}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function l5(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var fn={log:l5,warn:function(t){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):l5.call(null,arguments))},error:function(t){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):l5(t))}};function c5(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){yu(r.response,e,n)},r.onerror=function(){fn.error("could not download file")},r.send()}function FA(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function L1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var mm,C_,yu=wt.saveAs||((typeof window>"u"?"undefined":rn(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=wt.URL||wt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?FA(s.href)?c5(t,e,n):L1(s,s.target="_blank"):L1(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){L1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(FA(t))c5(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){L1(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:rn(i)!=="object"&&(fn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return c5(t,e,n);var s=t.type==="application/octet-stream",i=/constructor/i.test(wt.HTMLElement)||wt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":rn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=wt.URL||wt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function gD(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,o=s.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function u5(t,e){var n=t[0],r=t[1],s=t[2],i=t[3];n=Gr(n,r,s,i,e[0],7,-680876936),i=Gr(i,n,r,s,e[1],12,-389564586),s=Gr(s,i,n,r,e[2],17,606105819),r=Gr(r,s,i,n,e[3],22,-1044525330),n=Gr(n,r,s,i,e[4],7,-176418897),i=Gr(i,n,r,s,e[5],12,1200080426),s=Gr(s,i,n,r,e[6],17,-1473231341),r=Gr(r,s,i,n,e[7],22,-45705983),n=Gr(n,r,s,i,e[8],7,1770035416),i=Gr(i,n,r,s,e[9],12,-1958414417),s=Gr(s,i,n,r,e[10],17,-42063),r=Gr(r,s,i,n,e[11],22,-1990404162),n=Gr(n,r,s,i,e[12],7,1804603682),i=Gr(i,n,r,s,e[13],12,-40341101),s=Gr(s,i,n,r,e[14],17,-1502002290),n=Yr(n,r=Gr(r,s,i,n,e[15],22,1236535329),s,i,e[1],5,-165796510),i=Yr(i,n,r,s,e[6],9,-1069501632),s=Yr(s,i,n,r,e[11],14,643717713),r=Yr(r,s,i,n,e[0],20,-373897302),n=Yr(n,r,s,i,e[5],5,-701558691),i=Yr(i,n,r,s,e[10],9,38016083),s=Yr(s,i,n,r,e[15],14,-660478335),r=Yr(r,s,i,n,e[4],20,-405537848),n=Yr(n,r,s,i,e[9],5,568446438),i=Yr(i,n,r,s,e[14],9,-1019803690),s=Yr(s,i,n,r,e[3],14,-187363961),r=Yr(r,s,i,n,e[8],20,1163531501),n=Yr(n,r,s,i,e[13],5,-1444681467),i=Yr(i,n,r,s,e[2],9,-51403784),s=Yr(s,i,n,r,e[7],14,1735328473),n=Kr(n,r=Yr(r,s,i,n,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Kr(i,n,r,s,e[8],11,-2022574463),s=Kr(s,i,n,r,e[11],16,1839030562),r=Kr(r,s,i,n,e[14],23,-35309556),n=Kr(n,r,s,i,e[1],4,-1530992060),i=Kr(i,n,r,s,e[4],11,1272893353),s=Kr(s,i,n,r,e[7],16,-155497632),r=Kr(r,s,i,n,e[10],23,-1094730640),n=Kr(n,r,s,i,e[13],4,681279174),i=Kr(i,n,r,s,e[0],11,-358537222),s=Kr(s,i,n,r,e[3],16,-722521979),r=Kr(r,s,i,n,e[6],23,76029189),n=Kr(n,r,s,i,e[9],4,-640364487),i=Kr(i,n,r,s,e[12],11,-421815835),s=Kr(s,i,n,r,e[15],16,530742520),n=Zr(n,r=Kr(r,s,i,n,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Zr(i,n,r,s,e[7],10,1126891415),s=Zr(s,i,n,r,e[14],15,-1416354905),r=Zr(r,s,i,n,e[5],21,-57434055),n=Zr(n,r,s,i,e[12],6,1700485571),i=Zr(i,n,r,s,e[3],10,-1894986606),s=Zr(s,i,n,r,e[10],15,-1051523),r=Zr(r,s,i,n,e[1],21,-2054922799),n=Zr(n,r,s,i,e[8],6,1873313359),i=Zr(i,n,r,s,e[15],10,-30611744),s=Zr(s,i,n,r,e[6],15,-1560198380),r=Zr(r,s,i,n,e[13],21,1309151649),n=Zr(n,r,s,i,e[4],6,-145523070),i=Zr(i,n,r,s,e[11],10,-1120210379),s=Zr(s,i,n,r,e[2],15,718787259),r=Zr(r,s,i,n,e[9],21,-343485551),t[0]=uc(n,t[0]),t[1]=uc(r,t[1]),t[2]=uc(s,t[2]),t[3]=uc(i,t[3])}function lw(t,e,n,r,s,i){return e=uc(uc(e,t),uc(r,i)),uc(e<<s|e>>>32-s,n)}function Gr(t,e,n,r,s,i,o){return lw(e&n|~e&r,t,e,s,i,o)}function Yr(t,e,n,r,s,i,o){return lw(e&r|n&~r,t,e,s,i,o)}function Kr(t,e,n,r,s,i,o){return lw(e^n^r,t,e,s,i,o)}function Zr(t,e,n,r,s,i,o){return lw(n^(e|~r),t,e,s,i,o)}function vD(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)u5(r,ore(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(u5(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,u5(r,s),r}function ore(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}mm=wt.atob.bind(wt),C_=wt.btoa.bind(wt);var VA="0123456789abcdef".split("");function are(t){for(var e="",n=0;n<4;n++)e+=VA[t>>8*n+4&15]+VA[t>>8*n&15];return e}function lre(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function A_(t){return vD(t).map(lre).join("")}var cre=function(t){for(var e=0;e<t.length;e++)t[e]=are(t[e]);return t.join("")}(vD("hello"))!="5d41402abc4b2a76b9719d911017c592";function uc(t,e){if(cre){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function T_(t,e){var n,r,s,i;if(t!==n){for(var o=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var d=e.length,p=0,f=0,y="";for(l=0;l<d;l++)f=(f+(u=a[p=(p+1)%256]))%256,a[p]=a[f],a[f]=u,o=a[(a[p]+a[f])%256],y+=String.fromCharCode(e.charCodeAt(l)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var zA={print:4,modify:8,copy:16,"annot-forms":32};function lh(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(a){if(zA.perm!==void 0)throw new Error("Invalid permission: "+a);s+=zA[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=A_(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=T_(this.encryptionKey,this.padding)}function ch(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[r]}return e}function BA(t){if(rn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[n]){var o=e[n][i];try{o[0].apply(t,r)}catch(a){wt.console&&fn.error("jsPDF PubSub Error",a.message,a)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function vy(t){if(!(this instanceof vy))return new vy(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function yD(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function bu(t,e,n,r,s){if(!(this instanceof bu))return new bu(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,yD.call(this,r,s)}function kh(t,e,n,r,s){if(!(this instanceof kh))return new kh(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,yD.call(this,r,s)}function yt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,l=16,c="S",u=null;rn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=BA;var y="1.3",g=f.__private__.getPdfVersion=function(){return y};f.__private__.setPdfVersion=function(S){y=S};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return b};var v=f.__private__.getPageFormat=function(S){return b[S]};s=s||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},_=w.COMPAT;function T(){this.saveGraphicsState(),Q(new gt(De,0,0,-De,0,xl()*De).toString()+" cm"),this.setFontSize(this.getFontSize()/De),c="n",_=w.ADVANCED}function C(){this.restoreGraphicsState(),c="S",_=w.COMPAT}var R=f.__private__.combineFontStyleAndFontWeight=function(S,V){if(S=="bold"&&V=="normal"||S=="bold"&&V==400||S=="normal"&&V=="italic"||S=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(S=V==400||V==="normal"?S==="italic"?"italic":"normal":V!=700&&V!=="bold"||S!=="normal"?(V==700?"bold":V)+""+S:"bold"),S};f.advancedAPI=function(S){var V=_===w.COMPAT;return V&&T.call(this),typeof S!="function"||(S(this),V&&C.call(this)),this},f.compatAPI=function(S){var V=_===w.ADVANCED;return V&&C.call(this),typeof S!="function"||(S(this),V&&T.call(this)),this},f.isAdvancedAPI=function(){return _===w.ADVANCED};var E,A=function(S){if(_!==w.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=f.roundToPrecision=f.__private__.roundToPrecision=function(S,V){var ie=e||V;if(isNaN(S)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ie).replace(/0+$/,"")};E=f.hpf=f.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return D(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return D(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return D(S,16)};var H=f.f2=f.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return D(S,2)},L=f.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return D(S,3)},P=f.scale=f.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return _===w.COMPAT?S*De:_===w.ADVANCED?S:void 0},U=function(S){return _===w.COMPAT?xl()-S:_===w.ADVANCED?S:void 0},z=function(S){return P(U(S))};f.__private__.setPrecision=f.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var Y,O="00000000000000000000000000000000",$=f.__private__.getFileId=function(){return O},B=f.__private__.setFileId=function(S){return O=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():O.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Ur=new lh(u.userPermissions,u.userPassword,u.ownerPassword,O)),O};f.setFileId=function(S){return B(S),this},f.getFileId=function(){return $()};var J=f.__private__.convertDateToPDFDate=function(S){var V=S.getTimezoneOffset(),ie=V<0?"+":"-",ce=Math.floor(Math.abs(V/60)),ye=Math.abs(V%60),ke=[ie,K(ce),"'",K(ye),"'"].join("");return["D:",S.getFullYear(),K(S.getMonth()+1),K(S.getDate()),K(S.getHours()),K(S.getMinutes()),K(S.getSeconds()),ke].join("")},re=f.__private__.convertPDFDateToDate=function(S){var V=parseInt(S.substr(2,4),10),ie=parseInt(S.substr(6,2),10)-1,ce=parseInt(S.substr(8,2),10),ye=parseInt(S.substr(10,2),10),ke=parseInt(S.substr(12,2),10),Oe=parseInt(S.substr(14,2),10);return new Date(V,ie,ce,ye,ke,Oe,0)},X=f.__private__.setCreationDate=function(S){var V;if(S===void 0&&(S=new Date),S instanceof Date)V=J(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=S}return Y=V},M=f.__private__.getCreationDate=function(S){var V=Y;return S==="jsDate"&&(V=re(Y)),V};f.setCreationDate=function(S){return X(S),this},f.getCreationDate=function(S){return M(S)};var F,K=f.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},ee=f.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},se=0,oe=[],ae=[],pe=0,_e=[],be=[],Ce=!1,Fe=ae,et=function(){se=0,pe=0,ae=[],oe=[],_e=[],ka=or(),zi=or()};f.__private__.setCustomOutputDestination=function(S){Ce=!0,Fe=S};var de=function(S){Ce||(Fe=S)};f.__private__.resetCustomOutputDestination=function(){Ce=!1,Fe=ae};var Q=f.__private__.out=function(S){return S=S.toString(),pe+=S.length+1,Fe.push(S),Fe},Ge=f.__private__.write=function(S){return Q(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},qe=f.__private__.getArrayBuffer=function(S){for(var V=S.length,ie=new ArrayBuffer(V),ce=new Uint8Array(ie);V--;)ce[V]=S.charCodeAt(V);return ie},Se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Se};var Re=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(S){return Re=_===w.ADVANCED?S/De:S,this};var Be,te=f.__private__.getFontSize=f.getFontSize=function(){return _===w.COMPAT?Re:Re*De},le=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(S){return le=S,this},f.__private__.getR2L=f.getR2L=function(){return le};var ve,Pe=f.__private__.setZoomMode=function(S){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))Be=S;else if(isNaN(S)){if(V.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');Be=S}else Be=parseInt(S,10)};f.__private__.getZoomMode=function(){return Be};var Te,Ae=f.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');ve=S};f.__private__.getPageMode=function(){return ve};var Ie=f.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Te=S};f.__private__.getLayoutMode=function(){return Te},f.__private__.setDisplayMode=f.setDisplayMode=function(S,V,ie){return Pe(S),Ie(V),Ae(ie),this};var Ue={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(S){if(Object.keys(Ue).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ue[S]},f.__private__.getDocumentProperties=function(){return Ue},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(S){for(var V in Ue)Ue.hasOwnProperty(V)&&S[V]&&(Ue[V]=S[V]);return this},f.__private__.setDocumentProperty=function(S,V){if(Object.keys(Ue).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ue[S]=V};var st,De,mn,Mt,as,Qt={},dn={},hi=[],qt={},eu={},On={},Fi={},Na=null,In=0,St=[],Kt=new BA(f),tu=t.hotfixes||[],Lr={},Lo={},Ro=[],gt=function S(V,ie,ce,ye,ke,Oe){if(!(this instanceof S))return new S(V,ie,ce,ye,ke,Oe);isNaN(V)&&(V=1),isNaN(ie)&&(ie=0),isNaN(ce)&&(ce=0),isNaN(ye)&&(ye=1),isNaN(ke)&&(ke=0),isNaN(Oe)&&(Oe=0),this._matrix=[V,ie,ce,ye,ke,Oe]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(S)},gt.prototype.multiply=function(S){var V=S.sx*this.sx+S.shy*this.shx,ie=S.sx*this.shy+S.shy*this.sy,ce=S.shx*this.sx+S.sy*this.shx,ye=S.shx*this.shy+S.sy*this.sy,ke=S.tx*this.sx+S.ty*this.shx+this.tx,Oe=S.tx*this.shy+S.ty*this.sy+this.ty;return new gt(V,ie,ce,ye,ke,Oe)},gt.prototype.decompose=function(){var S=this.sx,V=this.shy,ie=this.shx,ce=this.sy,ye=this.tx,ke=this.ty,Oe=Math.sqrt(S*S+V*V),Ze=(S/=Oe)*ie+(V/=Oe)*ce;ie-=S*Ze,ce-=V*Ze;var ut=Math.sqrt(ie*ie+ce*ce);return Ze/=ut,S*(ce/=ut)<V*(ie/=ut)&&(S=-S,V=-V,Ze=-Ze,Oe=-Oe),{scale:new gt(Oe,0,0,ut,0,0),translate:new gt(1,0,0,1,ye,ke),rotate:new gt(S,V,-V,S,0,0),skew:new gt(1,0,Ze,1,0,0)}},gt.prototype.toString=function(S){return this.join(" ")},gt.prototype.inversed=function(){var S=this.sx,V=this.shy,ie=this.shx,ce=this.sy,ye=this.tx,ke=this.ty,Oe=1/(S*ce-V*ie),Ze=ce*Oe,ut=-V*Oe,Ct=-ie*Oe,Nt=S*Oe;return new gt(Ze,ut,Ct,Nt,-Ze*ye-Ct*ke,-ut*ye-Nt*ke)},gt.prototype.applyToPoint=function(S){var V=S.x*this.sx+S.y*this.shx+this.tx,ie=S.x*this.shy+S.y*this.sy+this.ty;return new Od(V,ie)},gt.prototype.applyToRectangle=function(S){var V=this.applyToPoint(S),ie=this.applyToPoint(new Od(S.x+S.w,S.y+S.h));return new dp(V.x,V.y,ie.x-V.x,ie.y-V.y)},gt.prototype.clone=function(){var S=this.sx,V=this.shy,ie=this.shx,ce=this.sy,ye=this.tx,ke=this.ty;return new gt(S,V,ie,ce,ye,ke)},f.Matrix=gt;var Vi=f.matrixMult=function(S,V){return V.multiply(S)},Mo=new gt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Mo;var Ts=function(S,V){if(!eu[S]){var ie=(V instanceof bu?"Sh":"P")+(Object.keys(qt).length+1).toString(10);V.id=ie,eu[S]=ie,qt[ie]=V,Kt.publish("addPattern",V)}};f.ShadingPattern=bu,f.TilingPattern=kh,f.addShadingPattern=function(S,V){return A("addShadingPattern()"),Ts(S,V),this},f.beginTilingPattern=function(S){A("beginTilingPattern()"),A0(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},f.endTilingPattern=function(S,V){A("endTilingPattern()"),V.stream=be[F].join(`
`),Ts(S,V),Kt.publish("endTilingPattern",V),Ro.pop().restore()};var pr=f.__private__.newObject=function(){var S=or();return $s(S,!0),S},or=f.__private__.newObjectDeferred=function(){return se++,oe[se]=function(){return pe},se},$s=function(S,V){return V=typeof V=="boolean"&&V,oe[S]=pe,V&&Q(S+" 0 obj"),S},Sd=f.__private__.newAdditionalObject=function(){var S={objId:or(),content:""};return _e.push(S),S},ka=or(),zi=or(),Bi=f.__private__.decodeColorString=function(S){var V=S.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ie=parseFloat(V[0]);V=[ie,ie,ie,"r"]}for(var ce="#",ye=0;ye<3;ye++)ce+=("0"+Math.floor(255*parseFloat(V[ye])).toString(16)).slice(-2);return ce},qi=f.__private__.encodeColorString=function(S){var V;typeof S=="string"&&(S={ch1:S});var ie=S.ch1,ce=S.ch2,ye=S.ch3,ke=S.ch4,Oe=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var Ze=new gD(ie);if(Ze.ok)ie=Ze.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var ut=parseInt(ie.substr(1),16);ie=ut>>16&255,ce=ut>>8&255,ye=255&ut}if(ce===void 0||ke===void 0&&ie===ce&&ce===ye)if(typeof ie=="string")V=ie+" "+Oe[0];else switch(S.precision){case 2:V=H(ie/255)+" "+Oe[0];break;case 3:default:V=L(ie/255)+" "+Oe[0]}else if(ke===void 0||rn(ke)==="object"){if(ke&&!isNaN(ke.a)&&ke.a===0)return V=["1.","1.","1.",Oe[1]].join(" ");if(typeof ie=="string")V=[ie,ce,ye,Oe[1]].join(" ");else switch(S.precision){case 2:V=[H(ie/255),H(ce/255),H(ye/255),Oe[1]].join(" ");break;default:case 3:V=[L(ie/255),L(ce/255),L(ye/255),Oe[1]].join(" ")}}else if(typeof ie=="string")V=[ie,ce,ye,ke,Oe[2]].join(" ");else switch(S.precision){case 2:V=[H(ie),H(ce),H(ye),H(ke),Oe[2]].join(" ");break;case 3:default:V=[L(ie),L(ce),L(ye),L(ke),Oe[2]].join(" ")}return V},Do=f.__private__.getFilters=function(){return o},fi=f.__private__.putStream=function(S){var V=(S=S||{}).data||"",ie=S.filters||Do(),ce=S.alreadyAppliedFilters||[],ye=S.addLength1||!1,ke=V.length,Oe=S.objectId,Ze=function(Wr){return Wr};if(u!==null&&Oe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ze=Ur.encryptor(Oe,0));var ut={};ie===!0&&(ie=["FlateEncode"]);var Ct=S.additionalKeyValues||[],Nt=(ut=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(V,ie):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(ut.data.length!==0&&(Ct.push({key:"Length",value:ut.data.length}),ye===!0&&Ct.push({key:"Length1",value:ke})),Nt.length!=0)if(Nt.split("/").length-1==1)Ct.push({key:"Filter",value:Nt});else{Ct.push({key:"Filter",value:"["+Nt+"]"});for(var Vt=0;Vt<Ct.length;Vt+=1)if(Ct[Vt].key==="DecodeParms"){for(var Pn=[],Fn=0;Fn<ut.reverseChain.split("/").length-1;Fn+=1)Pn.push("null");Pn.push(Ct[Vt].value),Ct[Vt].value="["+Pn.join(" ")+"]"}}Q("<<");for(var ar=0;ar<Ct.length;ar++)Q("/"+Ct[ar].key+" "+Ct[ar].value);Q(">>"),ut.data.length!==0&&(Q("stream"),Q(Ze(ut.data)),Q("endstream"))},Oo=f.__private__.putPage=function(S){var V=S.number,ie=S.data,ce=S.objId,ye=S.contentsObjId;$s(ce,!0),Q("<</Type /Page"),Q("/Parent "+S.rootDictionaryObjId+" 0 R"),Q("/Resources "+S.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(E(S.mediaBox.bottomLeftX))+" "+parseFloat(E(S.mediaBox.bottomLeftY))+" "+E(S.mediaBox.topRightX)+" "+E(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&Q("/CropBox ["+E(S.cropBox.bottomLeftX)+" "+E(S.cropBox.bottomLeftY)+" "+E(S.cropBox.topRightX)+" "+E(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&Q("/BleedBox ["+E(S.bleedBox.bottomLeftX)+" "+E(S.bleedBox.bottomLeftY)+" "+E(S.bleedBox.topRightX)+" "+E(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&Q("/TrimBox ["+E(S.trimBox.bottomLeftX)+" "+E(S.trimBox.bottomLeftY)+" "+E(S.trimBox.topRightX)+" "+E(S.trimBox.topRightY)+"]"),S.artBox!==null&&Q("/ArtBox ["+E(S.artBox.bottomLeftX)+" "+E(S.artBox.bottomLeftY)+" "+E(S.artBox.topRightX)+" "+E(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&Q("/UserUnit "+S.userUnit),Kt.publish("putPage",{objId:ce,pageContext:St[V],pageNumber:V,page:ie}),Q("/Contents "+ye+" 0 R"),Q(">>"),Q("endobj");var ke=ie.join(`
`);return _===w.ADVANCED&&(ke+=`
Q`),$s(ye,!0),fi({data:ke,filters:Do(),objectId:ye}),Q("endobj"),ce},nu=f.__private__.putPages=function(){var S,V,ie=[];for(S=1;S<=In;S++)St[S].objId=or(),St[S].contentsObjId=or();for(S=1;S<=In;S++)ie.push(Oo({number:S,data:be[S],objId:St[S].objId,contentsObjId:St[S].contentsObjId,mediaBox:St[S].mediaBox,cropBox:St[S].cropBox,bleedBox:St[S].bleedBox,trimBox:St[S].trimBox,artBox:St[S].artBox,userUnit:St[S].userUnit,rootDictionaryObjId:ka,resourceDictionaryObjId:zi}));$s(ka,!0),Q("<</Type /Pages");var ce="/Kids [";for(V=0;V<In;V++)ce+=ie[V]+" 0 R ";Q(ce+"]"),Q("/Count "+In),Q(">>"),Q("endobj"),Kt.publish("postPutPages")},Nd=function(S){Kt.publish("putFont",{font:S,out:Q,newObject:pr,putStream:fi}),S.isAlreadyPutted!==!0&&(S.objectNumber=pr(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+ch(S.postScriptName)),Q("/Subtype /Type1"),typeof S.encoding=="string"&&Q("/Encoding /"+S.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},kd=function(){for(var S in Qt)Qt.hasOwnProperty(S)&&(d===!1||d===!0&&p.hasOwnProperty(S))&&Nd(Qt[S])},Cd=function(S){S.objectNumber=pr();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[E(S.x),E(S.y),E(S.x+S.width),E(S.y+S.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ie=S.pages[1].join(`
`);fi({data:ie,additionalKeyValues:V,objectId:S.objectNumber}),Q("endobj")},Ad=function(){for(var S in Lr)Lr.hasOwnProperty(S)&&Cd(Lr[S])},c0=function(S,V){var ie,ce=[],ye=1/(V-1);for(ie=0;ie<1;ie+=ye)ce.push(ie);if(ce.push(1),S[0].offset!=0){var ke={offset:0,color:S[0].color};S.unshift(ke)}if(S[S.length-1].offset!=1){var Oe={offset:1,color:S[S.length-1].color};S.push(Oe)}for(var Ze="",ut=0,Ct=0;Ct<ce.length;Ct++){for(ie=ce[Ct];ie>S[ut+1].offset;)ut++;var Nt=S[ut].offset,Vt=(ie-Nt)/(S[ut+1].offset-Nt),Pn=S[ut].color,Fn=S[ut+1].color;Ze+=ee(Math.round((1-Vt)*Pn[0]+Vt*Fn[0]).toString(16))+ee(Math.round((1-Vt)*Pn[1]+Vt*Fn[1]).toString(16))+ee(Math.round((1-Vt)*Pn[2]+Vt*Fn[2]).toString(16))}return Ze.trim()},Sw=function(S,V){V||(V=21);var ie=pr(),ce=c0(S.colors,V),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+V+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fi({data:ce,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),Q("endobj"),S.objectNumber=pr(),Q("<< /ShadingType "+S.type),Q("/ColorSpace /DeviceRGB");var ke="/Coords ["+E(parseFloat(S.coords[0]))+" "+E(parseFloat(S.coords[1]))+" ";S.type===2?ke+=E(parseFloat(S.coords[2]))+" "+E(parseFloat(S.coords[3])):ke+=E(parseFloat(S.coords[2]))+" "+E(parseFloat(S.coords[3]))+" "+E(parseFloat(S.coords[4]))+" "+E(parseFloat(S.coords[5])),Q(ke+="]"),S.matrix&&Q("/Matrix ["+S.matrix.toString()+"]"),Q("/Function "+ie+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},Nw=function(S,V){var ie=or(),ce=pr();V.push({resourcesOid:ie,objectOid:ce}),S.objectNumber=ce;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+S.boundingBox.map(E).join(" ")+"]"}),ye.push({key:"XStep",value:E(S.xStep)}),ye.push({key:"YStep",value:E(S.yStep)}),ye.push({key:"Resources",value:ie+" 0 R"}),S.matrix&&ye.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),fi({data:S.stream,additionalKeyValues:ye,objectId:S.objectNumber}),Q("endobj")},Td=function(S){var V;for(V in qt)qt.hasOwnProperty(V)&&(qt[V]instanceof bu?Sw(qt[V]):qt[V]instanceof kh&&Nw(qt[V],S))},u0=function(S){for(var V in S.objectNumber=pr(),Q("<<"),S)switch(V){case"opacity":Q("/ca "+H(S[V]));break;case"stroke-opacity":Q("/CA "+H(S[V]))}Q(">>"),Q("endobj")},kw=function(){var S;for(S in On)On.hasOwnProperty(S)&&u0(On[S])},tp=function(){for(var S in Q("/XObject <<"),Lr)Lr.hasOwnProperty(S)&&Lr[S].objectNumber>=0&&Q("/"+S+" "+Lr[S].objectNumber+" 0 R");Kt.publish("putXobjectDict"),Q(">>")},Cw=function(){Ur.oid=pr(),Q("<<"),Q("/Filter /Standard"),Q("/V "+Ur.v),Q("/R "+Ur.r),Q("/U <"+Ur.toHexString(Ur.U)+">"),Q("/O <"+Ur.toHexString(Ur.O)+">"),Q("/P "+Ur.P),Q(">>"),Q("endobj")},d0=function(){for(var S in Q("/Font <<"),Qt)Qt.hasOwnProperty(S)&&(d===!1||d===!0&&p.hasOwnProperty(S))&&Q("/"+S+" "+Qt[S].objectNumber+" 0 R");Q(">>")},Aw=function(){if(Object.keys(qt).length>0){for(var S in Q("/Shading <<"),qt)qt.hasOwnProperty(S)&&qt[S]instanceof bu&&qt[S].objectNumber>=0&&Q("/"+S+" "+qt[S].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),Q(">>")}},Pd=function(S){if(Object.keys(qt).length>0){for(var V in Q("/Pattern <<"),qt)qt.hasOwnProperty(V)&&qt[V]instanceof f.TilingPattern&&qt[V].objectNumber>=0&&qt[V].objectNumber<S&&Q("/"+V+" "+qt[V].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),Q(">>")}},Tw=function(){if(Object.keys(On).length>0){var S;for(S in Q("/ExtGState <<"),On)On.hasOwnProperty(S)&&On[S].objectNumber>=0&&Q("/"+S+" "+On[S].objectNumber+" 0 R");Kt.publish("putGStateDict"),Q(">>")}},Yn=function(S){$s(S.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),d0(),Aw(),Pd(S.objectOid),Tw(),tp(),Q(">>"),Q("endobj")},h0=function(){var S=[];kd(),kw(),Ad(),Td(S),Kt.publish("putResources"),S.forEach(Yn),Yn({resourcesOid:zi,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources")},f0=function(){Kt.publish("putAdditionalObjects");for(var S=0;S<_e.length;S++){var V=_e[S];$s(V.objId,!0),Q(V.content),Q("endobj")}Kt.publish("postPutAdditionalObjects")},p0=function(S){dn[S.fontName]=dn[S.fontName]||{},dn[S.fontName][S.fontStyle]=S.id},np=function(S,V,ie,ce,ye){var ke={id:"F"+(Object.keys(Qt).length+1).toString(10),postScriptName:S,fontName:V,fontStyle:ie,encoding:ce,isStandardFont:ye||!1,metadata:{}};return Kt.publish("addFont",{font:ke,instance:this}),Qt[ke.id]=ke,p0(ke),ke.id},Pw=function(S){for(var V=0,ie=Se.length;V<ie;V++){var ce=np.call(this,S[V][0],S[V][1],S[V][2],Se[V][3],!0);d===!1&&(p[ce]=!0);var ye=S[V][0].split("-");p0({id:ce,fontName:ye[0],fontStyle:ye[1]||""})}Kt.publish("addFonts",{fonts:Qt,dictionary:dn})},Ui=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(ce){var V=ce.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var ie="Error in function "+V.split(`
`)[0].split("<")[0]+": "+ce.message;if(!wt.console)throw new Error(ie);wt.console.error(ie,ce),wt.alert&&alert(ie)}},S.foo.bar=S,S.foo},Ed=function(S,V){var ie,ce,ye,ke,Oe,Ze,ut,Ct,Nt;if(ye=(V=V||{}).sourceEncoding||"Unicode",Oe=V.outputEncoding,(V.autoencode||Oe)&&Qt[st].metadata&&Qt[st].metadata[ye]&&Qt[st].metadata[ye].encoding&&(ke=Qt[st].metadata[ye].encoding,!Oe&&Qt[st].encoding&&(Oe=Qt[st].encoding),!Oe&&ke.codePages&&(Oe=ke.codePages[0]),typeof Oe=="string"&&(Oe=ke[Oe]),Oe)){for(ut=!1,Ze=[],ie=0,ce=S.length;ie<ce;ie++)(Ct=Oe[S.charCodeAt(ie)])?Ze.push(String.fromCharCode(Ct)):Ze.push(S[ie]),Ze[ie].charCodeAt(0)>>8&&(ut=!0);S=Ze.join("")}for(ie=S.length;ut===void 0&&ie!==0;)S.charCodeAt(ie-1)>>8&&(ut=!0),ie--;if(!ut)return S;for(Ze=V.noBOM?[]:[254,255],ie=0,ce=S.length;ie<ce;ie++){if((Nt=(Ct=S.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ze.push(Nt),Ze.push(Ct-(Nt<<8))}return String.fromCharCode.apply(void 0,Ze)},Ps=f.__private__.pdfEscape=f.pdfEscape=function(S,V){return Ed(S,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rp=f.__private__.beginPage=function(S){be[++In]=[],St[In]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},g0(In),de(be[F])},m0=function(S,V){var ie,ce,ye;switch(n=V||n,typeof S=="string"&&(ie=v(S.toLowerCase()),Array.isArray(ie)&&(ce=ie[0],ye=ie[1])),Array.isArray(S)&&(ce=S[0]*De,ye=S[1]*De),isNaN(ce)&&(ce=s[0],ye=s[1]),(ce>14400||ye>14400)&&(fn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ye=Math.min(14400,ye)),s=[ce,ye],n.substr(0,1)){case"l":ye>ce&&(s=[ye,ce]);break;case"p":ce>ye&&(s=[ye,ce])}rp(s),_0(ap),Q(Wi),cp!==0&&Q(cp+" J"),up!==0&&Q(up+" j"),Kt.publish("addPage",{pageNumber:In})},Ew=function(S){S>0&&S<=In&&(be.splice(S,1),St.splice(S,1),In--,F>In&&(F=In),this.setPage(F))},g0=function(S){S>0&&S<=In&&(F=S)},jw=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return be.length-1},v0=function(S,V,ie){var ce,ye=void 0;return ie=ie||{},S=S!==void 0?S:Qt[st].fontName,V=V!==void 0?V:Qt[st].fontStyle,ce=S.toLowerCase(),dn[ce]!==void 0&&dn[ce][V]!==void 0?ye=dn[ce][V]:dn[S]!==void 0&&dn[S][V]!==void 0?ye=dn[S][V]:ie.disableWarning===!1&&fn.warn("Unable to look up font label for font '"+S+"', '"+V+"'. Refer to getFontList() for available fonts."),ye||ie.noFallback||(ye=dn.times[V])==null&&(ye=dn.times.normal),ye},Lw=f.__private__.putInfo=function(){var S=pr(),V=function(ce){return ce};for(var ie in u!==null&&(V=Ur.encryptor(S,0)),Q("<<"),Q("/Producer ("+Ps(V("jsPDF "+yt.version))+")"),Ue)Ue.hasOwnProperty(ie)&&Ue[ie]&&Q("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Ps(V(Ue[ie]))+")");Q("/CreationDate ("+Ps(V(Y))+")"),Q(">>"),Q("endobj")},sp=f.__private__.putCatalog=function(S){var V=(S=S||{}).rootDictionaryObjId||ka;switch(pr(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+V+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+Be;ie.substr(ie.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+H(Be)+"]")}switch(Te||(Te="continuous"),Te){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}ve&&Q("/PageMode /"+ve),Kt.publish("putCatalog"),Q(">>"),Q("endobj")},Rw=f.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(se+1)),Q("/Root "+se+" 0 R"),Q("/Info "+(se-1)+" 0 R"),u!==null&&Q("/Encrypt "+Ur.oid+" 0 R"),Q("/ID [ <"+O+"> <"+O+"> ]"),Q(">>")},Mw=f.__private__.putHeader=function(){Q("%PDF-"+y),Q("%")},Dw=f.__private__.putXRef=function(){var S="0000000000";Q("xref"),Q("0 "+(se+1)),Q("0000000000 65535 f ");for(var V=1;V<=se;V++)typeof oe[V]=="function"?Q((S+oe[V]()).slice(-10)+" 00000 n "):oe[V]!==void 0?Q((S+oe[V]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},Ca=f.__private__.buildDocument=function(){et(),de(ae),Kt.publish("buildDocument"),Mw(),nu(),f0(),h0(),u!==null&&Cw(),Lw(),sp();var S=pe;return Dw(),Rw(),Q("startxref"),Q(""+S),Q("%%EOF"),de(be[F]),ae.join(`
`)},jd=f.__private__.getBlob=function(S){return new Blob([qe(S)],{type:"application/pdf"})},Ld=f.output=f.__private__.output=Ui(function(S,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",S){case void 0:return Ca();case"save":f.save(V.filename);break;case"arraybuffer":return qe(Ca());case"blob":return jd(Ca());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(jd(Ca()))||void 0;fn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",ce=Ca();try{ie=C_(ce)}catch{ie=C_(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+V.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(ye=V.pdfObjectUrl,ke="");var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",Ze=wt.open();return Ze!==null&&Ze.document.write(Oe),Ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Ct=wt.open();if(Ct!==null){Ct.document.write(ut);var Nt=this;Ct.document.documentElement.querySelector("#pdfViewer").onload=function(){Ct.document.title=V.filename,Ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return Ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Pn=wt.open();if(Pn!==null&&(Pn.document.write(Vt),Pn.document.title=V.filename),Pn||typeof safari>"u")return Pn;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",V);default:return null}}),y0=function(S){return Array.isArray(tu)===!0&&tu.indexOf(S)>-1};switch(r){case"pt":De=1;break;case"mm":De=72/25.4;break;case"cm":De=72/2.54;break;case"in":De=72;break;case"px":De=y0("px_scaling")==1?.75:96/72;break;case"pc":case"em":De=12;break;case"ex":De=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);De=r}var Ur=null;X(),B();var Ow=function(S){return u!==null?Ur.encryptor(S,0):function(V){return V}},w0=f.__private__.getPageInfo=f.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[S].objId,pageNumber:S,pageContext:St[S]}},_t=f.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in St)if(St[V].objId===S)break;return w0(V)},Iw=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:St[F].objId,pageNumber:F,pageContext:St[F]}};f.addPage=function(){return m0.apply(this,arguments),this},f.setPage=function(){return g0.apply(this,arguments),de.call(this,be[F]),this},f.insertPage=function(S){return this.addPage(),this.movePage(F,S),this},f.movePage=function(S,V){var ie,ce;if(S>V){ie=be[S],ce=St[S];for(var ye=S;ye>V;ye--)be[ye]=be[ye-1],St[ye]=St[ye-1];be[V]=ie,St[V]=ce,this.setPage(V)}else if(S<V){ie=be[S],ce=St[S];for(var ke=S;ke<V;ke++)be[ke]=be[ke+1],St[ke]=St[ke+1];be[V]=ie,St[V]=ce,this.setPage(V)}return this},f.deletePage=function(){return Ew.apply(this,arguments),this},f.__private__.text=f.text=function(S,V,ie,ce,ye){var ke,Oe,Ze,ut,Ct,Nt,Vt,Pn,Fn,ar=(ce=ce||{}).scope||this;if(typeof S=="number"&&typeof V=="number"&&(typeof ie=="string"||Array.isArray(ie))){var Wr=ie;ie=V,V=S,S=Wr}if(arguments[3]instanceof gt?(A("The transform parameter of text() with a Matrix value"),Fn=ye):(Ze=arguments[4],ut=arguments[5],rn(Vt=arguments[3])==="object"&&Vt!==null||(typeof Ze=="string"&&(ut=Ze,Ze=null),typeof Vt=="string"&&(ut=Vt,Vt=null),typeof Vt=="number"&&(Ze=Vt,Vt=null),ce={flags:Vt,angle:Ze,align:ut})),isNaN(V)||isNaN(ie)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return ar;var _r="",$i=!1,Hs=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:su,Vo=ar.internal.scaleFactor;function T0(gn){return gn=gn.split("	").join(Array(ce.TabLen||9).join(" ")),Ps(gn,Vt)}function mp(gn){for(var vn,Zn=gn.concat(),mr=[],ja=Zn.length;ja--;)typeof(vn=Zn.shift())=="string"?mr.push(vn):Array.isArray(gn)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?mr.push(vn[0]):mr.push([vn[0],vn[1],vn[2]]);return mr}function gp(gn,vn){var Zn;if(typeof gn=="string")Zn=vn(gn)[0];else if(Array.isArray(gn)){for(var mr,ja,Np=gn.concat(),Gd=[],R0=Np.length;R0--;)typeof(mr=Np.shift())=="string"?Gd.push(vn(mr)[0]):Array.isArray(mr)&&typeof mr[0]=="string"&&(ja=vn(mr[0],mr[1],mr[2]),Gd.push([ja[0],ja[1],ja[2]]));Zn=Gd}return Zn}var Fd=!1,vp=!0;if(typeof S=="string")Fd=!0;else if(Array.isArray(S)){var yp=S.concat();Oe=[];for(var Vd,Rr=yp.length;Rr--;)(typeof(Vd=yp.shift())!="string"||Array.isArray(Vd)&&typeof Vd[0]!="string")&&(vp=!1);Fd=vp}if(Fd===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var zd=Re/ar.internal.scaleFactor,Bd=zd*(Hs-1);switch(ce.baseline){case"bottom":ie-=Bd;break;case"top":ie+=zd-Bd;break;case"hanging":ie+=zd-2*Bd;break;case"middle":ie+=zd/2-Bd}if((Nt=ce.maxWidth||0)>0&&(typeof S=="string"?S=ar.splitTextToSize(S,Nt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(gn,vn){return gn.concat(ar.splitTextToSize(vn,Nt))},[]))),ke={text:S,x:V,y:ie,options:ce,mutex:{pdfEscape:Ps,activeFontKey:st,fonts:Qt,activeFontSize:Re}},Kt.publish("preProcessText",ke),S=ke.text,Ze=(ce=ke.options).angle,!(Fn instanceof gt)&&Ze&&typeof Ze=="number"){Ze*=Math.PI/180,ce.rotationDirection===0&&(Ze=-Ze),_===w.ADVANCED&&(Ze=-Ze);var qd=Math.cos(Ze),wp=Math.sin(Ze);Fn=new gt(qd,wp,-wp,qd,0,0)}else Ze&&Ze instanceof gt&&(Fn=Ze);_!==w.ADVANCED||Fn||(Fn=Mo),(Ct=ce.charSpace||Dd)!==void 0&&(_r+=E(P(Ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pn=ce.horizontalScale)!==void 0&&(_r+=E(100*Pn)+` Tz
`),ce.lang;var Es=-1,Gw=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,xp=ar.internal.getCurrentPageInfo().pageContext;switch(Gw){case 0:case!1:case"fill":Es=0;break;case 1:case!0:case"stroke":Es=1;break;case 2:case"fillThenStroke":Es=2;break;case 3:case"invisible":Es=3;break;case 4:case"fillAndAddForClipping":Es=4;break;case 5:case"strokeAndAddPathForClipping":Es=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Es=6;break;case 7:case"addToPathForClipping":Es=7}var P0=xp.usedRenderingMode!==void 0?xp.usedRenderingMode:-1;Es!==-1?_r+=Es+` Tr
`:P0!==-1&&(_r+=`0 Tr
`),Es!==-1&&(xp.usedRenderingMode=Es),ut=ce.align||"left";var pi,Ud=Re*Hs,E0=ar.internal.pageSize.getWidth(),j0=Qt[st];Ct=ce.charSpace||Dd,Nt=ce.maxWidth||0,Vt=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var bl=[],au=function(gn){return ar.getStringUnitWidth(gn,{font:j0,charSpace:Ct,fontSize:Re,doKerning:!1})*Re/Vo};if(Object.prototype.toString.call(S)==="[object Array]"){var js;Oe=mp(S),ut!=="left"&&(pi=Oe.map(au));var ls,_l=0;if(ut==="right"){V-=pi[0],S=[],Rr=Oe.length;for(var Ta=0;Ta<Rr;Ta++)Ta===0?(ls=Fo(V),js=Aa(ie)):(ls=P(_l-pi[Ta]),js=-Ud),S.push([Oe[Ta],ls,js]),_l=pi[Ta]}else if(ut==="center"){V-=pi[0]/2,S=[],Rr=Oe.length;for(var Pa=0;Pa<Rr;Pa++)Pa===0?(ls=Fo(V),js=Aa(ie)):(ls=P((_l-pi[Pa])/2),js=-Ud),S.push([Oe[Pa],ls,js]),_l=pi[Pa]}else if(ut==="left"){S=[],Rr=Oe.length;for(var Wd=0;Wd<Rr;Wd++)S.push(Oe[Wd])}else if(ut==="justify"&&j0.encoding==="Identity-H"){S=[],Rr=Oe.length,Nt=Nt!==0?Nt:E0;for(var Ea=0,Kn=0;Kn<Rr;Kn++)if(js=Kn===0?Aa(ie):-Ud,ls=Kn===0?Fo(V):Ea,Kn<Rr-1){var bp=P((Nt-pi[Kn])/(Oe[Kn].split(" ").length-1)),cs=Oe[Kn].split(" ");S.push([cs[0]+" ",ls,js]),Ea=0;for(var mi=1;mi<cs.length;mi++){var $d=(au(cs[mi-1]+" "+cs[mi])-au(cs[mi]))*Vo+bp;mi==cs.length-1?S.push([cs[mi],$d,0]):S.push([cs[mi]+" ",$d,0]),Ea-=$d}}else S.push([Oe[Kn],ls,js]);S.push(["",Ea,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Rr=Oe.length,Nt=Nt!==0?Nt:E0,Kn=0;Kn<Rr;Kn++)js=Kn===0?Aa(ie):-Ud,ls=Kn===0?Fo(V):0,Kn<Rr-1?bl.push(E(P((Nt-pi[Kn])/(Oe[Kn].split(" ").length-1)))):bl.push(0),S.push([Oe[Kn],ls,js])}}var L0=typeof ce.R2L=="boolean"?ce.R2L:le;L0===!0&&(S=gp(S,function(gn,vn,Zn){return[gn.split("").reverse().join(""),vn,Zn]})),ke={text:S,x:V,y:ie,options:ce,mutex:{pdfEscape:Ps,activeFontKey:st,fonts:Qt,activeFontSize:Re}},Kt.publish("postProcessText",ke),S=ke.text,$i=ke.mutex.isHex||!1;var _p=Qt[st].encoding;_p!=="WinAnsiEncoding"&&_p!=="StandardEncoding"||(S=gp(S,function(gn,vn,Zn){return[T0(gn),vn,Zn]})),Oe=mp(S),S=[];for(var lu,cu,Sl,uu=0,Hd=1,du=Array.isArray(Oe[0])?Hd:uu,Nl="",Sp=function(gn,vn,Zn){var mr="";return Zn instanceof gt?(Zn=typeof ce.angle=="number"?Vi(Zn,new gt(1,0,0,1,gn,vn)):Vi(new gt(1,0,0,1,gn,vn),Zn),_===w.ADVANCED&&(Zn=Vi(new gt(1,0,0,-1,0,0),Zn)),mr=Zn.join(" ")+` Tm
`):mr=E(gn)+" "+E(vn)+` Td
`,mr},gi=0;gi<Oe.length;gi++){switch(Nl="",du){case Hd:Sl=($i?"<":"(")+Oe[gi][0]+($i?">":")"),lu=parseFloat(Oe[gi][1]),cu=parseFloat(Oe[gi][2]);break;case uu:Sl=($i?"<":"(")+Oe[gi]+($i?">":")"),lu=Fo(V),cu=Aa(ie)}bl!==void 0&&bl[gi]!==void 0&&(Nl=bl[gi]+` Tw
`),gi===0?S.push(Nl+Sp(lu,cu,Fn)+Sl):du===uu?S.push(Nl+Sl):du===Hd&&S.push(Nl+Sp(lu,cu,Fn)+Sl)}S=du===uu?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var vi=`BT
/`;return vi+=st+" "+Re+` Tf
`,vi+=E(Re*Hs)+` TL
`,vi+=iu+`
`,vi+=_r,vi+=S,Q(vi+="ET"),p[st]=!0,ar};var Fw=f.__private__.clip=f.clip=function(S){return Q(S==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Fw("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Q("n"),this};var Io=f.__private__.isValidStyle=function(S){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(V=!0),V};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(S){return Io(S)&&(c=S),this};var x0=f.__private__.getStyle=f.getStyle=function(S){var V=c;switch(S){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=S}return V},b0=f.close=function(){return Q("h"),this};f.stroke=function(){return Q("S"),this},f.fill=function(S){return Rd("f",S),this},f.fillEvenOdd=function(S){return Rd("f*",S),this},f.fillStroke=function(S){return Rd("B",S),this},f.fillStrokeEvenOdd=function(S){return Rd("B*",S),this};var Rd=function(S,V){rn(V)==="object"?zw(V,S):Q(S)},ip=function(S){S===null||_===w.ADVANCED&&S===void 0||(S=x0(S),Q(S))};function Vw(S,V,ie,ce,ye){var ke=new kh(V||this.boundingBox,ie||this.xStep,ce||this.yStep,this.gState,ye||this.matrix);ke.stream=this.stream;var Oe=S+"$$"+this.cloneIndex+++"$$";return Ts(Oe,ke),ke}var zw=function(S,V){var ie=eu[S.key],ce=qt[ie];if(ce instanceof bu)Q("q"),Q(Bw(V)),ce.gState&&f.setGState(ce.gState),Q(S.matrix.toString()+" cm"),Q("/"+ie+" sh"),Q("Q");else if(ce instanceof kh){var ye=new gt(1,0,0,-1,0,xl());S.matrix&&(ye=ye.multiply(S.matrix||Mo),ie=Vw.call(ce,S.key,S.boundingBox,S.xStep,S.yStep,ye).id),Q("q"),Q("/Pattern cs"),Q("/"+ie+" scn"),ce.gState&&f.setGState(ce.gState),Q(V),Q("Q")}},Bw=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},op=f.moveTo=function(S,V){return Q(E(P(S))+" "+E(z(V))+" m"),this},ru=f.lineTo=function(S,V){return Q(E(P(S))+" "+E(z(V))+" l"),this},yl=f.curveTo=function(S,V,ie,ce,ye,ke){return Q([E(P(S)),E(z(V)),E(P(ie)),E(z(ce)),E(P(ye)),E(z(ke)),"c"].join(" ")),this};f.__private__.line=f.line=function(S,V,ie,ce,ye){if(isNaN(S)||isNaN(V)||isNaN(ie)||isNaN(ce)||!Io(ye))throw new Error("Invalid arguments passed to jsPDF.line");return _===w.COMPAT?this.lines([[ie-S,ce-V]],S,V,[1,1],ye||"S"):this.lines([[ie-S,ce-V]],S,V,[1,1]).stroke()},f.__private__.lines=f.lines=function(S,V,ie,ce,ye,ke){var Oe,Ze,ut,Ct,Nt,Vt,Pn,Fn,ar,Wr,_r,$i;if(typeof S=="number"&&($i=ie,ie=V,V=S,S=$i),ce=ce||[1,1],ke=ke||!1,isNaN(V)||isNaN(ie)||!Array.isArray(S)||!Array.isArray(ce)||!Io(ye)||typeof ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(op(V,ie),Oe=ce[0],Ze=ce[1],Ct=S.length,Wr=V,_r=ie,ut=0;ut<Ct;ut++)(Nt=S[ut]).length===2?(Wr=Nt[0]*Oe+Wr,_r=Nt[1]*Ze+_r,ru(Wr,_r)):(Vt=Nt[0]*Oe+Wr,Pn=Nt[1]*Ze+_r,Fn=Nt[2]*Oe+Wr,ar=Nt[3]*Ze+_r,Wr=Nt[4]*Oe+Wr,_r=Nt[5]*Ze+_r,yl(Vt,Pn,Fn,ar,Wr,_r));return ke&&b0(),ip(ye),this},f.path=function(S){for(var V=0;V<S.length;V++){var ie=S[V],ce=ie.c;switch(ie.op){case"m":op(ce[0],ce[1]);break;case"l":ru(ce[0],ce[1]);break;case"c":yl.apply(this,ce);break;case"h":b0()}}return this},f.__private__.rect=f.rect=function(S,V,ie,ce,ye){if(isNaN(S)||isNaN(V)||isNaN(ie)||isNaN(ce)||!Io(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w.COMPAT&&(ce=-ce),Q([E(P(S)),E(z(V)),E(P(ie)),E(P(ce)),"re"].join(" ")),ip(ye),this},f.__private__.triangle=f.triangle=function(S,V,ie,ce,ye,ke,Oe){if(isNaN(S)||isNaN(V)||isNaN(ie)||isNaN(ce)||isNaN(ye)||isNaN(ke)||!Io(Oe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-S,ce-V],[ye-ie,ke-ce],[S-ye,V-ke]],S,V,[1,1],Oe,!0),this},f.__private__.roundedRect=f.roundedRect=function(S,V,ie,ce,ye,ke,Oe){if(isNaN(S)||isNaN(V)||isNaN(ie)||isNaN(ce)||isNaN(ye)||isNaN(ke)||!Io(Oe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ze=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ie),ke=Math.min(ke,.5*ce),this.lines([[ie-2*ye,0],[ye*Ze,0,ye,ke-ke*Ze,ye,ke],[0,ce-2*ke],[0,ke*Ze,-ye*Ze,ke,-ye,ke],[2*ye-ie,0],[-ye*Ze,0,-ye,-ke*Ze,-ye,-ke],[0,2*ke-ce],[0,-ke*Ze,ye*Ze,-ke,ye,-ke]],S+ye,V,[1,1],Oe,!0),this},f.__private__.ellipse=f.ellipse=function(S,V,ie,ce,ye){if(isNaN(S)||isNaN(V)||isNaN(ie)||isNaN(ce)||!Io(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ke=4/3*(Math.SQRT2-1)*ie,Oe=4/3*(Math.SQRT2-1)*ce;return op(S+ie,V),yl(S+ie,V-Oe,S+ke,V-ce,S,V-ce),yl(S-ke,V-ce,S-ie,V-Oe,S-ie,V),yl(S-ie,V+Oe,S-ke,V+ce,S,V+ce),yl(S+ke,V+ce,S+ie,V+Oe,S+ie,V),ip(ye),this},f.__private__.circle=f.circle=function(S,V,ie,ce){if(isNaN(S)||isNaN(V)||isNaN(ie)||!Io(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,V,ie,ie,ce)},f.setFont=function(S,V,ie){return ie&&(V=R(V,ie)),st=v0(S,V,{disableWarning:!1}),this};var qw=f.__private__.getFont=f.getFont=function(){return Qt[v0.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var S,V,ie={};for(S in dn)if(dn.hasOwnProperty(S))for(V in ie[S]=[],dn[S])dn[S].hasOwnProperty(V)&&ie[S].push(V);return ie},f.addFont=function(S,V,ie,ce,ye){var ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ke.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&ke.indexOf(arguments[3])==-1&&(ie=R(ie,ce)),ye=ye||"Identity-H",np.call(this,S,V,ie,ye)};var su,ap=t.lineWidth||.200025,Md=f.__private__.getLineWidth=f.getLineWidth=function(){return ap},_0=f.__private__.setLineWidth=f.setLineWidth=function(S){return ap=S,Q(E(P(S))+" w"),this};f.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(S,V){if(S=S||[],V=V||0,isNaN(V)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ie){return E(P(ie))}).join(" "),V=E(P(V)),Q("["+S+"] "+V+" d"),this};var S0=f.__private__.getLineHeight=f.getLineHeight=function(){return Re*su};f.__private__.getLineHeight=f.getLineHeight=function(){return Re*su};var N0=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(su=S),this},k0=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return su};N0(t.lineHeight);var Fo=f.__private__.getHorizontalCoordinate=function(S){return P(S)},Aa=f.__private__.getVerticalCoordinate=function(S){return _===w.ADVANCED?S:St[F].mediaBox.topRightY-St[F].mediaBox.bottomLeftY-P(S)},Uw=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(S){return E(Fo(S))},wl=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(S){return E(Aa(S))},Wi=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Bi(Wi)},f.__private__.setStrokeColor=f.setDrawColor=function(S,V,ie,ce){return Wi=qi({ch1:S,ch2:V,ch3:ie,ch4:ce,pdfColorType:"draw",precision:2}),Q(Wi),this};var lp=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Bi(lp)},f.__private__.setFillColor=f.setFillColor=function(S,V,ie,ce){return lp=qi({ch1:S,ch2:V,ch3:ie,ch4:ce,pdfColorType:"fill",precision:2}),Q(lp),this};var iu=t.textColor||"0 g",Ww=f.__private__.getTextColor=f.getTextColor=function(){return Bi(iu)};f.__private__.setTextColor=f.setTextColor=function(S,V,ie,ce){return iu=qi({ch1:S,ch2:V,ch3:ie,ch4:ce,pdfColorType:"text",precision:3}),this};var Dd=t.charSpace,$w=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Dd||0)};f.__private__.setCharSpace=f.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Dd=S,this};var cp=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(S){var V=f.CapJoinStyles[S];if(V===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cp=V,Q(V+" J"),this};var up=0;f.__private__.setLineJoin=f.setLineJoin=function(S){var V=f.CapJoinStyles[S];if(V===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return up=V,Q(V+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(E(P(S))+" M"),this},f.GState=vy,f.setGState=function(S){(S=typeof S=="string"?On[Fi[S]]:C0(null,S)).equals(Na)||(Q("/"+S.id+" gs"),Na=S)};var C0=function(S,V){if(!S||!Fi[S]){var ie=!1;for(var ce in On)if(On.hasOwnProperty(ce)&&On[ce].equals(V)){ie=!0;break}if(ie)V=On[ce];else{var ye="GS"+(Object.keys(On).length+1).toString(10);On[ye]=V,V.id=ye}return S&&(Fi[S]=V.id),Kt.publish("addGState",V),V}};f.addGState=function(S,V){return C0(S,V),this},f.saveGraphicsState=function(){return Q("q"),hi.push({key:st,size:Re,color:iu}),this},f.restoreGraphicsState=function(){Q("Q");var S=hi.pop();return st=S.key,Re=S.size,iu=S.color,Na=null,this},f.setCurrentTransformationMatrix=function(S){return Q(S.toString()+" cm"),this},f.comment=function(S){return Q("#"+S),this};var Od=function(S,V){var ie=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(ke){isNaN(ke)||(ie=parseFloat(ke))}});var ce=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(ke){isNaN(ke)||(ce=parseFloat(ke))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(ke){ye=ke.toString()}}),this},dp=function(S,V,ie,ce){Od.call(this,S,V),this.type="rect";var ye=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Oe){isNaN(Oe)||(ye=parseFloat(Oe))}});var ke=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ke},set:function(Oe){isNaN(Oe)||(ke=parseFloat(Oe))}}),this},hp=function(){this.page=In,this.currentPage=F,this.pages=be.slice(0),this.pagesContext=St.slice(0),this.x=mn,this.y=Mt,this.matrix=as,this.width=ou(F),this.height=xl(F),this.outputDestination=Fe,this.id="",this.objectNumber=-1};hp.prototype.restore=function(){In=this.page,F=this.currentPage,St=this.pagesContext,be=this.pages,mn=this.x,Mt=this.y,as=this.matrix,fp(F,this.width),pp(F,this.height),Fe=this.outputDestination};var A0=function(S,V,ie,ce,ye){Ro.push(new hp),In=F=0,be=[],mn=S,Mt=V,as=ye,rp([ie,ce])},Hw=function(S){if(Lo[S])Ro.pop().restore();else{var V=new hp,ie="Xo"+(Object.keys(Lr).length+1).toString(10);V.id=ie,Lo[S]=ie,Lr[ie]=V,Kt.publish("addFormObject",V),Ro.pop().restore()}};for(var Id in f.beginFormObject=function(S,V,ie,ce,ye){return A0(S,V,ie,ce,ye),this},f.endFormObject=function(S){return Hw(S),this},f.doFormObject=function(S,V){var ie=Lr[Lo[S]];return Q("q"),Q(V.toString()+" cm"),Q("/"+ie.id+" Do"),Q("Q"),this},f.getFormObject=function(S){var V=Lr[Lo[S]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},f.save=function(S,V){return S=S||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(yu(jd(Ca()),S),typeof yu.unload=="function"&&wt.setTimeout&&setTimeout(yu.unload,911),this):new Promise(function(ie,ce){try{var ye=yu(jd(Ca()),S);typeof yu.unload=="function"&&wt.setTimeout&&setTimeout(yu.unload,911),ie(ye)}catch(ke){ce(ke.message)}})},yt.API)yt.API.hasOwnProperty(Id)&&(Id==="events"&&yt.API.events.length?function(S,V){var ie,ce,ye;for(ye=V.length-1;ye!==-1;ye--)ie=V[ye][0],ce=V[ye][1],S.subscribe.apply(S,[ie].concat(typeof ce=="function"?[ce]:ce))}(Kt,yt.API.events):f[Id]=yt.API[Id]);var ou=f.getPageWidth=function(S){return(St[S=S||F].mediaBox.topRightX-St[S].mediaBox.bottomLeftX)/De},fp=f.setPageWidth=function(S,V){St[S].mediaBox.topRightX=V*De+St[S].mediaBox.bottomLeftX},xl=f.getPageHeight=function(S){return(St[S=S||F].mediaBox.topRightY-St[S].mediaBox.bottomLeftY)/De},pp=f.setPageHeight=function(S,V){St[S].mediaBox.topRightY=V*De+St[S].mediaBox.bottomLeftY};return f.internal={pdfEscape:Ps,getStyle:x0,getFont:qw,getFontSize:te,getCharSpace:$w,getTextColor:Ww,getLineHeight:S0,getLineHeightFactor:k0,getLineWidth:Md,write:Ge,getHorizontalCoordinate:Fo,getVerticalCoordinate:Aa,getCoordinateString:Uw,getVerticalCoordinateString:wl,collections:{},newObject:pr,newAdditionalObject:Sd,newObjectDeferred:or,newObjectDeferredBegin:$s,getFilters:Do,putStream:fi,events:Kt,scaleFactor:De,pageSize:{getWidth:function(){return ou(F)},setWidth:function(S){fp(F,S)},getHeight:function(){return xl(F)},setHeight:function(S){pp(F,S)}},encryptionOptions:u,encryption:Ur,getEncryptor:Ow,output:Ld,getNumberOfPages:jw,pages:be,out:Q,f2:H,f3:L,getPageInfo:w0,getPageInfoByObjId:_t,getCurrentPageInfo:Iw,getPDFVersion:g,Point:Od,Rectangle:dp,Matrix:gt,hasHotfix:y0},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ou(F)},set:function(S){fp(F,S)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return xl(F)},set:function(S){pp(F,S)},enumerable:!0,configurable:!0}),Pw.call(f,Se),st="F1",m0(s,n),Kt.publish("initialized"),f}lh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},lh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lh.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},lh.prototype.processOwnerPassword=function(t,e){return T_(A_(e).substr(0,5),t)},lh.prototype.encryptor=function(t,e){var n=A_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return T_(n,r)}},vy.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||rn(t)!==rn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},yt.API={events:[]},yt.version="3.0.1";var Bn=yt.API,g3=1,bd=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kt=function(t){return t.toFixed(2)},Fl=function(t){return t.toFixed(5)};Bn.__acroform__={};var Ws=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},qA=function(t){return t*g3},qo=function(t){var e=new xD,n=nt.internal.getHeight(t)||0,r=nt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(kt(r)),Number(kt(n))],e},ure=Bn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},dre=Bn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},hre=Bn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},er=Bn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hre(t,e-1)},tr=Bn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ure(t,e-1)},nr=Bn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dre(t,e-1)},fre=Bn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],i=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(i+a)||0,l.upperRight_X=n(s+o)||0,l.upperRight_Y=r(i)||0,[Number(kt(l.lowerLeft_X)),Number(kt(l.lowerLeft_Y)),Number(kt(l.upperRight_X)),Number(kt(l.upperRight_Y))]},pre=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=P_(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+kt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=qo(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},P_=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var i=n,o=nt.internal.getHeight(t)||0;o=o<0?-o:o;var a=nt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(L,P,U){if(L+1<s.length){var z=P+" "+s[L+1][0];return R1(z,t,U).width<=a-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,d=R1("3",t,i).height,p=t.multiline?o-i:(o-d)/2,f=p+=2,y=0,g=0,b=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+R1(e,t,i=12).width+", FieldWidth:"+a+`
`;break}for(var v="",w=0,_=0;_<s.length;_++)if(s.hasOwnProperty(_)){var T=!1;if(s[_].length!==1&&b!==s[_].length-1){if((d+2)*(w+2)+2>o)continue e;v+=s[_][b],T=!0,g=_,_--}else{v=(v+=s[_][b]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var C=parseInt(_),R=l(C,v,i),E=_>=s.length-1;if(R&&!E){v+=" ",b=0;continue}if(R||E){if(E)g=C;else if(t.multiline&&(d+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(w+2)+2>o)continue e;g=C}}for(var A="",D=y;D<=g;D++){var H=s[D];if(t.multiline){if(D===g){A+=H[b]+" ",b=(b+1)%H.length;continue}if(D===y){A+=H[H.length-1]+" ";continue}}A+=H[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,u=R1(A,t,i).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=kt(c)+" "+kt(f)+` Td
`,e+="("+bd(A)+`) Tj
`,e+=-kt(c)+` 0 Td
`,f=-(i+2),u=0,y=T?g:g+1,w++,v=""}break}return r.text=e,r.fontSize=i,r},R1=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},mre={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gre=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},vre=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,s=t[n];e.internal.newObjectDeferredBegin(s.objId,!0),rn(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[r]}},yre=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Po.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(mre)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");g3=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new bD,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&gre(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=fre(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=nt.createDefaultAppearanceStream(a),rn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=pre(a);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var f=a.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var y=f[o];typeof y=="function"&&(y=y.call(s,a)),d+="/"+o+" "+y+" ",s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y)}}else typeof(y=f)=="function"&&(y=y.call(s,a)),d+="/"+o+" "+y,s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:a.objId}),s.internal.out("endobj")}i&&vre(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},wD=Bn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),rn(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+bd(r(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},d5=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+bd(r(t))+")"},Jo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jo.prototype.toString=function(){return this.objId+" 0 R"},Jo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Jo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:wD(s,this.objId,this.scope)}):s instanceof Jo?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var xD=function(){Jo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ws(xD,Jo);var bD=function(){Jo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+bd(n(t))+")"}},set:function(n){t=n}})};Ws(bD,Jo);var Po=function t(){Jo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!er(e,3)},set:function(v){v?this.F=tr(e,3):this.F=nr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof yy)return;i="FieldObject"+t.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+bd(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/g3:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof yy||this instanceof qu))return d5(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Cr?p:d5(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof Cr?v:v.substr(0,1)==="("?sh(v.substr(1,v.length-2)):sh(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Cr?sh(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Cr?"/"+v:v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Cr?f:d5(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof Cr?v:v.substr(0,1)==="("?sh(v.substr(1,v.length-2)):sh(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Cr?sh(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Cr?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,1)},set:function(v){v?this.Ff=tr(this.Ff,1):this.Ff=nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,2)},set:function(v){v?this.Ff=tr(this.Ff,2):this.Ff=nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,3)},set:function(v){v?this.Ff=tr(this.Ff,3):this.Ff=nr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');b=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(b){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};Ws(Po,Jo);var Gh=function(){Po.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wD(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,o,a){a||(a=1);for(var l,c=[];l=o.exec(i);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,18)},set:function(n){n?this.Ff=tr(this.Ff,18):this.Ff=nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=tr(this.Ff,19):this.Ff=nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,20)},set:function(n){n?(this.Ff=tr(this.Ff,20),e.sort()):this.Ff=nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,22)},set:function(n){n?this.Ff=tr(this.Ff,22):this.Ff=nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(n){n?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,27)},set:function(n){n?this.Ff=tr(this.Ff,27):this.Ff=nr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ws(Gh,Po);var Yh=function(){Gh.call(this),this.fontName="helvetica",this.combo=!1};Ws(Yh,Gh);var Kh=function(){Yh.call(this),this.combo=!0};Ws(Kh,Yh);var av=function(){Kh.call(this),this.edit=!0};Ws(av,Kh);var Cr=function(){Po.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,15)},set:function(n){n?this.Ff=tr(this.Ff,15):this.Ff=nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,16)},set:function(n){n?this.Ff=tr(this.Ff,16):this.Ff=nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,17)},set:function(n){n?this.Ff=tr(this.Ff,17):this.Ff=nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(n){n?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+bd(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){rn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ws(Cr,Po);var lv=function(){Cr.call(this),this.pushButton=!0};Ws(lv,Cr);var Zh=function(){Cr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ws(Zh,Cr);var yy=function(){var t,e;Po.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),r)o.push("/"+i+" ("+bd(s(r[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){rn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ws(yy,Po),Zh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Zh.prototype.createOption=function(t){var e=new yy;return e.Parent=this,e.optionName=t,this.Kids.push(e),wre.call(this.scope,e),e};var cv=function(){Cr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nt.CheckBox.createAppearanceStream()};Ws(cv,Cr);var qu=function(){Po.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,13)},set:function(e){e?this.Ff=tr(this.Ff,13):this.Ff=nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,21)},set:function(e){e?this.Ff=tr(this.Ff,21):this.Ff=nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(e){e?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,24)},set:function(e){e?this.Ff=tr(this.Ff,24):this.Ff=nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,25)},set:function(e){e?this.Ff=tr(this.Ff,25):this.Ff=nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(e){e?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ws(qu,Po);var uv=function(){qu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,14)},set:function(t){t?this.Ff=tr(this.Ff,14):this.Ff=nr(this.Ff,14)}}),this.password=!0};Ws(uv,qu);var nt={CheckBox:{createAppearanceStream:function(){return{N:{On:nt.CheckBox.YesNormal},D:{On:nt.CheckBox.YesPushDown,Off:nt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=qo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=P_(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+kt(nt.internal.getWidth(t))+" "+kt(nt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+kt(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=qo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],i=nt.internal.getHeight(t),o=nt.internal.getWidth(t),a=P_(t,t.caption);return s.push("1 g"),s.push("0 0 "+kt(o)+" "+kt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+kt(o-1)+" "+kt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+kt(a.fontSize)+" Tf "+r),s.push(a.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=qo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(nt.internal.getWidth(t))+" "+kt(nt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:nt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=nt.RadioButton.Circle.YesNormal,e.D[t]=nt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=qo(t);e.scope=t.scope;var n=[],r=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=nt.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Fl(nt.internal.getWidth(t)/2)+" "+Fl(nt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=qo(t);e.scope=t.scope;var n=[],r=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*nt.internal.Bezier_C).toFixed(5)),o=Number((r*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Fl(nt.internal.getWidth(t)/2)+" "+Fl(nt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Fl(nt.internal.getWidth(t)/2)+" "+Fl(nt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=qo(t);e.scope=t.scope;var n=[],r=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Fl(nt.internal.getWidth(t)/2)+" "+Fl(nt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:nt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=nt.RadioButton.Cross.YesNormal,e.D[t]=nt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=qo(t);e.scope=t.scope;var n=[],r=nt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+kt(nt.internal.getWidth(t)-2)+" "+kt(nt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kt(r.x1.x)+" "+kt(r.x1.y)+" m"),n.push(kt(r.x2.x)+" "+kt(r.x2.y)+" l"),n.push(kt(r.x4.x)+" "+kt(r.x4.y)+" m"),n.push(kt(r.x3.x)+" "+kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=qo(t);e.scope=t.scope;var n=nt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(nt.internal.getWidth(t))+" "+kt(nt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+kt(nt.internal.getWidth(t)-2)+" "+kt(nt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(kt(n.x1.x)+" "+kt(n.x1.y)+" m"),r.push(kt(n.x2.x)+" "+kt(n.x2.y)+" l"),r.push(kt(n.x4.x)+" "+kt(n.x4.y)+" m"),r.push(kt(n.x3.x)+" "+kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=qo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(nt.internal.getWidth(t))+" "+kt(nt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};nt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=nt.internal.getWidth(t),n=nt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},nt.internal.getWidth=function(t){var e=0;return rn(t)==="object"&&(e=qA(t.Rect[2])),e},nt.internal.getHeight=function(t){var e=0;return rn(t)==="object"&&(e=qA(t.Rect[3])),e};var wre=Bn.addField=function(t){if(yre(this,t),!(t instanceof Po))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=Gh,Bn.AcroFormListBox=Yh,Bn.AcroFormComboBox=Kh,Bn.AcroFormEditBox=av,Bn.AcroFormButton=Cr,Bn.AcroFormPushButton=lv,Bn.AcroFormRadioButton=Zh,Bn.AcroFormCheckBox=cv,Bn.AcroFormTextField=qu,Bn.AcroFormPasswordField=uv,Bn.AcroFormAppearance=nt,Bn.AcroForm={ChoiceField:Gh,ListBox:Yh,ComboBox:Kh,EditBox:av,Button:Cr,PushButton:lv,RadioButton:Zh,CheckBox:cv,TextField:qu,PasswordField:uv,Appearance:nt},yt.AcroForm={ChoiceField:Gh,ListBox:Yh,ComboBox:Kh,EditBox:av,Button:Cr,PushButton:lv,RadioButton:Zh,CheckBox:cv,TextField:qu,PasswordField:uv,Appearance:nt};function _D(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(L,P){var U,z,Y,O,$,B=e;if((P=P||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(R(L))for($ in n)for(Y=n[$],U=0;U<Y.length;U+=1){for(O=!0,z=0;z<Y[U].length;z+=1)if(Y[U][z]!==void 0&&Y[U][z]!==L[z]){O=!1;break}if(O===!0){B=$;break}}else for($ in n)for(Y=n[$],U=0;U<Y.length;U+=1){for(O=!0,z=0;z<Y[U].length;z+=1)if(Y[U][z]!==void 0&&Y[U][z]!==L.charCodeAt(z)){O=!1;break}if(O===!0){B=$;break}}return B===e&&P!==e&&(B=P),B},s=function L(P){for(var U=this.internal.write,z=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var O=[];if(O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Image"}),O.push({key:"Width",value:P.width}),O.push({key:"Height",value:P.height}),P.colorSpace===b.INDEXED?O.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(O.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===b.DEVICE_CMYK&&O.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),O.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&O.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var $="",B=0,J=P.transparency.length;B<J;B++)$+=P.transparency[B]+" "+P.transparency[B]+" ";O.push({key:"Mask",value:"["+$+"]"})}P.sMask!==void 0&&O.push({key:"SMask",value:P.objectId+1+" 0 R"});var re=P.filter!==void 0?["/"+P.filter]:void 0;if(z({data:P.data,additionalKeyValues:O,alreadyAppliedFilters:re,objectId:P.objectId}),U("endobj"),"sMask"in P&&P.sMask!==void 0){var X="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,M={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:X,data:P.sMask};"filter"in P&&(M.filter=P.filter),L.call(this,M)}if(P.colorSpace===b.INDEXED){var F=this.internal.newObject();z({data:A(new Uint8Array(P.palette)),objectId:F}),U("endobj")}},i=function(){var L=this.internal.collections.addImage_images;for(var P in L)s.call(this,L[P])},o=function(){var L,P=this.internal.collections.addImage_images,U=this.internal.write;for(var z in P)U("/I"+(L=P[z]).index,L.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var L=this.internal.collections.addImage_images;return a.call(this),L},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(L){return typeof t["process"+L.toUpperCase()]=="function"},d=function(L){return rn(L)==="object"&&L.nodeType===1},p=function(L,P){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var U=""+L.getAttribute("src");if(U.indexOf("data:image/")===0)return mm(unescape(U).split("base64,").pop());var z=t.loadFile(U,!0);if(z!==void 0)return z}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var Y;switch(P){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;case"JPEG":case"JPG":default:Y="image/jpeg"}return mm(L.toDataURL(Y,1).split("base64,").pop())}},f=function(L){var P=this.internal.collections.addImage_images;if(P){for(var U in P)if(L===P[U].alias)return P[U]}},y=function(L,P,U){return L||P||(L=-96,P=-96),L<0&&(L=-1*U.width*72/L/this.internal.scaleFactor),P<0&&(P=-1*U.height*72/P/this.internal.scaleFactor),L===0&&(L=P*U.width/U.height),P===0&&(P=L*U.height/U.width),[L,P]},g=function(L,P,U,z,Y,O){var $=y.call(this,U,z,Y),B=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,re=l.call(this);if(U=$[0],z=$[1],re[Y.index]=Y,O){O*=Math.PI/180;var X=Math.cos(O),M=Math.sin(O),F=function(ee){return ee.toFixed(4)},K=[F(X),F(M),F(-1*M),F(X),0,0,"cm"]}this.internal.write("q"),O?(this.internal.write([1,"0","0",1,B(L),J(P+z),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([B(U),"0","0",B(z),"0","0","cm"].join(" "))):this.internal.write([B(U),"0","0",B(z),B(L),J(P+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(L){var P,U,z=0;if(typeof L=="string")for(U=L.length,P=0;P<U;P++)z=(z<<5)-z+L.charCodeAt(P),z|=0;else if(R(L))for(U=L.byteLength/2,P=0;P<U;P++)z=(z<<5)-z+L[P],z|=0;return z},_=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var P=!0;return L.length===0&&(P=!1),L.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(P=!1),P},T=t.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var P=L.indexOf(",");return P<0?null:L.substring(0,P).trim().endsWith("base64")?L.substring(P+1):null},C=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(L){return C()&&L instanceof ArrayBuffer};var R=t.__addimage__.isArrayBufferView=function(L){return C()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(L){for(var P=L.length,U=new Uint8Array(P),z=0;z<P;z++)U[z]=L.charCodeAt(z);return U},A=t.__addimage__.arrayBufferToBinaryString=function(L){for(var P="",U=R(L)?L:new Uint8Array(L),z=0;z<U.length;z+=8192)P+=String.fromCharCode.apply(null,U.subarray(z,z+8192));return P};t.addImage=function(){var L,P,U,z,Y,O,$,B,J;if(typeof arguments[1]=="number"?(P=e,U=arguments[1],z=arguments[2],Y=arguments[3],O=arguments[4],$=arguments[5],B=arguments[6],J=arguments[7]):(P=arguments[1],U=arguments[2],z=arguments[3],Y=arguments[4],O=arguments[5],$=arguments[6],B=arguments[7],J=arguments[8]),rn(L=arguments[0])==="object"&&!d(L)&&"imageData"in L){var re=L;L=re.imageData,P=re.format||P||e,U=re.x||U||0,z=re.y||z||0,Y=re.w||re.width||Y,O=re.h||re.height||O,$=re.alias||$,B=re.compression||B,J=re.rotation||re.angle||J}var X=this.internal.getFilters();if(B===void 0&&X.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(U)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var M=D.call(this,L,P,$,B);return g.call(this,U,z,Y,O,M,J),this};var D=function(L,P,U,z){var Y,O,$;if(typeof L=="string"&&r(L)===e){L=unescape(L);var B=H(L,!1);(B!==""||(B=t.loadFile(L,!0))!==void 0)&&(L=B)}if(d(L)&&(L=p(L,P)),P=r(L,P),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if((($=U)==null||$.length===0)&&(U=function(J){return typeof J=="string"||R(J)?w(J):R(J.data)?w(J.data):null}(L)),(Y=f.call(this,U))||(C()&&(L instanceof Uint8Array||P==="RGBA"||(O=L,L=E(L))),Y=this["process"+P.toUpperCase()](L,c.call(this),U,function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in t.image_compression?J:v.NONE}(z),O)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},H=t.__addimage__.convertBase64ToBinaryString=function(L,P){P=typeof P!="boolean"||P;var U,z="";if(typeof L=="string"){var Y;U=(Y=T(L))!==null&&Y!==void 0?Y:L;try{z=mm(U)}catch(O){if(P)throw _(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+O.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(L){var P,U,z="";if(d(L)&&(L=p(L)),typeof L=="string"&&r(L)===e&&((z=H(L,!1))===""&&(z=t.loadFile(L)||""),L=z),U=r(L),!u(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!C()||L instanceof Uint8Array||(L=E(L)),!(P=this["process"+U.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=U,P}})(yt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};yt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),w=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(v(r.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+f(v(w))+") >>",g.content=i;var _=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var T=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(y(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var R=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+R+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,i,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+s),h:c(r+i)},options:o,type:"link"})},t.textWithLink=function(n,r,s,i){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,s,i),s+=.2*c,i.align==="center"&&(r-=l/2),i.align==="right"&&(r-=l),this.link(r,s-c,a,o,i),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(yt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=t.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&s.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(g){var b=0,v=n,w="",_=0;for(b=0;b<g.length;b+=1)v[g.charCodeAt(b)]!==void 0?(_++,typeof(v=v[g.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(v),v=n,_=0),b===g.length-1&&(v=n,w+=g.charAt(b-(_-1)),b-=_-1,_=0)):(v=n,w+=g.charAt(b-_),b-=_,_=0);return w};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(g,b,v){return o(g)?i(g)===!1?-1:!c(g)||!o(b)&&!o(v)||!o(v)&&a(b)||a(g)&&!o(b)||a(g)&&l(b)||a(g)&&a(b)?0:u(g)&&o(b)&&!a(b)&&o(v)&&c(v)?3:a(g)||!o(v)?1:2:-1},f=function(g){var b=0,v=0,w=0,_="",T="",C="",R=(g=g||"").split("\\s+"),E=[];for(b=0;b<R.length;b+=1){for(E.push(""),v=0;v<R[b].length;v+=1)_=R[b][v],T=R[b][v-1],C=R[b][v+1],o(_)?(w=p(_,T,C),E[b]+=w!==-1?String.fromCharCode(e[_.charCodeAt(0)][w]):_):E[b]+=_;E[b]=d(E[b])}return E.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(b)){var w=0;for(v=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?v.push([f(b[w][0]),b[w][1],b[w][2]]):v.push([f(b[w])]);g=v}else g=f(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",y])}(yt.API),yt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(yt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,y=0,g=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,T){return _.concat(b.splitTextToSize(T,v))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)f<(g=this.getStringUnitWidth(l[w],{font:d})*u)&&(f=g);return f!==0&&(y=l.length),{w:f/=p,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,y,g,b,v=[],w=[],_=[],T={},C={},R=[],E=[],A=(p=p||{}).autoSize||!1,D=p.printHeaders!==!1,H=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,L=p.margins||Object.assign({width:this.getPageWidth()},e),P=typeof p.padding=="number"?p.padding:3,U=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=z,this.setFontSize(H),d==null)w=v=Object.keys(u[0]),_=v.map(function(){return"left"});else if(Array.isArray(d)&&rn(d[0])==="object")for(v=d.map(function(re){return re.name}),w=d.map(function(re){return re.prompt||re.name||""}),_=d.map(function(re){return re.align||"left"}),f=0;f<d.length;f+=1)C[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(w=v=d,_=v.map(function(){return"left"}));if(A||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<v.length;f+=1){for(T[b=v[f]]=u.map(function(re){return re[b]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=T[b],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)R.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[b]=Math.max.apply(null,R)+P+P,R=[]}if(D){var Y={};for(f=0;f<v.length;f+=1)Y[v[f]]={},Y[v[f]].text=w[f],Y[v[f]].align=_[f];var O=a.call(this,Y,C);E=v.map(function(re){return new i(l,c,C[re],O,Y[re].text,void 0,Y[re].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var $=d.reduce(function(re,X){return re[X.name]=X.align,re},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var B=a.call(this,u[f],C);for(g=0;g<v.length;g+=1){var J=u[f][v[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:g,data:J},this),o.call(this,new i(l,c,C[v[g]],B,J,f+2,$[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var y=l[f];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/p+u+u},this).reduce(function(f,y){return Math.max(f,y)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(yt.API);var SD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ND=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],E_=_D(ND),kD=[100,200,300,400,500,600,700,800,900],xre=_D(kD);function j_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return SD[i=i||"normal"]?i:"normal"}(t.style),r=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof E_[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function UA(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var bre={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},WA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $A(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function _re(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},bre,n.genericFontFamilies||{}),i=null,o=null,a=0;a<e.length;++a)if(s[(i=j_(e[a])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+$A(i)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=E_[l],d=u<=E_.normal?-1:1,p=UA(c,ND,u,d);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(i.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=SD[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=xre[l],d=UA(c,kD,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+$A(i)+"'.");return o}function HA(t){return t.trimLeft()}function Sre(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Nre(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var M1,GA,YA,h5=["times"];(function(t){var e,n,r,s,i,o,a,l,c,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=M;Object.defineProperty(this,"pdf",{get:function(){return F}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(de){K=!!de}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(de){ee=!!de}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(de){isNaN(de)||(se=de)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(de){isNaN(de)||(oe=de)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(de){var Q;typeof de=="number"?Q=[de,de,de,de]:((Q=new Array(4))[0]=de[0],Q[1]=de.length>=2?de[1]:Q[0],Q[2]=de.length>=3?de[2]:Q[0],Q[3]=de.length>=4?de[3]:Q[1]),c.margin=Q}});var ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ae},set:function(de){ae=de}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(de){pe=de}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(de){_e=de}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(de){de instanceof u&&(c=de)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(de){c.path=de}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(de){be=de}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(de){var Q;Q=p(de),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(de){var Q=p(de);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(de){["butt","round","square"].indexOf(de)!==-1&&(this.ctx.lineCap=de,this.pdf.setLineCap(de))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(de){isNaN(de)||(this.ctx.lineWidth=de,this.pdf.setLineWidth(de))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(de){["bevel","round","miter"].indexOf(de)!==-1&&(this.ctx.lineJoin=de,this.pdf.setLineJoin(de))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(de){isNaN(de)||(this.ctx.miterLimit=de,this.pdf.setMiterLimit(de))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(de){this.ctx.textBaseline=de}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(de){["right","end","center","left","start"].indexOf(de)!==-1&&(this.ctx.textAlign=de)}});var Ce=null;function Fe(de,Q){if(Ce===null){var Ge=function(qe){var Se=[];return Object.keys(qe).forEach(function(Re){qe[Re].forEach(function(Be){var te=null;switch(Be){case"bold":te={family:Re,weight:"bold"};break;case"italic":te={family:Re,style:"italic"};break;case"bolditalic":te={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":te={family:Re}}te!==null&&(te.ref={name:Re,style:Be},Se.push(te))})}),Se}(de.getFontList());Ce=function(qe){for(var Se={},Re=0;Re<qe.length;++Re){var Be=j_(qe[Re]),te=Be.family,le=Be.stretch,ve=Be.style,Pe=Be.weight;Se[te]=Se[te]||{},Se[te][le]=Se[te][le]||{},Se[te][le][ve]=Se[te][le][ve]||{},Se[te][le][ve][Pe]=Be}return Se}(Ge.concat(Q))}return Ce}var et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(de){Ce=null,et=de}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(de){var Q;if(this.ctx.font=de,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(de))!==null){var Ge=Q[1];Q[2];var qe=Q[3],Se=Q[4];Q[5];var Re=Q[6],Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(Be==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var te=function(Ue){var st,De,mn=[],Mt=Ue.trim();if(Mt==="")return h5;if(Mt in WA)return[WA[Mt]];for(;Mt!=="";){switch(De=null,st=(Mt=HA(Mt)).charAt(0)){case'"':case"'":De=Sre(Mt.substring(1),st);break;default:De=Nre(Mt)}if(De===null||(mn.push(De[0]),(Mt=HA(De[1]))!==""&&Mt.charAt(0)!==","))return h5;Mt=Mt.replace(/^,/,"")}return mn}(Re);if(this.fontFaces){var le=_re(Fe(this.pdf,this.fontFaces),te.map(function(Ue){return{family:Ue,stretch:"normal",weight:qe,style:Ge}}));this.pdf.setFont(le.ref.name,le.ref.style)}else{var ve="";(qe==="bold"||parseInt(qe,10)>=700||Ge==="bold")&&(ve="bold"),Ge==="italic"&&(ve+="italic"),ve.length===0&&(ve="normal");for(var Pe="",Te={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ae=0;Ae<te.length;Ae++){if(this.pdf.internal.getFont(te[Ae],ve,{noFallback:!0,disableWarning:!0})!==void 0){Pe=te[Ae];break}if(ve==="bolditalic"&&this.pdf.internal.getFont(te[Ae],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pe=te[Ae],ve="bold";else if(this.pdf.internal.getFont(te[Ae],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pe=te[Ae],ve="normal";break}}if(Pe===""){for(var Ie=0;Ie<te.length;Ie++)if(Te[te[Ie]]){Pe=Te[te[Ie]];break}}Pe=Pe===""?"Times":Pe,this.pdf.setFont(Pe,ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(de){this.ctx.globalCompositeOperation=de}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(de){this.ctx.globalAlpha=de}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(de){this.ctx.lineDashOffset=de,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(de){this.ctx.lineDash=de,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(de){this.ctx.ignoreClearRect=!!de}})};d.prototype.setLineDash=function(M){this.lineDash=M},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){T.call(this,"fill",!1)},d.prototype.stroke=function(){T.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(M,F){if(isNaN(M)||isNaN(F))throw fn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(M,F));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(M,F)},d.prototype.closePath=function(){var M=new o(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&rn(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){M=new o(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},d.prototype.lineTo=function(M,F){if(isNaN(M)||isNaN(F))throw fn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(M,F));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},d.prototype.quadraticCurveTo=function(M,F,K,ee){if(isNaN(K)||isNaN(ee)||isNaN(M)||isNaN(F))throw fn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(K,ee)),oe=this.ctx.transform.applyToPoint(new o(M,F));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},d.prototype.bezierCurveTo=function(M,F,K,ee,se,oe){if(isNaN(se)||isNaN(oe)||isNaN(M)||isNaN(F)||isNaN(K)||isNaN(ee))throw fn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ae=this.ctx.transform.applyToPoint(new o(se,oe)),pe=this.ctx.transform.applyToPoint(new o(M,F)),_e=this.ctx.transform.applyToPoint(new o(K,ee));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:_e.x,y2:_e.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},d.prototype.arc=function(M,F,K,ee,se,oe){if(isNaN(M)||isNaN(F)||isNaN(K)||isNaN(ee)||isNaN(se))throw fn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ae=this.ctx.transform.applyToPoint(new o(M,F));M=ae.x,F=ae.y;var pe=this.ctx.transform.applyToPoint(new o(0,K)),_e=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(pe.x-_e.x,2)+Math.pow(pe.y-_e.y,2))}Math.abs(se-ee)>=2*Math.PI&&(ee=0,se=2*Math.PI),this.path.push({type:"arc",x:M,y:F,radius:K,startAngle:ee,endAngle:se,counterclockwise:oe})},d.prototype.arcTo=function(M,F,K,ee,se){throw new Error("arcTo not implemented.")},d.prototype.rect=function(M,F,K,ee){if(isNaN(M)||isNaN(F)||isNaN(K)||isNaN(ee))throw fn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,F),this.lineTo(M+K,F),this.lineTo(M+K,F+ee),this.lineTo(M,F+ee),this.lineTo(M,F),this.lineTo(M+K,F),this.lineTo(M,F)},d.prototype.fillRect=function(M,F,K,ee){if(isNaN(M)||isNaN(F)||isNaN(K)||isNaN(ee))throw fn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,F,K,ee),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},d.prototype.strokeRect=function(M,F,K,ee){if(isNaN(M)||isNaN(F)||isNaN(K)||isNaN(ee))throw fn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(M,F,K,ee),this.stroke())},d.prototype.clearRect=function(M,F,K,ee){if(isNaN(M)||isNaN(F)||isNaN(K)||isNaN(ee))throw fn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,F,K,ee))},d.prototype.save=function(M){M=typeof M!="boolean"||M;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},d.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(F),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(M){var F,K,ee,se;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))F=0,K=0,ee=0,se=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(oe!==null)F=parseInt(oe[1]),K=parseInt(oe[2]),ee=parseInt(oe[3]),se=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)F=parseInt(oe[1]),K=parseInt(oe[2]),ee=parseInt(oe[3]),se=parseFloat(oe[4]);else{if(se=1,typeof M=="string"&&M.charAt(0)!=="#"){var ae=new gD(M);M=ae.ok?ae.toHex():"#000000"}M.length===4?(F=M.substring(1,2),F+=F,K=M.substring(2,3),K+=K,ee=M.substring(3,4),ee+=ee):(F=M.substring(1,3),K=M.substring(3,5),ee=M.substring(5,7)),F=parseInt(F,16),K=parseInt(K,16),ee=parseInt(ee,16)}}return{r:F,g:K,b:ee,a:se,style:M}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(M,F,K,ee){if(isNaN(F)||isNaN(K)||typeof M!="string")throw fn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!f.call(this)){var se=B(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;P.call(this,{text:M,x:F,y:K,scale:oe,angle:se,align:this.textAlign,maxWidth:ee})}},d.prototype.strokeText=function(M,F,K,ee){if(isNaN(F)||isNaN(K)||typeof M!="string")throw fn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ee=isNaN(ee)?void 0:ee;var se=B(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;P.call(this,{text:M,x:F,y:K,scale:oe,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ee})}},d.prototype.measureText=function(M){if(typeof M!="string")throw fn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,K=this.pdf.internal.scaleFactor,ee=F.internal.getFontSize(),se=F.getStringUnitWidth(M)*ee/F.internal.scaleFactor,oe=function(ae){var pe=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new oe({width:se*=Math.round(96*K/72*1e4)/1e4})},d.prototype.scale=function(M,F){if(isNaN(M)||isNaN(F))throw fn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(M,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.rotate=function(M){if(isNaN(M))throw fn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},d.prototype.translate=function(M,F){if(isNaN(M)||isNaN(F))throw fn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,M,F);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.transform=function(M,F,K,ee,se,oe){if(isNaN(M)||isNaN(F)||isNaN(K)||isNaN(ee)||isNaN(se)||isNaN(oe))throw fn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ae=new l(M,F,K,ee,se,oe);this.ctx.transform=this.ctx.transform.multiply(ae)},d.prototype.setTransform=function(M,F,K,ee,se,oe){M=isNaN(M)?1:M,F=isNaN(F)?0:F,K=isNaN(K)?0:K,ee=isNaN(ee)?1:ee,se=isNaN(se)?0:se,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(M,F,K,ee,se,oe)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(M,F,K,ee,se,oe,ae,pe,_e){var be=this.pdf.getImageProperties(M),Ce=1,Fe=1,et=1,de=1;ee!==void 0&&pe!==void 0&&(et=pe/ee,de=_e/se,Ce=be.width/ee*pe/ee,Fe=be.height/se*_e/se),oe===void 0&&(oe=F,ae=K,F=0,K=0),ee!==void 0&&pe===void 0&&(pe=ee,_e=se),ee===void 0&&pe===void 0&&(pe=be.width,_e=be.height);for(var Q,Ge=this.ctx.transform.decompose(),qe=B(Ge.rotate.shx),Se=new l,Re=(Se=(Se=(Se=Se.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new a(oe-F*et,ae-K*de,ee*Ce,se*Fe)),Be=b.call(this,Re),te=[],le=0;le<Be.length;le+=1)te.indexOf(Be[le])===-1&&te.push(Be[le]);if(_(te),this.autoPaging)for(var ve=te[0],Pe=te[te.length-1],Te=ve;Te<Pe+1;Te++){this.pdf.setPage(Te);var Ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ie=Te===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=Te===1?0:Ue+(Te-2)*st;if(this.ctx.clip_path.length!==0){var mn=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Q,this.posX+this.margin[3],-De+Ie+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=mn}var Mt=JSON.parse(JSON.stringify(Re));Mt=w([Mt],this.posX+this.margin[3],-De+Ie+this.ctx.prevPageLastElemOffset)[0];var as=(Te>ve||Te<Pe)&&g.call(this);as&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,st,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,qe),as&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,qe)};var b=function(M,F,K){var ee=[];F=F||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ee.push(Math.floor((M.y+se)/K)+1);break;case"arc":ee.push(Math.floor((M.y+se-M.radius)/K)+1),ee.push(Math.floor((M.y+se+M.radius)/K)+1);break;case"qct":var oe=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ee.push(Math.floor((oe.y+se)/K)+1),ee.push(Math.floor((oe.y+oe.h+se)/K)+1);break;case"bct":var ae=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ee.push(Math.floor((ae.y+se)/K)+1),ee.push(Math.floor((ae.y+ae.h+se)/K)+1);break;case"rect":ee.push(Math.floor((M.y+se)/K)+1),ee.push(Math.floor((M.y+M.h+se)/K)+1)}for(var pe=0;pe<ee.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<ee[pe];)v.call(this);return ee},v=function(){var M=this.fillStyle,F=this.strokeStyle,K=this.font,ee=this.lineCap,se=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=F,this.font=K,this.lineCap=ee,this.lineWidth=se,this.lineJoin=oe},w=function(M,F,K){for(var ee=0;ee<M.length;ee++)switch(M[ee].type){case"bct":M[ee].x2+=F,M[ee].y2+=K;case"qct":M[ee].x1+=F,M[ee].y1+=K;case"mt":case"lt":case"arc":default:M[ee].x+=F,M[ee].y+=K}return M},_=function(M){return M.sort(function(F,K){return F-K})},T=function(M,F){for(var K,ee,se=this.fillStyle,oe=this.strokeStyle,ae=this.lineCap,pe=this.lineWidth,_e=Math.abs(pe*this.ctx.transform.scaleX),be=this.lineJoin,Ce=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),et=[],de=0;de<Fe.length;de++)if(Fe[de].x!==void 0)for(var Q=b.call(this,Fe[de]),Ge=0;Ge<Q.length;Ge+=1)et.indexOf(Q[Ge])===-1&&et.push(Q[Ge]);for(var qe=0;qe<et.length;qe++)for(;this.pdf.internal.getNumberOfPages()<et[qe];)v.call(this);if(_(et),this.autoPaging)for(var Se=et[0],Re=et[et.length-1],Be=Se;Be<Re+1;Be++){this.pdf.setPage(Be),this.fillStyle=se,this.strokeStyle=oe,this.lineCap=ae,this.lineWidth=_e,this.lineJoin=be;var te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],le=Be===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Te=Be===1?0:ve+(Be-2)*Pe;if(this.ctx.clip_path.length!==0){var Ae=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(K,this.posX+this.margin[3],-Te+le+this.ctx.prevPageLastElemOffset),C.call(this,M,!0),this.path=Ae}if(ee=JSON.parse(JSON.stringify(Ce)),this.path=w(ee,this.posX+this.margin[3],-Te+le+this.ctx.prevPageLastElemOffset),F===!1||Be===0){var Ie=(Be>Se||Be<Re)&&g.call(this);Ie&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],te,Pe,null).clip().discardPath()),C.call(this,M,F),Ie&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=_e,C.call(this,M,F),this.lineWidth=pe;this.path=Ce},C=function(M,F){if((M!=="stroke"||F||!y.call(this))&&(M==="stroke"||F||!f.call(this))){for(var K,ee,se=[],oe=this.path,ae=0;ae<oe.length;ae++){var pe=oe[ae];switch(pe.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:pe,deltas:[],abs:[]});break;case"lt":var _e=se.length;if(oe[ae-1]&&!isNaN(oe[ae-1].x)&&(K=[pe.x-oe[ae-1].x,pe.y-oe[ae-1].y],_e>0)){for(;_e>=0;_e--)if(se[_e-1].close!==!0&&se[_e-1].begin!==!0){se[_e-1].deltas.push(K),se[_e-1].abs.push(pe);break}}break;case"bct":K=[pe.x1-oe[ae-1].x,pe.y1-oe[ae-1].y,pe.x2-oe[ae-1].x,pe.y2-oe[ae-1].y,pe.x-oe[ae-1].x,pe.y-oe[ae-1].y],se[se.length-1].deltas.push(K);break;case"qct":var be=oe[ae-1].x+2/3*(pe.x1-oe[ae-1].x),Ce=oe[ae-1].y+2/3*(pe.y1-oe[ae-1].y),Fe=pe.x+2/3*(pe.x1-pe.x),et=pe.y+2/3*(pe.y1-pe.y),de=pe.x,Q=pe.y;K=[be-oe[ae-1].x,Ce-oe[ae-1].y,Fe-oe[ae-1].x,et-oe[ae-1].y,de-oe[ae-1].x,Q-oe[ae-1].y],se[se.length-1].deltas.push(K);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(pe)}}ee=F?null:M==="stroke"?"stroke":"fill";for(var Ge=!1,qe=0;qe<se.length;qe++)if(se[qe].arc)for(var Se=se[qe].abs,Re=0;Re<Se.length;Re++){var Be=Se[Re];Be.type==="arc"?A.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,F,!Ge):U.call(this,Be.x,Be.y),Ge=!0}else if(se[qe].close===!0)this.pdf.internal.out("h"),Ge=!1;else if(se[qe].begin!==!0){var te=se[qe].start.x,le=se[qe].start.y;z.call(this,se[qe].deltas,te,le),Ge=!0}ee&&D.call(this,ee),F&&H.call(this)}},R=function(M){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-K;case"top":return M+F-K;case"hanging":return M+F-2*K;case"middle":return M+F/2-K;case"ideographic":return M;case"alphabetic":default:return M}},E=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(F,K){this.colorStops.push([F,K])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(M,F,K,ee,se,oe,ae,pe,_e){for(var be=O.call(this,K,ee,se,oe),Ce=0;Ce<be.length;Ce++){var Fe=be[Ce];Ce===0&&(_e?L.call(this,Fe.x1+M,Fe.y1+F):U.call(this,Fe.x1+M,Fe.y1+F)),Y.call(this,M,F,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}pe?H.call(this):D.call(this,ae)},D=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(M,F){this.pdf.internal.out(n(M)+" "+r(F)+" m")},P=function(M){var F;switch(M.align){case"right":case"end":F="right";break;case"center":F="center";break;case"left":case"start":default:F="left"}var K=this.pdf.getTextDimensions(M.text),ee=R.call(this,M.y),se=E.call(this,ee)-K.h,oe=this.ctx.transform.applyToPoint(new o(M.x,ee)),ae=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(ae.translate)).multiply(ae.skew)).multiply(ae.scale);for(var _e,be,Ce,Fe=this.ctx.transform.applyToRectangle(new a(M.x,ee,K.w,K.h)),et=pe.applyToRectangle(new a(M.x,se,K.w,K.h)),de=b.call(this,et),Q=[],Ge=0;Ge<de.length;Ge+=1)Q.indexOf(de[Ge])===-1&&Q.push(de[Ge]);if(_(Q),this.autoPaging)for(var qe=Q[0],Se=Q[Q.length-1],Re=qe;Re<Se+1;Re++){this.pdf.setPage(Re);var Be=Re===1?this.posY+this.margin[0]:this.margin[0],te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],le=this.pdf.internal.pageSize.height-this.margin[2],ve=le-this.margin[0],Pe=this.pdf.internal.pageSize.width-this.margin[1],Te=Pe-this.margin[3],Ae=Re===1?0:te+(Re-2)*ve;if(this.ctx.clip_path.length!==0){var Ie=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(_e,this.posX+this.margin[3],-1*Ae+Be),C.call(this,"fill",!0),this.path=Ie}var Ue=w([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Ae+Be+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*M.scale),Ce=this.lineWidth,this.lineWidth=Ce*M.scale);var st=this.autoPaging!=="text";if(st||Ue.y+Ue.h<=le){if(st||Ue.y>=Be&&Ue.x<=Pe){var De=st?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Pe-Ue.x)[0],mn=w([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-Ae+Be+this.ctx.prevPageLastElemOffset)[0],Mt=st&&(Re>qe||Re<Se)&&g.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,ve,null).clip().discardPath()),this.pdf.text(De,mn.x,mn.y,{angle:M.angle,align:F,renderingMode:M.renderingMode}),Mt&&this.pdf.restoreGraphicsState()}}else Ue.y<le&&(this.ctx.prevPageLastElemOffset+=le-Ue.y);M.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=Ce)}else M.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*M.scale),Ce=this.lineWidth,this.lineWidth=Ce*M.scale),this.pdf.text(M.text,oe.x+this.posX,oe.y+this.posY,{angle:M.angle,align:F,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=Ce)},U=function(M,F,K,ee){K=K||0,ee=ee||0,this.pdf.internal.out(n(M+K)+" "+r(F+ee)+" l")},z=function(M,F,K){return this.pdf.lines(M,F,K,null,null)},Y=function(M,F,K,ee,se,oe,ae,pe){this.pdf.internal.out([e(s(K+M)),e(i(ee+F)),e(s(se+M)),e(i(oe+F)),e(s(ae+M)),e(i(pe+F)),"c"].join(" "))},O=function(M,F,K,ee){for(var se=2*Math.PI,oe=Math.PI/2;F>K;)F-=se;var ae=Math.abs(K-F);ae<se&&ee&&(ae=se-ae);for(var pe=[],_e=ee?-1:1,be=F;ae>1e-5;){var Ce=be+_e*Math.min(ae,oe);pe.push($.call(this,M,be,Ce)),ae-=Math.abs(Ce-be),be=Ce}return pe},$=function(M,F,K){var ee=(K-F)/2,se=M*Math.cos(ee),oe=M*Math.sin(ee),ae=se,pe=-oe,_e=ae*ae+pe*pe,be=_e+ae*se+pe*oe,Ce=4/3*(Math.sqrt(2*_e*be)-be)/(ae*oe-pe*se),Fe=ae-Ce*pe,et=pe+Ce*ae,de=Fe,Q=-et,Ge=ee+F,qe=Math.cos(Ge),Se=Math.sin(Ge);return{x1:M*Math.cos(F),y1:M*Math.sin(F),x2:Fe*qe-et*Se,y2:Fe*Se+et*qe,x3:de*qe-Q*Se,y3:de*Se+Q*qe,x4:M*Math.cos(K),y4:M*Math.sin(K)}},B=function(M){return 180*M/Math.PI},J=function(M,F,K,ee,se,oe){var ae=M+.5*(K-M),pe=F+.5*(ee-F),_e=se+.5*(K-se),be=oe+.5*(ee-oe),Ce=Math.min(M,se,ae,_e),Fe=Math.max(M,se,ae,_e),et=Math.min(F,oe,pe,be),de=Math.max(F,oe,pe,be);return new a(Ce,et,Fe-Ce,de-et)},re=function(M,F,K,ee,se,oe,ae,pe){var _e,be,Ce,Fe,et,de,Q,Ge,qe,Se,Re,Be,te,le,ve=K-M,Pe=ee-F,Te=se-K,Ae=oe-ee,Ie=ae-se,Ue=pe-oe;for(be=0;be<41;be++)qe=(Q=(Ce=M+(_e=be/40)*ve)+_e*((et=K+_e*Te)-Ce))+_e*(et+_e*(se+_e*Ie-et)-Q),Se=(Ge=(Fe=F+_e*Pe)+_e*((de=ee+_e*Ae)-Fe))+_e*(de+_e*(oe+_e*Ue-de)-Ge),be==0?(Re=qe,Be=Se,te=qe,le=Se):(Re=Math.min(Re,qe),Be=Math.min(Be,Se),te=Math.max(te,qe),le=Math.max(le,Se));return new a(Math.round(Re),Math.round(Be),Math.round(te-Re),Math.round(le-Be))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,F,K=(M=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:F}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(yt.API),function(t){var e=function(i){var o,a,l,c,u,d,p,f,y,g;for(a=[],l=0,c=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(g=u%85))/85)-(y=u%85))/85)-(f=u%85))/85)-(p=u%85))/85)%85,a.push(d+33,p+33,f+33,y+33,g+33)):a.push(122);return function(b,v){for(var w=v;w>0;w--)b.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(i){var o,a,l,c,u,d=String,p="length",f=255,y="charCodeAt",g="slice",b="replace";for(i[g](-2),i=i[g](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],c=0,u=(i+=o="uuuuu"[g](i[p]%5||5))[p];u>c;c+=5)a=52200625*(i[y](c)-33)+614125*(i[y](c+1)-33)+7225*(i[y](c+2)-33)+85*(i[y](c+3)-33)+(i[y](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(v,w){for(var _=w;_>0;_--)v.pop()}(l,o[p]),d.fromCharCode.apply(d,l)},r=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var a="",l=0;l<i.length;l+=2)a+=String.fromCharCode("0x"+(i[l]+i[l+1]));return a},s=function(i){for(var o=new Uint8Array(i.length),a=i.length;a--;)o[a]=i.charCodeAt(a);return i=(o=k_(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(i,o){var a=0,l=i||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(yt.API),function(t){t.loadFile=function(e,n,r){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,p=0,f=function(y){var g=y.length,b=[],v=String.fromCharCode;for(p=0;p<g;p+=1)b.push(v(255&y.charCodeAt(p)));return b.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(s,i,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(yt.API),function(t){function e(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):x_(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):x_(()=>import("./purify.es-CF4_YkFU.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=rn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},s=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},i=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,a){return o.__proto__=a||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:s("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var f=c[p],y=f.src.find(function(g){return g.format==="truetype"});y&&l.addFont(y.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},i.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},i.prototype.get=function(o,a){return this.then(function(){var l=o in i.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},i.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},i.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},i.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return i.convert(a,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,yt.getPageSize=function(o,a,l){if(rn(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,y=0,g=0;if(p.hasOwnProperty(d))y=p[d][1]/u,g=p[d][0]/u;else try{y=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>y&&(f=g,g=y,y=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>g&&(f=g,g=y,y=f)}return{width:g,height:y,unit:a,k:u,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(j_):null;var l=new i(a);return a.worker?l:l.from(o).doCallback()}}(yt.API),yt.API.addJS=function(t){return YA=t,this.internal.events.subscribe("postPutResources",function(){M1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(M1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),GA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+YA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){M1!==void 0&&GA!==void 0&&this.internal.out("/Names <</JavaScript "+M1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var d=n.internal.newObject();u.push(d);var p=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<u.length;i++)n.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var o={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var o=r.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(yt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,i,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var p,f=256*d.charCodeAt(4)+d.charCodeAt(5),y=d.length,g={width:0,height:0,numcomponents:1},b=4;b<y;b+=2){if(b+=f,e.indexOf(d.charCodeAt(b+1))!==-1){p=256*d.charCodeAt(b+5)+d.charCodeAt(b+6),g={width:256*d.charCodeAt(b+7)+d.charCodeAt(b+8),height:p,numcomponents:d.charCodeAt(b+9)};break}f=256*d.charCodeAt(b+2)+d.charCodeAt(b+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:s}}return u}}(yt.API);var ih,D1,KA,ZA,XA,kre=function(){var t,e,n;function r(i){var o,a,l,c,u,d,p,f,y,g,b,v,w,_;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),y=(function(){var T,C;for(C=[],T=0;T<4;++T)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,o-=4),i=(d!=null?d.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(w=0;0<=g?w<g:w>g;0<=g?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(b=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,b.slice(0,p)),this.text[f]=String.fromCharCode.apply(String,b.slice(p+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var o,a;for(a=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(d,p,f,y){var g,b,v,w,_,T,C,R,E,A,D,H,L,P,U,z,Y,O,$,B,J,re=Math.ceil((c.width-d)/f),X=Math.ceil((c.height-p)/y),M=c.width==re&&c.height==X;for(P=o*re,H=M?a:new Uint8Array(P*X),T=i.length,L=0,b=0;L<X&&l<T;){switch(i[l++]){case 0:for(w=Y=0;Y<P;w=Y+=1)H[b++]=i[l++];break;case 1:for(w=O=0;O<P;w=O+=1)g=i[l++],_=w<o?0:H[b-o],H[b++]=(g+_)%256;break;case 2:for(w=$=0;$<P;w=$+=1)g=i[l++],v=(w-w%o)/o,U=L&&H[(L-1)*P+v*o+w%o],H[b++]=(U+g)%256;break;case 3:for(w=B=0;B<P;w=B+=1)g=i[l++],v=(w-w%o)/o,_=w<o?0:H[b-o],U=L&&H[(L-1)*P+v*o+w%o],H[b++]=(g+Math.floor((_+U)/2))%256;break;case 4:for(w=J=0;J<P;w=J+=1)g=i[l++],v=(w-w%o)/o,_=w<o?0:H[b-o],L===0?U=z=0:(U=H[(L-1)*P+v*o+w%o],z=v&&H[(L-1)*P+(v-1)*o+w%o]),C=_+U-z,R=Math.abs(C-_),A=Math.abs(C-U),D=Math.abs(C-z),E=R<=A&&R<=D?_:A<=D?U:z,H[b++]=(g+E)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!M){var F=((p+L*y)*c.width+d)*o,K=L*P;for(w=0;w<re;w+=1){for(var ee=0;ee<o;ee+=1)a[F++]=H[K++];F+=(f-1)*o}}L++}}return i=rre(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var i,o,a,l,c,u,d,p,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,i=0,o=d=0,p=a.length;d<p;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(f=u[i++])!=null?f:255;return c},r.prototype.copyToImageData=function(i,o){var a,l,c,u,d,p,f,y,g,b,v;if(l=this.colors,g=null,a=this.hasAlphaChannel,this.palette.length&&(g=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,a=!0),y=(c=i.data||i).length,d=g||o,u=p=0,l===1)for(;u<y;)f=g?4*o[u/4]:p,b=d[f++],c[u++]=b,c[u++]=b,c[u++]=b,c[u++]=a?d[f++]:255,p=f;else for(;u<y;)f=g?4*o[u/4]:p,c[u++]=d[f++],c[u++]=d[f++],c[u++]=d[f++],c[u++]=a?d[f++]:255,p=f},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(wt)==="[object Window]"){try{e=wt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var o;if(s()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var o,a,l,c,u,d,p,f;if(this.animation){for(f=[],a=u=0,d=(p=this.animation.frames).length;u<d;a=++u)o=p[a],l=i.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=t(l));return f}},r.prototype.renderFrame=function(i,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&i.clearRect(a.xOffset,a.yOffset,a.width,a.height),i.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(i){var o,a,l,c,u,d,p=this;return a=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(o=function(){var f,y;if(f=a++%c,y=l[f],p.renderFrame(i,f),c>1&&a/c<u)return p.animation._timeout=setTimeout(o,y.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var o,a;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Cre(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,o=1<<(7&s)+1;t[e++],t[e++];var a=null,l=null;i&&(a=e,l=o,e+=3*o);var c=!0,u=[],d=0,p=null,f=0,y=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];d=t[e++]|t[e++]<<8,p=t[e++],!(1&g)&&(p=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,T=t[e++],C=T>>6&1,R=1<<(7&T)+1,E=a,A=l,D=!1;T>>7&&(D=!0,E=e,A=R,e+=3*R);var H=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}u.push({x:b,y:v,width:w,height:_,has_local_palette:D,palette_offset:E,palette_size:A,data_offset:H,data_length:e-H,transparent_index:p,interlaced:!!C,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(P){if(P<0||P>=u.length)throw new Error("Frame index out of range.");return u[P]},this.decodeAndBlitFrameBGRA=function(P,U){var z=this.frameInfo(P),Y=z.width*z.height,O=new Uint8Array(Y);QA(t,z.data_offset,O,Y);var $=z.palette_offset,B=z.transparent_index;B===null&&(B=256);var J=z.width,re=n-J,X=J,M=4*(z.y*n+z.x),F=4*((z.y+z.height)*n+z.x),K=M,ee=4*re;z.interlaced===!0&&(ee+=4*n*7);for(var se=8,oe=0,ae=O.length;oe<ae;++oe){var pe=O[oe];if(X===0&&(X=J,(K+=ee)>=F&&(ee=4*re+4*n*(se-1),K=M+(J+re)*(se<<1),se>>=1)),pe===B)K+=4;else{var _e=t[$+3*pe],be=t[$+3*pe+1],Ce=t[$+3*pe+2];U[K++]=Ce,U[K++]=be,U[K++]=_e,U[K++]=255}--X}},this.decodeAndBlitFrameRGBA=function(P,U){var z=this.frameInfo(P),Y=z.width*z.height,O=new Uint8Array(Y);QA(t,z.data_offset,O,Y);var $=z.palette_offset,B=z.transparent_index;B===null&&(B=256);var J=z.width,re=n-J,X=J,M=4*(z.y*n+z.x),F=4*((z.y+z.height)*n+z.x),K=M,ee=4*re;z.interlaced===!0&&(ee+=4*n*7);for(var se=8,oe=0,ae=O.length;oe<ae;++oe){var pe=O[oe];if(X===0&&(X=J,(K+=ee)>=F&&(ee=4*re+4*n*(se-1),K=M+(J+re)*(se<<1),se>>=1)),pe===B)K+=4;else{var _e=t[$+3*pe],be=t[$+3*pe+1],Ce=t[$+3*pe+2];U[K++]=_e,U[K++]=be,U[K++]=Ce,U[K++]=255}--X}}}function QA(t,e,n,r){for(var s=t[e++],i=1<<s,o=i+1,a=o+1,l=s+1,c=(1<<l)-1,u=0,d=0,p=0,f=t[e++],y=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)d|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var b=d&c;if(d>>=l,u-=l,b!==i){if(b===o)break;for(var v=b<a?b:g,w=0,_=v;_>i;)_=y[_]>>8,++w;var T=_;if(p+w+(v!==b?1:0)>r)return void fn.log("Warning, gif stream longer than expected.");n[p++]=T;var C=p+=w;for(v!==b&&(n[p++]=T),_=v;w--;)_=y[_],n[--C]=255&_,_>>=8;g!==null&&a<4096&&(y[a++]=g<<8|T,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=b}else a=o+1,c=(1<<(l=s+1))-1,g=null}return p!==r&&fn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function f5(t){var e,n,r,s,i,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),p=new Array(65535),f=new Array(64),y=new Array(64),g=[],b=0,v=7,w=new Array(64),_=new Array(64),T=new Array(64),C=new Array(256),R=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(M,F){for(var K=0,ee=0,se=new Array,oe=1;oe<=16;oe++){for(var ae=1;ae<=M[oe];ae++)se[F[ee]]=[],se[F[ee]][0]=K,se[F[ee]][1]=oe,ee++,K++;K*=2}return se}function $(M){for(var F=M[0],K=M[1]-1;K>=0;)F&1<<K&&(b|=1<<v),K--,--v<0&&(b==255?(B(255),B(0)):B(b),v=7,b=0)}function B(M){g.push(M)}function J(M){B(M>>8&255),B(255&M)}function re(M,F,K,ee,se){for(var oe,ae=se[0],pe=se[240],_e=function(Se,Re){var Be,te,le,ve,Pe,Te,Ae,Ie,Ue,st,De=0;for(Ue=0;Ue<8;++Ue){Be=Se[De],te=Se[De+1],le=Se[De+2],ve=Se[De+3],Pe=Se[De+4],Te=Se[De+5],Ae=Se[De+6];var mn=Be+(Ie=Se[De+7]),Mt=Be-Ie,as=te+Ae,Qt=te-Ae,dn=le+Te,hi=le-Te,qt=ve+Pe,eu=ve-Pe,On=mn+qt,Fi=mn-qt,Na=as+dn,In=as-dn;Se[De]=On+Na,Se[De+4]=On-Na;var St=.707106781*(In+Fi);Se[De+2]=Fi+St,Se[De+6]=Fi-St;var Kt=.382683433*((On=eu+hi)-(In=Qt+Mt)),tu=.5411961*On+Kt,Lr=1.306562965*In+Kt,Lo=.707106781*(Na=hi+Qt),Ro=Mt+Lo,gt=Mt-Lo;Se[De+5]=gt+tu,Se[De+3]=gt-tu,Se[De+1]=Ro+Lr,Se[De+7]=Ro-Lr,De+=8}for(De=0,Ue=0;Ue<8;++Ue){Be=Se[De],te=Se[De+8],le=Se[De+16],ve=Se[De+24],Pe=Se[De+32],Te=Se[De+40],Ae=Se[De+48];var Vi=Be+(Ie=Se[De+56]),Mo=Be-Ie,Ts=te+Ae,pr=te-Ae,or=le+Te,$s=le-Te,Sd=ve+Pe,ka=ve-Pe,zi=Vi+Sd,Bi=Vi-Sd,qi=Ts+or,Do=Ts-or;Se[De]=zi+qi,Se[De+32]=zi-qi;var fi=.707106781*(Do+Bi);Se[De+16]=Bi+fi,Se[De+48]=Bi-fi;var Oo=.382683433*((zi=ka+$s)-(Do=pr+Mo)),nu=.5411961*zi+Oo,Nd=1.306562965*Do+Oo,kd=.707106781*(qi=$s+pr),Cd=Mo+kd,Ad=Mo-kd;Se[De+40]=Ad+nu,Se[De+24]=Ad-nu,Se[De+8]=Cd+Nd,Se[De+56]=Cd-Nd,De++}for(Ue=0;Ue<64;++Ue)st=Se[Ue]*Re[Ue],f[Ue]=st>0?st+.5|0:st-.5|0;return f}(M,F),be=0;be<64;++be)y[E[be]]=_e[be];var Ce=y[0]-K;K=y[0],Ce==0?$(ee[0]):($(ee[p[oe=32767+Ce]]),$(d[oe]));for(var Fe=63;Fe>0&&y[Fe]==0;)Fe--;if(Fe==0)return $(ae),K;for(var et,de=1;de<=Fe;){for(var Q=de;y[de]==0&&de<=Fe;)++de;var Ge=de-Q;if(Ge>=16){et=Ge>>4;for(var qe=1;qe<=et;++qe)$(pe);Ge&=15}oe=32767+y[de],$(se[(Ge<<4)+p[oe]]),$(d[oe]),de++}return Fe!=63&&$(ae),K}function X(M){M=Math.min(Math.max(M,1),100),i!=M&&(function(F){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var se=o((K[ee]*F+50)/100);se=Math.min(Math.max(se,1),255),a[E[ee]]=se}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var pe=o((oe[ae]*F+50)/100);pe=Math.min(Math.max(pe,1),255),l[E[ae]]=pe}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,Ce=0;Ce<8;Ce++)for(var Fe=0;Fe<8;Fe++)c[be]=1/(a[E[be]]*_e[Ce]*_e[Fe]*8),u[be]=1/(l[E[be]]*_e[Ce]*_e[Fe]*8),be++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,F){F&&X(F),g=new Array,b=0,v=7,J(65496),J(65504),J(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),J(1),J(1),B(0),B(0),function(){J(65499),J(132),B(0);for(var te=0;te<64;te++)B(a[te]);B(1);for(var le=0;le<64;le++)B(l[le])}(),function(te,le){J(65472),J(17),B(8),J(le),J(te),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(M.width,M.height),function(){J(65476),J(418),B(0);for(var te=0;te<16;te++)B(A[te+1]);for(var le=0;le<=11;le++)B(D[le]);B(16);for(var ve=0;ve<16;ve++)B(H[ve+1]);for(var Pe=0;Pe<=161;Pe++)B(L[Pe]);B(1);for(var Te=0;Te<16;Te++)B(P[Te+1]);for(var Ae=0;Ae<=11;Ae++)B(U[Ae]);B(17);for(var Ie=0;Ie<16;Ie++)B(z[Ie+1]);for(var Ue=0;Ue<=161;Ue++)B(Y[Ue])}(),J(65498),J(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var K=0,ee=0,se=0;b=0,v=7,this.encode.displayName="_encode_";for(var oe,ae,pe,_e,be,Ce,Fe,et,de,Q=M.data,Ge=M.width,qe=M.height,Se=4*Ge,Re=0;Re<qe;){for(oe=0;oe<Se;){for(be=Se*Re+oe,Fe=-1,et=0,de=0;de<64;de++)Ce=be+(et=de>>3)*Se+(Fe=4*(7&de)),Re+et>=qe&&(Ce-=Se*(Re+1+et-qe)),oe+Fe>=Se&&(Ce-=oe+Fe-Se+4),ae=Q[Ce++],pe=Q[Ce++],_e=Q[Ce++],w[de]=(R[ae]+R[pe+256>>0]+R[_e+512>>0]>>16)-128,_[de]=(R[ae+768>>0]+R[pe+1024>>0]+R[_e+1280>>0]>>16)-128,T[de]=(R[ae+1280>>0]+R[pe+1536>>0]+R[_e+1792>>0]>>16)-128;K=re(w,c,K,e,r),ee=re(_,u,ee,n,s),se=re(T,u,se,n,s),oe+=32}Re+=8}if(v>=0){var Be=[];Be[1]=v+1,Be[0]=(1<<v+1)-1,$(Be)}return J(65497),new Uint8Array(g)},t=t||50,function(){for(var M=String.fromCharCode,F=0;F<256;F++)C[F]=M(F)}(),e=O(A,D),n=O(P,U),r=O(H,L),s=O(z,Y),function(){for(var M=1,F=2,K=1;K<=15;K++){for(var ee=M;ee<F;ee++)p[32767+ee]=K,d[32767+ee]=[],d[32767+ee][1]=K,d[32767+ee][0]=ee;for(var se=-(F-1);se<=-M;se++)p[32767+se]=K,d[32767+se]=[],d[32767+se][1]=K,d[32767+se][0]=F-1+se;M<<=1,F<<=1}}(),function(){for(var M=0;M<256;M++)R[M]=19595*M,R[M+256>>0]=38470*M,R[M+512>>0]=7471*M+32768,R[M+768>>0]=-11059*M,R[M+1024>>0]=-21709*M,R[M+1280>>0]=32768*M+8421375,R[M+1536>>0]=-27439*M,R[M+1792>>0]=-5329*M}(),X(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function JA(t){function e(A){if(!A)throw Error("assert :P")}function n(A,D,H){for(var L=0;4>L;L++)if(A[D+L]!=H.charCodeAt(L))return!0;return!1}function r(A,D,H,L,P){for(var U=0;U<P;U++)A[D+U]=H[L+U]}function s(A,D,H,L){for(var P=0;P<L;P++)A[D+P]=H}function i(A){return new Int32Array(A)}function o(A,D){for(var H=[],L=0;L<A;L++)H.push(new D);return H}function a(A,D){var H=[];return function L(P,U,z){for(var Y=z[U],O=0;O<Y&&(P.push(z.length>U+1?[]:new D),!(z.length<U+1));O++)L(P[O],U+1,z)}(H,0,A),H}var l=function(){var A=this;function D(m,x){for(var k=1<<x-1>>>0;m&k;)k>>>=1;return k?(m&k-1)+k:m}function H(m,x,k,j,I){e(!(j%k));do m[x+(j-=k)]=I;while(0<j)}function L(m,x,k,j,I){if(e(2328>=I),512>=I)var q=i(512);else if((q=i(I))==null)return 0;return function(W,G,Z,ne,he,we){var xe,ge,Le=G,Ne=1<<Z,fe=i(16),me=i(16);for(e(he!=0),e(ne!=null),e(W!=null),e(0<Z),ge=0;ge<he;++ge){if(15<ne[ge])return 0;++fe[ne[ge]]}if(fe[0]==he)return 0;for(me[1]=0,xe=1;15>xe;++xe){if(fe[xe]>1<<xe)return 0;me[xe+1]=me[xe]+fe[xe]}for(ge=0;ge<he;++ge)xe=ne[ge],0<ne[ge]&&(we[me[xe]++]=ge);if(me[15]==1)return(ne=new P).g=0,ne.value=we[0],H(W,Le,1,Ne,ne),Ne;var Ee,Me=-1,je=Ne-1,Xe=0,We=1,ft=1,$e=1<<Z;for(ge=0,xe=1,he=2;xe<=Z;++xe,he<<=1){if(We+=ft<<=1,0>(ft-=fe[xe]))return 0;for(;0<fe[xe];--fe[xe])(ne=new P).g=xe,ne.value=we[ge++],H(W,Le+Xe,he,$e,ne),Xe=D(Xe,xe)}for(xe=Z+1,he=2;15>=xe;++xe,he<<=1){if(We+=ft<<=1,0>(ft-=fe[xe]))return 0;for(;0<fe[xe];--fe[xe]){if(ne=new P,(Xe&je)!=Me){for(Le+=$e,Ee=1<<(Me=xe)-Z;15>Me&&!(0>=(Ee-=fe[Me]));)++Me,Ee<<=1;Ne+=$e=1<<(Ee=Me-Z),W[G+(Me=Xe&je)].g=Ee+Z,W[G+Me].value=Le-G-Me}ne.g=xe-Z,ne.value=we[ge++],H(W,Le+(Xe>>Z),he,$e,ne),Xe=D(Xe,xe)}}return We!=2*me[15]-1?0:Ne}(m,x,k,j,I,q)}function P(){this.value=this.g=0}function U(){this.value=this.g=0}function z(){this.G=o(5,P),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Rr,U)}function Y(m,x,k,j){e(m!=null),e(x!=null),e(2147483648>j),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=k,m.Jd=x,m.Yc=k+j,m.Zc=4<=j?k+j-4+1:k,oe(m)}function O(m,x){for(var k=0;0<x--;)k|=pe(m,128)<<x;return k}function $(m,x){var k=O(m,x);return ae(m)?-k:k}function B(m,x,k,j){var I,q=0;for(e(m!=null),e(x!=null),e(4294967288>j),m.Sb=j,m.Ra=0,m.u=0,m.h=0,4<j&&(j=4),I=0;I<j;++I)q+=x[k+I]<<8*I;m.Ra=q,m.bb=j,m.oa=x,m.pa=k}function J(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<qd-8>>>0,++m.bb,m.u-=8;K(m)&&(m.h=1,m.u=0)}function re(m,x){if(e(0<=x),!m.h&&x<=Bd){var k=F(m)&zd[x];return m.u+=x,J(m),k}return m.h=1,m.u=0}function X(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(m){return m.Ra>>>(m.u&qd-1)>>>0}function K(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>qd}function ee(m,x){m.u=x,m.h=K(m)}function se(m){m.u>=wp&&(e(m.u>=wp),J(m))}function oe(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ae(m){return O(m,1)}function pe(m,x){var k=m.Ca;0>m.b&&oe(m);var j=m.b,I=k*x>>>8,q=(m.I>>>j>I)+0;for(q?(k-=I,m.I-=I+1<<j>>>0):k=I+1,j=k,I=0;256<=j;)I+=8,j>>=8;return j=7^I+Es[j],m.b-=j,m.Ca=(k<<j)-1,q}function _e(m,x,k){m[x+0]=k>>24&255,m[x+1]=k>>16&255,m[x+2]=k>>8&255,m[x+3]=k>>0&255}function be(m,x){return m[x+0]<<0|m[x+1]<<8}function Ce(m,x){return be(m,x)|m[x+2]<<16}function Fe(m,x){return be(m,x)|be(m,x+2)<<16}function et(m,x){var k=1<<x;return e(m!=null),e(0<x),m.X=i(k),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function de(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),r(x.X,0,m.X,0,1<<x.Xa)}function Q(){this.X=[],this.Xa=this.Mb=0}function Ge(m,x,k,j){e(k!=null),e(j!=null);var I=k[0],q=j[0];return I==0&&(I=(m*q+x/2)/x),q==0&&(q=(x*I+m/2)/m),0>=I||0>=q?0:(k[0]=I,j[0]=q,1)}function qe(m,x){return m+(1<<x)-1>>>x}function Se(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function Re(m,x){A[x]=function(k,j,I,q,W,G,Z){var ne;for(ne=0;ne<W;++ne){var he=A[m](G[Z+ne-1],I,q+ne);G[Z+ne]=Se(k[j+ne],he)}}}function Be(){this.ud=this.hd=this.jd=0}function te(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function le(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function ve(m,x){return le(m+(m-x+.5>>1))}function Pe(m,x,k){return Math.abs(x-k)-Math.abs(m-k)}function Te(m,x,k,j,I,q,W){for(j=q[W-1],k=0;k<I;++k)q[W+k]=j=Se(m[x+k],j)}function Ae(m,x,k,j,I){var q;for(q=0;q<k;++q){var W=m[x+q],G=W>>8&255,Z=16711935&(Z=(Z=16711935&W)+((G<<16)+G));j[I+q]=(4278255360&W)+Z>>>0}}function Ie(m,x){x.jd=m>>0&255,x.hd=m>>8&255,x.ud=m>>16&255}function Ue(m,x,k,j,I,q){var W;for(W=0;W<j;++W){var G=x[k+W],Z=G>>>8,ne=G,he=255&(he=(he=G>>>16)+((m.jd<<24>>24)*(Z<<24>>24)>>>5));ne=255&(ne=(ne=ne+((m.hd<<24>>24)*(Z<<24>>24)>>>5))+((m.ud<<24>>24)*(he<<24>>24)>>>5)),I[q+W]=(4278255360&G)+(he<<16)+ne}}function st(m,x,k,j,I){A[x]=function(q,W,G,Z,ne,he,we,xe,ge){for(Z=we;Z<xe;++Z)for(we=0;we<ge;++we)ne[he++]=I(G[j(q[W++])])},A[m]=function(q,W,G,Z,ne,he,we){var xe=8>>q.b,ge=q.Ea,Le=q.K[0],Ne=q.w;if(8>xe)for(q=(1<<q.b)-1,Ne=(1<<xe)-1;W<G;++W){var fe,me=0;for(fe=0;fe<ge;++fe)fe&q||(me=j(Z[ne++])),he[we++]=I(Le[me&Ne]),me>>=xe}else A["VP8LMapColor"+k](Z,ne,Le,Ne,he,we,W,G,ge)}}function De(m,x,k,j,I){for(k=x+k;x<k;){var q=m[x++];j[I++]=q>>16&255,j[I++]=q>>8&255,j[I++]=q>>0&255}}function mn(m,x,k,j,I){for(k=x+k;x<k;){var q=m[x++];j[I++]=q>>16&255,j[I++]=q>>8&255,j[I++]=q>>0&255,j[I++]=q>>24&255}}function Mt(m,x,k,j,I){for(k=x+k;x<k;){var q=(W=m[x++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;j[I++]=q,j[I++]=W}}function as(m,x,k,j,I){for(k=x+k;x<k;){var q=(W=m[x++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;j[I++]=q,j[I++]=W}}function Qt(m,x,k,j,I){for(k=x+k;x<k;){var q=m[x++];j[I++]=q>>0&255,j[I++]=q>>8&255,j[I++]=q>>16&255}}function dn(m,x,k,j,I,q){if(q==0)for(k=x+k;x<k;)_e(j,((q=m[x++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),I+=32;else r(j,I,m,x,k)}function hi(m,x){A[x][0]=A[m+"0"],A[x][1]=A[m+"1"],A[x][2]=A[m+"2"],A[x][3]=A[m+"3"],A[x][4]=A[m+"4"],A[x][5]=A[m+"5"],A[x][6]=A[m+"6"],A[x][7]=A[m+"7"],A[x][8]=A[m+"8"],A[x][9]=A[m+"9"],A[x][10]=A[m+"10"],A[x][11]=A[m+"11"],A[x][12]=A[m+"12"],A[x][13]=A[m+"13"],A[x][14]=A[m+"0"],A[x][15]=A[m+"0"]}function qt(m){return m==Zw||m==Xw||m==V0||m==Qw}function eu(){this.eb=[],this.size=this.A=this.fb=0}function On(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Fi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new eu,this.f.kb=new On,this.sd=null}function Na(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function In(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function St(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Kt(m,x){var k=m.T,j=x.ba.f.RGBA,I=j.eb,q=j.fb+m.ka*j.A,W=wi[x.ba.S],G=m.y,Z=m.O,ne=m.f,he=m.N,we=m.ea,xe=m.W,ge=x.cc,Le=x.dc,Ne=x.Mc,fe=x.Nc,me=m.ka,Ee=m.ka+m.T,Me=m.U,je=Me+1>>1;for(me==0?W(G,Z,null,null,ne,he,we,xe,ne,he,we,xe,I,q,null,null,Me):(W(x.ec,x.fc,G,Z,ge,Le,Ne,fe,ne,he,we,xe,I,q-j.A,I,q,Me),++k);me+2<Ee;me+=2)ge=ne,Le=he,Ne=we,fe=xe,he+=m.Rc,xe+=m.Rc,q+=2*j.A,W(G,(Z+=2*m.fa)-m.fa,G,Z,ge,Le,Ne,fe,ne,he,we,xe,I,q-j.A,I,q,Me);return Z+=m.fa,m.j+Ee<m.o?(r(x.ec,x.fc,G,Z,Me),r(x.cc,x.dc,ne,he,je),r(x.Mc,x.Nc,we,xe,je),k--):1&Ee||W(G,Z,null,null,ne,he,we,xe,ne,he,we,xe,I,q+j.A,null,null,Me),k}function tu(m,x,k){var j=m.F,I=[m.J];if(j!=null){var q=m.U,W=x.ba.S,G=W==F0||W==V0;x=x.ba.f.RGBA;var Z=[0],ne=m.ka;Z[0]=m.T,m.Kb&&(ne==0?--Z[0]:(--ne,I[0]-=m.width),m.j+m.ka+m.T==m.o&&(Z[0]=m.o-m.j-ne));var he=x.eb;ne=x.fb+ne*x.A,m=vn(j,I[0],m.width,q,Z,he,ne+(G?0:3),x.A),e(k==Z),m&&qt(W)&&vi(he,ne,G,q,Z,x.A)}return 0}function Lr(m){var x=m.ma,k=x.ba.S,j=11>k,I=k==O0||k==I0||k==F0||k==Kw||k==12||qt(k);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!vp(x.Oa,m,I?11:12))return 0;if(I&&qt(k)&&Oe(),m.da)alert("todo:use_scaling");else{if(j){if(x.Ib=St,m.Kb){if(k=m.U+1>>1,x.memory=i(m.U+2*k),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+k,x.Ib=Kt,Oe()}}else alert("todo:EmitYUV");I&&(x.Jb=tu,j&&ye())}if(j&&!LN){for(m=0;256>m;++m)yF[m]=89858*(m-128)+B0>>z0,bF[m]=-22014*(m-128)+B0,xF[m]=-45773*(m-128),wF[m]=113618*(m-128)+B0>>z0;for(m=Cp;m<tx;++m)x=76283*(m-16)+B0>>z0,_F[m-Cp]=Hs(x,255),SF[m-Cp]=Hs(x+8>>4,15);LN=1}return 1}function Lo(m){var x=m.ma,k=m.U,j=m.T;return e(!(1&m.ka)),0>=k||0>=j?0:(k=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,k),x.Dc+=k,1)}function Ro(m){m.ma.memory=null}function gt(m,x,k,j){return re(m,8)!=47?0:(x[0]=re(m,14)+1,k[0]=re(m,14)+1,j[0]=re(m,1),re(m,3)!=0?0:!m.h)}function Vi(m,x){if(4>m)return m+1;var k=m-2>>1;return(2+(1&m)<<k)+re(x,k)+1}function Mo(m,x){return 120<x?x-120:1<=(k=((k=sF[x-1])>>4)*m+(8-(15&k)))?k:1;var k}function Ts(m,x,k){var j=F(k),I=m[x+=255&j].g-8;return 0<I&&(ee(k,k.u+8),j=F(k),x+=m[x].value,x+=j&(1<<I)-1),ee(k,k.u+m[x].g),m[x].value}function pr(m,x,k){return k.g+=m.g,k.value+=m.value<<x>>>0,e(8>=k.g),m.g}function or(m,x,k){var j=m.xc;return e((x=j==0?0:m.vc[m.md*(k>>j)+(x>>j)])<m.Wb),m.Ya[x]}function $s(m,x,k,j){var I=m.ab,q=m.c*x,W=m.C;x=W+x;var G=k,Z=j;for(j=m.Ta,k=m.Ua;0<I--;){var ne=m.gc[I],he=W,we=x,xe=G,ge=Z,Le=(Z=j,G=k,ne.Ea);switch(e(he<we),e(we<=ne.nc),ne.hc){case 2:P0(xe,ge,(we-he)*Le,Z,G);break;case 0:var Ne=he,fe=we,me=Z,Ee=G,Me=($e=ne).Ea;Ne==0&&(Gw(xe,ge,null,null,1,me,Ee),Te(xe,ge+1,0,0,Me-1,me,Ee+1),ge+=Me,Ee+=Me,++Ne);for(var je=1<<$e.b,Xe=je-1,We=qe(Me,$e.b),ft=$e.K,$e=$e.w+(Ne>>$e.b)*We;Ne<fe;){var Yt=ft,Jt=$e,Ut=1;for(xp(xe,ge,me,Ee-Me,1,me,Ee);Ut<Me;){var It=(Ut&~Xe)+je;It>Me&&(It=Me),(0,bl[Yt[Jt++]>>8&15])(xe,ge+ +Ut,me,Ee+Ut-Me,It-Ut,me,Ee+Ut),Ut=It}ge+=Me,Ee+=Me,++Ne&Xe||($e+=We)}we!=ne.nc&&r(Z,G-Le,Z,G+(we-he-1)*Le,Le);break;case 1:for(Le=xe,fe=ge,Me=(xe=ne.Ea)-(Ee=xe&~(me=(ge=1<<ne.b)-1)),Ne=qe(xe,ne.b),je=ne.K,ne=ne.w+(he>>ne.b)*Ne;he<we;){for(Xe=je,We=ne,ft=new Be,$e=fe+Ee,Yt=fe+xe;fe<$e;)Ie(Xe[We++],ft),au(ft,Le,fe,ge,Z,G),fe+=ge,G+=ge;fe<Yt&&(Ie(Xe[We++],ft),au(ft,Le,fe,Me,Z,G),fe+=Me,G+=Me),++he&me||(ne+=Ne)}break;case 3:if(xe==Z&&ge==G&&0<ne.b){for(fe=Z,xe=Le=G+(we-he)*Le-(Ee=(we-he)*qe(ne.Ea,ne.b)),ge=Z,me=G,Ne=[],Ee=(Me=Ee)-1;0<=Ee;--Ee)Ne[Ee]=ge[me+Ee];for(Ee=Me-1;0<=Ee;--Ee)fe[xe+Ee]=Ne[Ee];pi(ne,he,we,Z,Le,Z,G)}else pi(ne,he,we,xe,ge,Z,G)}G=j,Z=k}Z!=k&&r(j,k,G,Z,q)}function Sd(m,x){var k=m.V,j=m.Ba+m.c*m.C,I=x-m.C;if(e(x<=m.l.o),e(16>=I),0<I){var q=m.l,W=m.Ta,G=m.Ua,Z=q.width;if($s(m,I,k,j),I=G=[G],e((k=m.C)<(j=x)),e(q.v<q.va),j>q.o&&(j=q.o),k<q.j){var ne=q.j-k;k=q.j,I[0]+=ne*Z}if(k>=j?k=0:(I[0]+=4*q.v,q.ka=k-q.j,q.U=q.va-q.v,q.T=j-k,k=1),k){if(G=G[0],11>(k=m.ca).S){var he=k.f.RGBA,we=(j=k.S,I=q.U,q=q.T,ne=he.eb,he.A),xe=q;for(he=he.fb+m.Ma*he.A;0<xe--;){var ge=W,Le=G,Ne=I,fe=ne,me=he;switch(j){case D0:js(ge,Le,Ne,fe,me);break;case O0:ls(ge,Le,Ne,fe,me);break;case Zw:ls(ge,Le,Ne,fe,me),vi(fe,me,0,Ne,1,0);break;case _N:Pa(ge,Le,Ne,fe,me);break;case I0:dn(ge,Le,Ne,fe,me,1);break;case Xw:dn(ge,Le,Ne,fe,me,1),vi(fe,me,0,Ne,1,0);break;case F0:dn(ge,Le,Ne,fe,me,0);break;case V0:dn(ge,Le,Ne,fe,me,0),vi(fe,me,1,Ne,1,0);break;case Kw:_l(ge,Le,Ne,fe,me);break;case Qw:_l(ge,Le,Ne,fe,me),gn(fe,me,Ne,1,0);break;case SN:Ta(ge,Le,Ne,fe,me);break;default:e(0)}G+=Z,he+=we}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=k.height)}}m.C=x,e(m.C<=m.i)}function ka(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var k=m.Ya[x].G,j=m.Ya[x].H;if(0<k[1][j[1]+0].g||0<k[2][j[2]+0].g||0<k[3][j[3]+0].g)return 0}return 1}function zi(m,x,k,j,I,q){if(m.Z!=0){var W=m.qd,G=m.rd;for(e(Cl[m.Z]!=null);x<k;++x)Cl[m.Z](W,G,j,I,j,I,q),W=j,G=I,I+=q;m.qd=W,m.rd=G}}function Bi(m,x){var k=m.l.ma,j=k.Z==0||k.Z==1?m.l.j:m.C;if(j=m.C<j?j:m.C,e(x<=m.l.o),x>j){var I=m.l.width,q=k.ca,W=k.tb+I*j,G=m.V,Z=m.Ba+m.c*j,ne=m.gc;e(m.ab==1),e(ne[0].hc==3),E0(ne[0],j,x,G,Z,q,W),zi(k,j,x,q,W,I)}m.C=m.Ma=x}function qi(m,x,k,j,I,q,W){var G=m.$/j,Z=m.$%j,ne=m.m,he=m.s,we=k+m.$,xe=we;I=k+j*I;var ge=k+j*q,Le=280+he.ua,Ne=m.Pb?G:16777216,fe=0<he.ua?he.Wa:null,me=he.wc,Ee=we<ge?or(he,Z,G):null;e(m.C<q),e(ge<=I);var Me=!1;e:for(;;){for(;Me||we<ge;){var je=0;if(G>=Ne){var Xe=we-k;e((Ne=m).Pb),Ne.wd=Ne.m,Ne.xd=Xe,0<Ne.s.ua&&de(Ne.s.Wa,Ne.s.vb),Ne=G+oF}if(Z&me||(Ee=or(he,Z,G)),e(Ee!=null),Ee.Qb&&(x[we]=Ee.qb,Me=!0),!Me)if(se(ne),Ee.jc){je=ne,Xe=x;var We=we,ft=Ee.pd[F(je)&Rr-1];e(Ee.jc),256>ft.g?(ee(je,je.u+ft.g),Xe[We]=ft.value,je=0):(ee(je,je.u+ft.g-256),e(256<=ft.value),je=ft.value),je==0&&(Me=!0)}else je=Ts(Ee.G[0],Ee.H[0],ne);if(ne.h)break;if(Me||256>je){if(!Me)if(Ee.nd)x[we]=(Ee.qb|je<<8)>>>0;else{if(se(ne),Me=Ts(Ee.G[1],Ee.H[1],ne),se(ne),Xe=Ts(Ee.G[2],Ee.H[2],ne),We=Ts(Ee.G[3],Ee.H[3],ne),ne.h)break;x[we]=(We<<24|Me<<16|je<<8|Xe)>>>0}if(Me=!1,++we,++Z>=j&&(Z=0,++G,W!=null&&G<=q&&!(G%16)&&W(m,G),fe!=null))for(;xe<we;)je=x[xe++],fe.X[(506832829*je&4294967295)>>>fe.Mb]=je}else if(280>je){if(je=Vi(je-256,ne),Xe=Ts(Ee.G[4],Ee.H[4],ne),se(ne),Xe=Mo(j,Xe=Vi(Xe,ne)),ne.h)break;if(we-k<Xe||I-we<je)break e;for(We=0;We<je;++We)x[we+We]=x[we+We-Xe];for(we+=je,Z+=je;Z>=j;)Z-=j,++G,W!=null&&G<=q&&!(G%16)&&W(m,G);if(e(we<=I),Z&me&&(Ee=or(he,Z,G)),fe!=null)for(;xe<we;)je=x[xe++],fe.X[(506832829*je&4294967295)>>>fe.Mb]=je}else{if(!(je<Le))break e;for(Me=je-280,e(fe!=null);xe<we;)je=x[xe++],fe.X[(506832829*je&4294967295)>>>fe.Mb]=je;je=we,e(!(Me>>>(Xe=fe).Xa)),x[je]=Xe.X[Me],Me=!0}Me||e(ne.h==K(ne))}if(m.Pb&&ne.h&&we<I)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&de(m.s.vb,m.s.Wa);else{if(ne.h)break e;W!=null&&W(m,G>q?q:G),m.a=0,m.$=we-k}return 1}return m.a=3,0}function Do(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function fi(){var m=new Hw;return m==null?null:(m.a=0,m.xb=CN,hi("Predictor","VP8LPredictors"),hi("Predictor","VP8LPredictors_C"),hi("PredictorAdd","VP8LPredictorsAdd"),hi("PredictorAdd","VP8LPredictorsAdd_C"),P0=Ae,au=Ue,js=De,ls=mn,_l=Mt,Ta=as,Pa=Qt,A.VP8LMapColor32b=Ud,A.VP8LMapColor8b=j0,m)}function Oo(m,x,k,j,I){var q=1,W=[m],G=[x],Z=j.m,ne=j.s,he=null,we=0;e:for(;;){if(k)for(;q&&re(Z,1);){var xe=W,ge=G,Le=j,Ne=1,fe=Le.m,me=Le.gc[Le.ab],Ee=re(fe,2);if(Le.Oc&1<<Ee)q=0;else{switch(Le.Oc|=1<<Ee,me.hc=Ee,me.Ea=xe[0],me.nc=ge[0],me.K=[null],++Le.ab,e(4>=Le.ab),Ee){case 0:case 1:me.b=re(fe,3)+2,Ne=Oo(qe(me.Ea,me.b),qe(me.nc,me.b),0,Le,me.K),me.K=me.K[0];break;case 3:var Me,je=re(fe,8)+1,Xe=16<je?0:4<je?1:2<je?2:3;if(xe[0]=qe(me.Ea,Xe),me.b=Xe,Me=Ne=Oo(je,1,0,Le,me.K)){var We,ft=je,$e=me,Yt=1<<(8>>$e.b),Jt=i(Yt);if(Jt==null)Me=0;else{var Ut=$e.K[0],It=$e.w;for(Jt[0]=$e.K[0][0],We=1;We<1*ft;++We)Jt[We]=Se(Ut[It+We],Jt[We-1]);for(;We<4*Yt;++We)Jt[We]=0;$e.K[0]=null,$e.K[0]=Jt,Me=1}}Ne=Me;break;case 2:break;default:e(0)}q=Ne}}if(W=W[0],G=G[0],q&&re(Z,1)&&!(q=1<=(we=re(Z,4))&&11>=we)){j.a=3;break e}var hn;if(hn=q)t:{var on,At,lr,Ls=j,cr=W,Rs=G,en=we,Ys=k,Ks=Ls.m,Sr=Ls.s,Mr=[null],us=1,xi=0,zo=iF[en];n:for(;;){if(Ys&&re(Ks,1)){var Nr=re(Ks,3)+2,Ra=qe(cr,Nr),hu=qe(Rs,Nr),Yd=Ra*hu;if(!Oo(Ra,hu,0,Ls,Mr))break n;for(Mr=Mr[0],Sr.xc=Nr,on=0;on<Yd;++on){var Al=Mr[on]>>8&65535;Mr[on]=Al,Al>=us&&(us=Al+1)}}if(Ks.h)break n;for(At=0;5>At;++At){var Vn=NN[At];!At&&0<en&&(Vn+=1<<en),xi<Vn&&(xi=Vn)}var nx=o(us*zo,P),DN=us,ON=o(DN,z);if(ON==null)var U0=null;else e(65536>=DN),U0=ON;var Ap=i(xi);if(U0==null||Ap==null||nx==null){Ls.a=1;break n}var W0=nx;for(on=lr=0;on<us;++on){var Gi=U0[on],Kd=Gi.G,Zd=Gi.H,IN=0,$0=1,FN=0;for(At=0;5>At;++At){Vn=NN[At],Kd[At]=W0,Zd[At]=lr,!At&&0<en&&(Vn+=1<<en);s:{var H0,rx=Vn,G0=Ls,Tp=Ap,CF=W0,AF=lr,sx=0,Tl=G0.m,TF=re(Tl,1);if(s(Tp,0,0,rx),TF){var PF=re(Tl,1)+1,EF=re(Tl,1),VN=re(Tl,EF==0?1:8);Tp[VN]=1,PF==2&&(Tp[VN=re(Tl,8)]=1);var Y0=1}else{var zN=i(19),BN=re(Tl,4)+4;if(19<BN){G0.a=3;var K0=0;break s}for(H0=0;H0<BN;++H0)zN[rF[H0]]=re(Tl,3);var ix=void 0,Pp=void 0,qN=G0,jF=zN,Z0=rx,UN=Tp,ox=0,Pl=qN.m,WN=8,$N=o(128,P);r:for(;L($N,0,7,jF,19);){if(re(Pl,1)){var LF=2+2*re(Pl,3);if((ix=2+re(Pl,LF))>Z0)break r}else ix=Z0;for(Pp=0;Pp<Z0&&ix--;){se(Pl);var HN=$N[0+(127&F(Pl))];ee(Pl,Pl.u+HN.g);var Xd=HN.value;if(16>Xd)UN[Pp++]=Xd,Xd!=0&&(WN=Xd);else{var RF=Xd==16,GN=Xd-16,MF=tF[GN],YN=re(Pl,eF[GN])+MF;if(Pp+YN>Z0)break r;for(var DF=RF?WN:0;0<YN--;)UN[Pp++]=DF}}ox=1;break r}ox||(qN.a=3),Y0=ox}(Y0=Y0&&!Tl.h)&&(sx=L(CF,AF,8,Tp,rx)),Y0&&sx!=0?K0=sx:(G0.a=3,K0=0)}if(K0==0)break n;if($0&&nF[At]==1&&($0=W0[lr].g==0),IN+=W0[lr].g,lr+=K0,3>=At){var Ep,ax=Ap[0];for(Ep=1;Ep<Vn;++Ep)Ap[Ep]>ax&&(ax=Ap[Ep]);FN+=ax}}if(Gi.nd=$0,Gi.Qb=0,$0&&(Gi.qb=(Kd[3][Zd[3]+0].value<<24|Kd[1][Zd[1]+0].value<<16|Kd[2][Zd[2]+0].value)>>>0,IN==0&&256>Kd[0][Zd[0]+0].value&&(Gi.Qb=1,Gi.qb+=Kd[0][Zd[0]+0].value<<8)),Gi.jc=!Gi.Qb&&6>FN,Gi.jc){var X0,Ma=Gi;for(X0=0;X0<Rr;++X0){var El=X0,jl=Ma.pd[El],Q0=Ma.G[0][Ma.H[0]+El];256<=Q0.value?(jl.g=Q0.g+256,jl.value=Q0.value):(jl.g=0,jl.value=0,El>>=pr(Q0,8,jl),El>>=pr(Ma.G[1][Ma.H[1]+El],16,jl),El>>=pr(Ma.G[2][Ma.H[2]+El],0,jl),pr(Ma.G[3][Ma.H[3]+El],24,jl))}}}Sr.vc=Mr,Sr.Wb=us,Sr.Ya=U0,Sr.yc=nx,hn=1;break t}hn=0}if(!(q=hn)){j.a=3;break e}if(0<we){if(ne.ua=1<<we,!et(ne.Wa,we)){j.a=1,q=0;break e}}else ne.ua=0;var lx=j,KN=W,OF=G,cx=lx.s,ux=cx.xc;if(lx.c=KN,lx.i=OF,cx.md=qe(KN,ux),cx.wc=ux==0?-1:(1<<ux)-1,k){j.xb=fF;break e}if((he=i(W*G))==null){j.a=1,q=0;break e}q=(q=qi(j,he,0,W,G,G,null))&&!Z.h;break e}return q?(I!=null?I[0]=he:(e(he==null),e(k)),j.$=0,k||Do(ne)):Do(ne),q}function nu(m,x){var k=m.c*m.i,j=k+x+16*x;return e(m.c<=x),m.V=i(j),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+k+x,1)}function Nd(m,x){var k=m.C,j=x-k,I=m.V,q=m.Ba+m.c*k;for(e(x<=m.l.o);0<j;){var W=16<j?16:j,G=m.l.ma,Z=m.l.width,ne=Z*W,he=G.ca,we=G.tb+Z*k,xe=m.Ta,ge=m.Ua;$s(m,W,I,q),Zn(xe,ge,he,we,ne),zi(G,k,k+W,he,we,Z),j-=W,I+=W*m.c,k+=W}e(k==x),m.C=m.Ma=x}function kd(){this.ub=this.yd=this.td=this.Rb=0}function Cd(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ad(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function c0(){this.Yb=function(){var m=[];return function x(k,j,I){for(var q=I[j],W=0;W<q&&(k.push(I.length>j+1?[]:0),!(I.length<j+1));W++)x(k[W],j+1,I)}(m,0,[3,11]),m}()}function Sw(){this.jb=i(3),this.Wc=a([4,8],c0),this.Xc=a([4,17],c0)}function Nw(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Td(){this.ld=this.La=this.dd=this.tc=0}function u0(){this.Na=this.la=0}function kw(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function tp(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Cw(){this.uc=this.M=this.Nb=0,this.wa=Array(new Td),this.Y=0,this.ya=Array(new tp),this.aa=0,this.l=new Pd}function d0(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Aw(){this.cb=this.a=0,this.sc="",this.m=new X,this.Od=new kd,this.Kc=new Cd,this.ed=new Nw,this.Qa=new Ad,this.Ic=this.$c=this.Aa=0,this.D=new Cw,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,X),this.ia=0,this.pb=o(4,kw),this.Pa=new Sw,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new d0),this.Hd=0,this.rb=Array(new u0),this.sb=0,this.wa=Array(new Td),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new tp),this.L=this.aa=0,this.gd=a([4,2],Td),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Tw(){var m=new Aw;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,kp||(kp=p0)),m}function Yn(m,x,k){return m.a==0&&(m.a=x,m.sc=k,m.cb=0),0}function h0(m,x,k){return 3<=k&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function f0(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return Yn(m,2,"null VP8Io passed to VP8GetHeaders()");var k=x.data,j=x.w,I=x.ha;if(4>I)return Yn(m,7,"Truncated header.");var q=k[j+0]|k[j+1]<<8|k[j+2]<<16,W=m.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return Yn(m,3,"Incorrect keyframe parameters.");if(!W.yd)return Yn(m,4,"Frame not displayable.");j+=3,I-=3;var G=m.Kc;if(W.Rb){if(7>I)return Yn(m,7,"cannot parse picture header");if(!h0(k,j,I))return Yn(m,3,"Bad code word");G.c=16383&(k[j+4]<<8|k[j+3]),G.Td=k[j+4]>>6,G.i=16383&(k[j+6]<<8|k[j+5]),G.Ud=k[j+6]>>6,j+=7,I-=7,m.za=G.c+15>>4,m.Ub=G.i+15>>4,x.width=G.c,x.height=G.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,s((q=m.Pa).jb,0,255,q.jb.length),e((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,s(q.Zb,0,0,q.Zb.length),s(q.Lb,0,0,q.Lb)}if(W.ub>I)return Yn(m,7,"bad partition length");Y(q=m.m,k,j,W.ub),j+=W.ub,I-=W.ub,W.Rb&&(G.Ld=ae(q),G.Kd=ae(q)),G=m.Qa;var Z,ne=m.Pa;if(e(q!=null),e(G!=null),G.Cb=ae(q),G.Cb){if(G.Bb=ae(q),ae(q)){for(G.Fb=ae(q),Z=0;4>Z;++Z)G.Zb[Z]=ae(q)?$(q,7):0;for(Z=0;4>Z;++Z)G.Lb[Z]=ae(q)?$(q,6):0}if(G.Bb)for(Z=0;3>Z;++Z)ne.jb[Z]=ae(q)?O(q,8):255}else G.Bb=0;if(q.Ka)return Yn(m,3,"cannot parse segment header");if((G=m.ed).zd=ae(q),G.Tb=O(q,6),G.wb=O(q,3),G.Pc=ae(q),G.Pc&&ae(q)){for(ne=0;4>ne;++ne)ae(q)&&(G.vd[ne]=$(q,6));for(ne=0;4>ne;++ne)ae(q)&&(G.od[ne]=$(q,6))}if(m.L=G.Tb==0?0:G.zd?1:2,q.Ka)return Yn(m,3,"cannot parse filter header");var he=I;if(I=Z=j,j=Z+he,G=he,m.Xb=(1<<O(m.m,2))-1,he<3*(ne=m.Xb))k=7;else{for(Z+=3*ne,G-=3*ne,he=0;he<ne;++he){var we=k[I+0]|k[I+1]<<8|k[I+2]<<16;we>G&&(we=G),Y(m.Jc[+he],k,Z,we),Z+=we,G-=we,I+=3}Y(m.Jc[+ne],k,Z,G),k=Z<j?0:5}if(k!=0)return Yn(m,k,"cannot parse partitions");for(k=O(Z=m.m,7),I=ae(Z)?$(Z,4):0,j=ae(Z)?$(Z,4):0,G=ae(Z)?$(Z,4):0,ne=ae(Z)?$(Z,4):0,Z=ae(Z)?$(Z,4):0,he=m.Qa,we=0;4>we;++we){if(he.Cb){var xe=he.Zb[we];he.Fb||(xe+=k)}else{if(0<we){m.pb[we]=m.pb[0];continue}xe=k}var ge=m.pb[we];ge.Sc[0]=Jw[Hs(xe+I,127)],ge.Sc[1]=ex[Hs(xe+0,127)],ge.Eb[0]=2*Jw[Hs(xe+j,127)],ge.Eb[1]=101581*ex[Hs(xe+G,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=Jw[Hs(xe+ne,117)],ge.Qc[1]=ex[Hs(xe+Z,127)],ge.lc=xe+Z}if(!W.Rb)return Yn(m,4,"Not a key frame.");for(ae(q),W=m.Pa,k=0;4>k;++k){for(I=0;8>I;++I)for(j=0;3>j;++j)for(G=0;11>G;++G)ne=pe(q,dF[k][I][j][G])?O(q,8):cF[k][I][j][G],W.Wc[k][I].Yb[j][G]=ne;for(I=0;17>I;++I)W.Xc[k][I]=W.Wc[k][hF[I]]}return m.kc=ae(q),m.kc&&(m.Bd=O(q,8)),m.cb=1}function p0(m,x,k,j,I,q,W){var G=x[I].Yb[k];for(k=0;16>I;++I){if(!pe(m,G[k+0]))return I;for(;!pe(m,G[k+1]);)if(G=x[++I].Yb[0],k=0,I==16)return 16;var Z=x[I+1].Yb;if(pe(m,G[k+2])){var ne=m,he=0;if(pe(ne,(xe=G)[(we=k)+3]))if(pe(ne,xe[we+6])){for(G=0,we=2*(he=pe(ne,xe[we+8]))+(xe=pe(ne,xe[we+9+he])),he=0,xe=aF[we];xe[G];++G)he+=he+pe(ne,xe[G]);he+=3+(8<<we)}else pe(ne,xe[we+7])?(he=7+2*pe(ne,165),he+=pe(ne,145)):he=5+pe(ne,159);else he=pe(ne,xe[we+4])?3+pe(ne,xe[we+5]):2;G=Z[2]}else he=1,G=Z[1];Z=W+lF[I],0>(ne=m).b&&oe(ne);var we,xe=ne.b,ge=(we=ne.Ca>>1)-(ne.I>>xe)>>31;--ne.b,ne.Ca+=ge,ne.Ca|=1,ne.I-=(we+1&ge)<<xe,q[Z]=((he^ge)-ge)*j[(0<I)+0]}return 16}function np(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function Pw(m,x){if(m==null)return 0;if(x==null)return Yn(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!f0(m,x))return 0;if(e(m.cb),x.ac==null||x.ac(x)){x.ob&&(m.L=0);var k=q0[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=x.v-k>>4,m.zb=x.j-k>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=x.o+15+k>>4,m.Hb=x.va+15+k>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var j=m.ed;for(k=0;4>k;++k){var I;if(m.Qa.Cb){var q=m.Qa.Lb[k];m.Qa.Fb||(q+=j.Tb)}else q=j.Tb;for(I=0;1>=I;++I){var W=m.gd[k][I],G=q;if(j.Pc&&(G+=j.vd[0],I&&(G+=j.od[0])),0<(G=0>G?0:63<G?63:G)){var Z=G;0<j.wb&&(Z=4<j.wb?Z>>2:Z>>1)>9-j.wb&&(Z=9-j.wb),1>Z&&(Z=1),W.dd=Z,W.tc=2*G+Z,W.ld=40<=G?2:15<=G?1:0}else W.tc=0;W.La=I}}}k=0}else Yn(m,6,"Frame setup failed"),k=m.a;if(k=k==0){if(k){m.$c=0,0<m.Aa||(m.Ic=kF);e:{k=m.Ic,j=4*(Z=m.za);var ne=32*Z,he=Z+1,we=0<m.L?Z*(0<m.Aa?2:1):0,xe=(m.Aa==2?2:1)*Z;if((W=j+832+(I=3*(16*k+q0[m.L])/2*ne)+(q=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=W)k=0;else{if(W>m.Vb){if(m.Vb=0,m.Ec=i(W),m.Fc=0,m.Ec==null){k=Yn(m,1,"no memory during frame initialization.");break e}m.Vb=W}W=m.Ec,G=m.Fc,m.Ac=W,m.Bc=G,G+=j,m.Gd=o(ne,d0),m.Hd=0,m.rb=o(he+1,u0),m.sb=1,m.wa=we?o(we,Td):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=Z),e(!0),m.oc=W,m.pc=G,G+=832,m.ya=o(xe,tp),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=Z),m.R=16*Z,m.B=8*Z,Z=(ne=q0[m.L])*m.R,ne=ne/2*m.B,m.sa=W,m.ta=G+Z,m.qa=m.sa,m.ra=m.ta+16*k*m.R+ne,m.Ha=m.qa,m.Ia=m.ra+8*k*m.B+ne,m.$c=0,G+=I,m.mb=q?W:null,m.nb=q?G:null,e(G+q<=m.Fc+m.Vb),np(m),s(m.Ac,m.Bc,0,j),k=1}}if(k){if(x.ka=0,x.y=m.sa,x.O=m.ta,x.f=m.qa,x.N=m.ra,x.ea=m.Ha,x.Vd=m.Ia,x.fa=m.R,x.Rc=m.B,x.F=null,x.J=0,!R0){for(k=-255;255>=k;++k)mr[255+k]=0>k?-k:k;for(k=-1020;1020>=k;++k)ja[1020+k]=-128>k?-128:127<k?127:k;for(k=-112;112>=k;++k)Np[112+k]=-16>k?-16:15<k?15:k;for(k=-255;510>=k;++k)Gd[255+k]=0>k?0:255<k?255:k;R0=1}Wd=Lw,Ea=Ew,bp=g0,cs=jw,mi=v0,Kn=m0,$d=lp,L0=iu,_p=$w,lu=cp,cu=Ww,Sl=Dd,uu=up,Hd=C0,du=k0,Nl=Fo,Sp=Aa,gi=Uw,Hi[0]=Io,Hi[1]=Rw,Hi[2]=Iw,Hi[3]=Fw,Hi[4]=x0,Hi[5]=Rd,Hi[6]=b0,Hi[7]=ip,Hi[8]=zw,Hi[9]=Vw,kl[0]=y0,kl[1]=Dw,kl[2]=Ca,kl[3]=jd,kl[4]=Ur,kl[5]=Ow,kl[6]=w0,La[0]=yl,La[1]=Mw,La[2]=Bw,La[3]=op,La[4]=su,La[5]=qw,La[6]=ap,k=1}else k=0}k&&(k=function(ge,Le){for(ge.M=0;ge.M<ge.Va;++ge.M){var Ne,fe=ge.Jc[ge.M&ge.Xb],me=ge.m,Ee=ge;for(Ne=0;Ne<Ee.za;++Ne){var Me=me,je=Ee,Xe=je.Ac,We=je.Bc+4*Ne,ft=je.zc,$e=je.ya[je.aa+Ne];if(je.Qa.Bb?$e.$b=pe(Me,je.Pa.jb[0])?2+pe(Me,je.Pa.jb[2]):pe(Me,je.Pa.jb[1]):$e.$b=0,je.kc&&($e.Ad=pe(Me,je.Bd)),$e.Za=!pe(Me,145)+0,$e.Za){var Yt=$e.Ob,Jt=0;for(je=0;4>je;++je){var Ut,It=ft[0+je];for(Ut=0;4>Ut;++Ut){It=uF[Xe[We+Ut]][It];for(var hn=kN[pe(Me,It[0])];0<hn;)hn=kN[2*hn+pe(Me,It[hn])];It=-hn,Xe[We+Ut]=It}r(Yt,Jt,Xe,We,4),Jt+=4,ft[0+je]=It}}else It=pe(Me,156)?pe(Me,128)?1:3:pe(Me,163)?2:0,$e.Ob[0]=It,s(Xe,We,It,4),s(ft,0,It,4);$e.Dd=pe(Me,142)?pe(Me,114)?pe(Me,183)?1:3:2:0}if(Ee.m.Ka)return Yn(ge,7,"Premature end-of-partition0 encountered.");for(;ge.ja<ge.za;++ge.ja){if(Ee=fe,Me=(me=ge).rb[me.sb-1],Xe=me.rb[me.sb+me.ja],Ne=me.ya[me.aa+me.ja],We=me.kc?Ne.Ad:0)Me.la=Xe.la=0,Ne.Za||(Me.Na=Xe.Na=0),Ne.Hc=0,Ne.Gc=0,Ne.ia=0;else{var on,At;if(Me=Xe,Xe=Ee,We=me.Pa.Xc,ft=me.ya[me.aa+me.ja],$e=me.pb[ft.$b],je=ft.ad,Yt=0,Jt=me.rb[me.sb-1],It=Ut=0,s(je,Yt,0,384),ft.Za)var lr=0,Ls=We[3];else{hn=i(16);var cr=Me.Na+Jt.Na;if(cr=kp(Xe,We[1],cr,$e.Eb,0,hn,0),Me.Na=Jt.Na=(0<cr)+0,1<cr)Wd(hn,0,je,Yt);else{var Rs=hn[0]+3>>3;for(hn=0;256>hn;hn+=16)je[Yt+hn]=Rs}lr=1,Ls=We[0]}var en=15&Me.la,Ys=15&Jt.la;for(hn=0;4>hn;++hn){var Ks=1&Ys;for(Rs=At=0;4>Rs;++Rs)en=en>>1|(Ks=(cr=kp(Xe,Ls,cr=Ks+(1&en),$e.Sc,lr,je,Yt))>lr)<<7,At=At<<2|(3<cr?3:1<cr?2:je[Yt+0]!=0),Yt+=16;en>>=4,Ys=Ys>>1|Ks<<7,Ut=(Ut<<8|At)>>>0}for(Ls=en,lr=Ys>>4,on=0;4>on;on+=2){for(At=0,en=Me.la>>4+on,Ys=Jt.la>>4+on,hn=0;2>hn;++hn){for(Ks=1&Ys,Rs=0;2>Rs;++Rs)cr=Ks+(1&en),en=en>>1|(Ks=0<(cr=kp(Xe,We[2],cr,$e.Qc,0,je,Yt)))<<3,At=At<<2|(3<cr?3:1<cr?2:je[Yt+0]!=0),Yt+=16;en>>=2,Ys=Ys>>1|Ks<<5}It|=At<<4*on,Ls|=en<<4<<on,lr|=(240&Ys)<<on}Me.la=Ls,Jt.la=lr,ft.Hc=Ut,ft.Gc=It,ft.ia=43690&It?0:$e.ia,We=!(Ut|It)}if(0<me.L&&(me.wa[me.Y+me.ja]=me.gd[Ne.$b][Ne.Za],me.wa[me.Y+me.ja].La|=!We),Ee.Ka)return Yn(ge,7,"Premature end-of-file encountered.")}if(np(ge),me=Le,Ee=1,Ne=(fe=ge).D,Me=0<fe.L&&fe.M>=fe.zb&&fe.M<=fe.Va,fe.Aa==0)e:{if(Ne.M=fe.M,Ne.uc=Me,gp(fe,Ne),Ee=1,Ne=(At=fe.D).Nb,Me=(It=q0[fe.L])*fe.R,Xe=It/2*fe.B,hn=16*Ne*fe.R,Rs=8*Ne*fe.B,We=fe.sa,ft=fe.ta-Me+hn,$e=fe.qa,je=fe.ra-Xe+Rs,Yt=fe.Ha,Jt=fe.Ia-Xe+Rs,Ys=(en=At.M)==0,Ut=en>=fe.Va-1,fe.Aa==2&&gp(fe,At),At.uc)for(Ks=(cr=fe).D.M,e(cr.D.uc),At=cr.yb;At<cr.Hb;++At){lr=At,Ls=Ks;var Sr=(Mr=(Vn=cr).D).Nb;on=Vn.R;var Mr=Mr.wa[Mr.Y+lr],us=Vn.sa,xi=Vn.ta+16*Sr*on+16*lr,zo=Mr.dd,Nr=Mr.tc;if(Nr!=0)if(e(3<=Nr),Vn.L==1)0<lr&&Nl(us,xi,on,Nr+4),Mr.La&&gi(us,xi,on,Nr),0<Ls&&du(us,xi,on,Nr+4),Mr.La&&Sp(us,xi,on,Nr);else{var Ra=Vn.B,hu=Vn.qa,Yd=Vn.ra+8*Sr*Ra+8*lr,Al=Vn.Ha,Vn=Vn.Ia+8*Sr*Ra+8*lr;Sr=Mr.ld,0<lr&&(L0(us,xi,on,Nr+4,zo,Sr),lu(hu,Yd,Al,Vn,Ra,Nr+4,zo,Sr)),Mr.La&&(Sl(us,xi,on,Nr,zo,Sr),Hd(hu,Yd,Al,Vn,Ra,Nr,zo,Sr)),0<Ls&&($d(us,xi,on,Nr+4,zo,Sr),_p(hu,Yd,Al,Vn,Ra,Nr+4,zo,Sr)),Mr.La&&(cu(us,xi,on,Nr,zo,Sr),uu(hu,Yd,Al,Vn,Ra,Nr,zo,Sr))}}if(fe.ia&&alert("todo:DitherRow"),me.put!=null){if(At=16*en,en=16*(en+1),Ys?(me.y=fe.sa,me.O=fe.ta+hn,me.f=fe.qa,me.N=fe.ra+Rs,me.ea=fe.Ha,me.W=fe.Ia+Rs):(At-=It,me.y=We,me.O=ft,me.f=$e,me.N=je,me.ea=Yt,me.W=Jt),Ut||(en-=It),en>me.o&&(en=me.o),me.F=null,me.J=null,fe.Fa!=null&&0<fe.Fa.length&&At<en&&(me.J=pp(fe,me,At,en-At),me.F=fe.mb,me.F==null&&me.F.length==0)){Ee=Yn(fe,3,"Could not decode alpha data.");break e}At<me.j&&(It=me.j-At,At=me.j,e(!(1&It)),me.O+=fe.R*It,me.N+=fe.B*(It>>1),me.W+=fe.B*(It>>1),me.F!=null&&(me.J+=me.width*It)),At<en&&(me.O+=me.v,me.N+=me.v>>1,me.W+=me.v>>1,me.F!=null&&(me.J+=me.v),me.ka=At-me.j,me.U=me.va-me.v,me.T=en-At,Ee=me.put(me))}Ne+1!=fe.Ic||Ut||(r(fe.sa,fe.ta-Me,We,ft+16*fe.R,Me),r(fe.qa,fe.ra-Xe,$e,je+8*fe.B,Xe),r(fe.Ha,fe.Ia-Xe,Yt,Jt+8*fe.B,Xe))}if(!Ee)return Yn(ge,6,"Output aborted.")}return 1}(m,x)),x.bc!=null&&x.bc(x),k&=1}return k?(m.cb=0,k):0}function Ui(m,x,k,j,I){I=m[x+k+32*j]+(I>>3),m[x+k+32*j]=-256&I?0>I?0:255:I}function Ed(m,x,k,j,I,q){Ui(m,x,0,k,j+I),Ui(m,x,1,k,j+q),Ui(m,x,2,k,j-q),Ui(m,x,3,k,j-I)}function Ps(m){return(20091*m>>16)+m}function rp(m,x,k,j){var I,q=0,W=i(16);for(I=0;4>I;++I){var G=m[x+0]+m[x+8],Z=m[x+0]-m[x+8],ne=(35468*m[x+4]>>16)-Ps(m[x+12]),he=Ps(m[x+4])+(35468*m[x+12]>>16);W[q+0]=G+he,W[q+1]=Z+ne,W[q+2]=Z-ne,W[q+3]=G-he,q+=4,x++}for(I=q=0;4>I;++I)G=(m=W[q+0]+4)+W[q+8],Z=m-W[q+8],ne=(35468*W[q+4]>>16)-Ps(W[q+12]),Ui(k,j,0,0,G+(he=Ps(W[q+4])+(35468*W[q+12]>>16))),Ui(k,j,1,0,Z+ne),Ui(k,j,2,0,Z-ne),Ui(k,j,3,0,G-he),q++,j+=32}function m0(m,x,k,j){var I=m[x+0]+4,q=35468*m[x+4]>>16,W=Ps(m[x+4]),G=35468*m[x+1]>>16;Ed(k,j,0,I+W,m=Ps(m[x+1]),G),Ed(k,j,1,I+q,m,G),Ed(k,j,2,I-q,m,G),Ed(k,j,3,I-W,m,G)}function Ew(m,x,k,j,I){rp(m,x,k,j),I&&rp(m,x+16,k,j+4)}function g0(m,x,k,j){Ea(m,x+0,k,j,1),Ea(m,x+32,k,j+128,1)}function jw(m,x,k,j){var I;for(m=m[x+0]+4,I=0;4>I;++I)for(x=0;4>x;++x)Ui(k,j,x,I,m)}function v0(m,x,k,j){m[x+0]&&cs(m,x+0,k,j),m[x+16]&&cs(m,x+16,k,j+4),m[x+32]&&cs(m,x+32,k,j+128),m[x+48]&&cs(m,x+48,k,j+128+4)}function Lw(m,x,k,j){var I,q=i(16);for(I=0;4>I;++I){var W=m[x+0+I]+m[x+12+I],G=m[x+4+I]+m[x+8+I],Z=m[x+4+I]-m[x+8+I],ne=m[x+0+I]-m[x+12+I];q[0+I]=W+G,q[8+I]=W-G,q[4+I]=ne+Z,q[12+I]=ne-Z}for(I=0;4>I;++I)W=(m=q[0+4*I]+3)+q[3+4*I],G=q[1+4*I]+q[2+4*I],Z=q[1+4*I]-q[2+4*I],ne=m-q[3+4*I],k[j+0]=W+G>>3,k[j+16]=ne+Z>>3,k[j+32]=W-G>>3,k[j+48]=ne-Z>>3,j+=64}function sp(m,x,k){var j,I=x-32,q=Gs,W=255-m[I-1];for(j=0;j<k;++j){var G,Z=q,ne=W+m[x-1];for(G=0;G<k;++G)m[x+G]=Z[ne+m[I+G]];x+=32}}function Rw(m,x){sp(m,x,4)}function Mw(m,x){sp(m,x,8)}function Dw(m,x){sp(m,x,16)}function Ca(m,x){var k;for(k=0;16>k;++k)r(m,x+32*k,m,x-32,16)}function jd(m,x){var k;for(k=16;0<k;--k)s(m,x,m[x-1],16),x+=32}function Ld(m,x,k){var j;for(j=0;16>j;++j)s(x,k+32*j,m,16)}function y0(m,x){var k,j=16;for(k=0;16>k;++k)j+=m[x-1+32*k]+m[x+k-32];Ld(j>>5,m,x)}function Ur(m,x){var k,j=8;for(k=0;16>k;++k)j+=m[x-1+32*k];Ld(j>>4,m,x)}function Ow(m,x){var k,j=8;for(k=0;16>k;++k)j+=m[x+k-32];Ld(j>>4,m,x)}function w0(m,x){Ld(128,m,x)}function _t(m,x,k){return m+2*x+k+2>>2}function Iw(m,x){var k,j=x-32;for(j=new Uint8Array([_t(m[j-1],m[j+0],m[j+1]),_t(m[j+0],m[j+1],m[j+2]),_t(m[j+1],m[j+2],m[j+3]),_t(m[j+2],m[j+3],m[j+4])]),k=0;4>k;++k)r(m,x+32*k,j,0,j.length)}function Fw(m,x){var k=m[x-1],j=m[x-1+32],I=m[x-1+64],q=m[x-1+96];_e(m,x+0,16843009*_t(m[x-1-32],k,j)),_e(m,x+32,16843009*_t(k,j,I)),_e(m,x+64,16843009*_t(j,I,q)),_e(m,x+96,16843009*_t(I,q,q))}function Io(m,x){var k,j=4;for(k=0;4>k;++k)j+=m[x+k-32]+m[x-1+32*k];for(j>>=3,k=0;4>k;++k)s(m,x+32*k,j,4)}function x0(m,x){var k=m[x-1+0],j=m[x-1+32],I=m[x-1+64],q=m[x-1-32],W=m[x+0-32],G=m[x+1-32],Z=m[x+2-32],ne=m[x+3-32];m[x+0+96]=_t(j,I,m[x-1+96]),m[x+1+96]=m[x+0+64]=_t(k,j,I),m[x+2+96]=m[x+1+64]=m[x+0+32]=_t(q,k,j),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=_t(W,q,k),m[x+3+64]=m[x+2+32]=m[x+1+0]=_t(G,W,q),m[x+3+32]=m[x+2+0]=_t(Z,G,W),m[x+3+0]=_t(ne,Z,G)}function b0(m,x){var k=m[x+1-32],j=m[x+2-32],I=m[x+3-32],q=m[x+4-32],W=m[x+5-32],G=m[x+6-32],Z=m[x+7-32];m[x+0+0]=_t(m[x+0-32],k,j),m[x+1+0]=m[x+0+32]=_t(k,j,I),m[x+2+0]=m[x+1+32]=m[x+0+64]=_t(j,I,q),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=_t(I,q,W),m[x+3+32]=m[x+2+64]=m[x+1+96]=_t(q,W,G),m[x+3+64]=m[x+2+96]=_t(W,G,Z),m[x+3+96]=_t(G,Z,Z)}function Rd(m,x){var k=m[x-1+0],j=m[x-1+32],I=m[x-1+64],q=m[x-1-32],W=m[x+0-32],G=m[x+1-32],Z=m[x+2-32],ne=m[x+3-32];m[x+0+0]=m[x+1+64]=q+W+1>>1,m[x+1+0]=m[x+2+64]=W+G+1>>1,m[x+2+0]=m[x+3+64]=G+Z+1>>1,m[x+3+0]=Z+ne+1>>1,m[x+0+96]=_t(I,j,k),m[x+0+64]=_t(j,k,q),m[x+0+32]=m[x+1+96]=_t(k,q,W),m[x+1+32]=m[x+2+96]=_t(q,W,G),m[x+2+32]=m[x+3+96]=_t(W,G,Z),m[x+3+32]=_t(G,Z,ne)}function ip(m,x){var k=m[x+0-32],j=m[x+1-32],I=m[x+2-32],q=m[x+3-32],W=m[x+4-32],G=m[x+5-32],Z=m[x+6-32],ne=m[x+7-32];m[x+0+0]=k+j+1>>1,m[x+1+0]=m[x+0+64]=j+I+1>>1,m[x+2+0]=m[x+1+64]=I+q+1>>1,m[x+3+0]=m[x+2+64]=q+W+1>>1,m[x+0+32]=_t(k,j,I),m[x+1+32]=m[x+0+96]=_t(j,I,q),m[x+2+32]=m[x+1+96]=_t(I,q,W),m[x+3+32]=m[x+2+96]=_t(q,W,G),m[x+3+64]=_t(W,G,Z),m[x+3+96]=_t(G,Z,ne)}function Vw(m,x){var k=m[x-1+0],j=m[x-1+32],I=m[x-1+64],q=m[x-1+96];m[x+0+0]=k+j+1>>1,m[x+2+0]=m[x+0+32]=j+I+1>>1,m[x+2+32]=m[x+0+64]=I+q+1>>1,m[x+1+0]=_t(k,j,I),m[x+3+0]=m[x+1+32]=_t(j,I,q),m[x+3+32]=m[x+1+64]=_t(I,q,q),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=q}function zw(m,x){var k=m[x-1+0],j=m[x-1+32],I=m[x-1+64],q=m[x-1+96],W=m[x-1-32],G=m[x+0-32],Z=m[x+1-32],ne=m[x+2-32];m[x+0+0]=m[x+2+32]=k+W+1>>1,m[x+0+32]=m[x+2+64]=j+k+1>>1,m[x+0+64]=m[x+2+96]=I+j+1>>1,m[x+0+96]=q+I+1>>1,m[x+3+0]=_t(G,Z,ne),m[x+2+0]=_t(W,G,Z),m[x+1+0]=m[x+3+32]=_t(k,W,G),m[x+1+32]=m[x+3+64]=_t(j,k,W),m[x+1+64]=m[x+3+96]=_t(I,j,k),m[x+1+96]=_t(q,I,j)}function Bw(m,x){var k;for(k=0;8>k;++k)r(m,x+32*k,m,x-32,8)}function op(m,x){var k;for(k=0;8>k;++k)s(m,x,m[x-1],8),x+=32}function ru(m,x,k){var j;for(j=0;8>j;++j)s(x,k+32*j,m,8)}function yl(m,x){var k,j=8;for(k=0;8>k;++k)j+=m[x+k-32]+m[x-1+32*k];ru(j>>4,m,x)}function qw(m,x){var k,j=4;for(k=0;8>k;++k)j+=m[x+k-32];ru(j>>3,m,x)}function su(m,x){var k,j=4;for(k=0;8>k;++k)j+=m[x-1+32*k];ru(j>>3,m,x)}function ap(m,x){ru(128,m,x)}function Md(m,x,k){var j=m[x-k],I=m[x+0],q=3*(I-j)+Yw[1020+m[x-2*k]-m[x+k]],W=M0[112+(q+4>>3)];m[x-k]=Gs[255+j+M0[112+(q+3>>3)]],m[x+0]=Gs[255+I-W]}function _0(m,x,k,j){var I=m[x+0],q=m[x+k];return yi[255+m[x-2*k]-m[x-k]]>j||yi[255+q-I]>j}function S0(m,x,k,j){return 4*yi[255+m[x-k]-m[x+0]]+yi[255+m[x-2*k]-m[x+k]]<=j}function N0(m,x,k,j,I){var q=m[x-3*k],W=m[x-2*k],G=m[x-k],Z=m[x+0],ne=m[x+k],he=m[x+2*k],we=m[x+3*k];return 4*yi[255+G-Z]+yi[255+W-ne]>j?0:yi[255+m[x-4*k]-q]<=I&&yi[255+q-W]<=I&&yi[255+W-G]<=I&&yi[255+we-he]<=I&&yi[255+he-ne]<=I&&yi[255+ne-Z]<=I}function k0(m,x,k,j){var I=2*j+1;for(j=0;16>j;++j)S0(m,x+j,k,I)&&Md(m,x+j,k)}function Fo(m,x,k,j){var I=2*j+1;for(j=0;16>j;++j)S0(m,x+j*k,1,I)&&Md(m,x+j*k,1)}function Aa(m,x,k,j){var I;for(I=3;0<I;--I)k0(m,x+=4*k,k,j)}function Uw(m,x,k,j){var I;for(I=3;0<I;--I)Fo(m,x+=4,k,j)}function wl(m,x,k,j,I,q,W,G){for(q=2*q+1;0<I--;){if(N0(m,x,k,q,W))if(_0(m,x,k,G))Md(m,x,k);else{var Z=m,ne=x,he=k,we=Z[ne-2*he],xe=Z[ne-he],ge=Z[ne+0],Le=Z[ne+he],Ne=Z[ne+2*he],fe=27*(Ee=Yw[1020+3*(ge-xe)+Yw[1020+we-Le]])+63>>7,me=18*Ee+63>>7,Ee=9*Ee+63>>7;Z[ne-3*he]=Gs[255+Z[ne-3*he]+Ee],Z[ne-2*he]=Gs[255+we+me],Z[ne-he]=Gs[255+xe+fe],Z[ne+0]=Gs[255+ge-fe],Z[ne+he]=Gs[255+Le-me],Z[ne+2*he]=Gs[255+Ne-Ee]}x+=j}}function Wi(m,x,k,j,I,q,W,G){for(q=2*q+1;0<I--;){if(N0(m,x,k,q,W))if(_0(m,x,k,G))Md(m,x,k);else{var Z=m,ne=x,he=k,we=Z[ne-he],xe=Z[ne+0],ge=Z[ne+he],Le=M0[112+((Ne=3*(xe-we))+4>>3)],Ne=M0[112+(Ne+3>>3)],fe=Le+1>>1;Z[ne-2*he]=Gs[255+Z[ne-2*he]+fe],Z[ne-he]=Gs[255+we+Ne],Z[ne+0]=Gs[255+xe-Le],Z[ne+he]=Gs[255+ge-fe]}x+=j}}function lp(m,x,k,j,I,q){wl(m,x,k,1,16,j,I,q)}function iu(m,x,k,j,I,q){wl(m,x,1,k,16,j,I,q)}function Ww(m,x,k,j,I,q){var W;for(W=3;0<W;--W)Wi(m,x+=4*k,k,1,16,j,I,q)}function Dd(m,x,k,j,I,q){var W;for(W=3;0<W;--W)Wi(m,x+=4,1,k,16,j,I,q)}function $w(m,x,k,j,I,q,W,G){wl(m,x,I,1,8,q,W,G),wl(k,j,I,1,8,q,W,G)}function cp(m,x,k,j,I,q,W,G){wl(m,x,1,I,8,q,W,G),wl(k,j,1,I,8,q,W,G)}function up(m,x,k,j,I,q,W,G){Wi(m,x+4*I,I,1,8,q,W,G),Wi(k,j+4*I,I,1,8,q,W,G)}function C0(m,x,k,j,I,q,W,G){Wi(m,x+4,1,I,8,q,W,G),Wi(k,j+4,1,I,8,q,W,G)}function Od(){this.ba=new Fi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new In,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function dp(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function hp(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function A0(){this.ua=0,this.Wa=new Q,this.vb=new Q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new P}function Hw(){this.xb=this.a=0,this.l=new Pd,this.ca=new Fi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new A0,this.ab=0,this.gc=o(4,hp),this.Oc=0}function Id(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ou(m,x,k,j,I,q,W){for(m=m==null?0:m[x+0],x=0;x<W;++x)I[q+x]=m+k[j+x]&255,m=I[q+x]}function fp(m,x,k,j,I,q,W){var G;if(m==null)ou(null,null,k,j,I,q,W);else for(G=0;G<W;++G)I[q+G]=m[x+G]+k[j+G]&255}function xl(m,x,k,j,I,q,W){if(m==null)ou(null,null,k,j,I,q,W);else{var G,Z=m[x+0],ne=Z,he=Z;for(G=0;G<W;++G)ne=he+(Z=m[x+G])-ne,he=k[j+G]+(-256&ne?0>ne?0:255:ne)&255,ne=Z,I[q+G]=he}}function pp(m,x,k,j){var I=x.width,q=x.o;if(e(m!=null&&x!=null),0>k||0>=j||k+j>q)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new Id,(W=m.ga==null)||(W=x.width*x.o,e(m.Gb.length==0),m.Gb=i(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var G=m.Fa,Z=m.P,ne=m.qc,he=m.mb,we=m.nb,xe=Z+1,ge=ne-1,Le=W.l;if(e(G!=null&&he!=null&&x!=null),Cl[0]=null,Cl[1]=ou,Cl[2]=fp,Cl[3]=xl,W.ca=he,W.tb=we,W.c=x.width,W.i=x.height,e(0<W.c&&0<W.i),1>=ne)x=0;else if(W.$a=G[Z+0]>>0&3,W.Z=G[Z+0]>>2&3,W.Lc=G[Z+0]>>4&3,Z=G[Z+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Z)x=0;else if(Le.put=Lo,Le.ac=Lr,Le.bc=Ro,Le.ma=W,Le.width=x.width,Le.height=x.height,Le.Da=x.Da,Le.v=x.v,Le.va=x.va,Le.j=x.j,Le.o=x.o,W.$a)e:{e(W.$a==1),x=fi();t:for(;;){if(x==null){x=0;break e}if(e(W!=null),W.mc=x,x.c=W.c,x.i=W.i,x.l=W.l,x.l.ma=W,x.l.width=W.c,x.l.height=W.i,x.a=0,B(x.m,G,xe,ge),!Oo(W.c,W.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&ka(x.s)?(W.ic=1,G=x.c*x.i,x.Ta=null,x.Ua=0,x.V=i(G),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(W.ic=0,x=nu(x,W.c)),!x))break t;x=1;break e}W.mc=null,x=0}else x=ge>=W.c*W.i;W=!x}if(W)return null;m.ga.Lc!=1?m.Ga=0:j=q-k}e(m.ga!=null),e(k+j<=q);e:{if(x=(G=m.ga).c,q=G.l.o,G.$a==0){if(xe=m.rc,ge=m.Vc,Le=m.Fa,Z=m.P+1+k*x,ne=m.mb,he=m.nb+k*x,e(Z<=m.P+m.qc),G.Z!=0)for(e(Cl[G.Z]!=null),W=0;W<j;++W)Cl[G.Z](xe,ge,Le,Z,ne,he,x),xe=ne,ge=he,he+=x,Z+=x;else for(W=0;W<j;++W)r(ne,he,Le,Z,x),xe=ne,ge=he,he+=x,Z+=x;m.rc=xe,m.Vc=ge}else{if(e(G.mc!=null),x=k+j,e((W=G.mc)!=null),e(x<=W.i),W.C>=x)x=1;else if(G.ic||ye(),G.ic){G=W.V,xe=W.Ba,ge=W.c;var Ne=W.i,fe=(Le=1,Z=W.$/ge,ne=W.$%ge,he=W.m,we=W.s,W.$),me=ge*Ne,Ee=ge*x,Me=we.wc,je=fe<Ee?or(we,ne,Z):null;e(fe<=me),e(x<=Ne),e(ka(we));t:for(;;){for(;!he.h&&fe<Ee;){if(ne&Me||(je=or(we,ne,Z)),e(je!=null),se(he),256>(Ne=Ts(je.G[0],je.H[0],he)))G[xe+fe]=Ne,++fe,++ne>=ge&&(ne=0,++Z<=x&&!(Z%16)&&Bi(W,Z));else{if(!(280>Ne)){Le=0;break t}Ne=Vi(Ne-256,he);var Xe,We=Ts(je.G[4],je.H[4],he);if(se(he),!(fe>=(We=Mo(ge,We=Vi(We,he)))&&me-fe>=Ne)){Le=0;break t}for(Xe=0;Xe<Ne;++Xe)G[xe+fe+Xe]=G[xe+fe+Xe-We];for(fe+=Ne,ne+=Ne;ne>=ge;)ne-=ge,++Z<=x&&!(Z%16)&&Bi(W,Z);fe<Ee&&ne&Me&&(je=or(we,ne,Z))}e(he.h==K(he))}Bi(W,Z>x?x:Z);break t}!Le||he.h&&fe<me?(Le=0,W.a=he.h?5:3):W.$=fe,x=Le}else x=qi(W,W.V,W.Ba,W.c,W.i,x,Nd);if(!x){j=0;break e}}k+j>=q&&(m.Cc=1),j=1}if(!j)return null;if(m.Cc&&((j=m.ga)!=null&&(j.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+k*I}function S(m,x,k,j,I,q){for(;0<I--;){var W,G=m,Z=x+(k?1:0),ne=m,he=x+(k?0:3);for(W=0;W<j;++W){var we=ne[he+4*W];we!=255&&(we*=32897,G[Z+4*W+0]=G[Z+4*W+0]*we>>23,G[Z+4*W+1]=G[Z+4*W+1]*we>>23,G[Z+4*W+2]=G[Z+4*W+2]*we>>23)}x+=q}}function V(m,x,k,j,I){for(;0<j--;){var q;for(q=0;q<k;++q){var W=m[x+2*q+0],G=15&(ne=m[x+2*q+1]),Z=4369*G,ne=(240&ne|ne>>4)*Z>>16;m[x+2*q+0]=(240&W|W>>4)*Z>>16&240|(15&W|W<<4)*Z>>16>>4&15,m[x+2*q+1]=240&ne|G}x+=I}}function ie(m,x,k,j,I,q,W,G){var Z,ne,he=255;for(ne=0;ne<I;++ne){for(Z=0;Z<j;++Z){var we=m[x+Z];q[W+4*Z]=we,he&=we}x+=k,W+=G}return he!=255}function ce(m,x,k,j,I){var q;for(q=0;q<I;++q)k[j+q]=m[x+q]>>8}function ye(){vi=S,gn=V,vn=ie,Zn=ce}function ke(m,x,k){A[m]=function(j,I,q,W,G,Z,ne,he,we,xe,ge,Le,Ne,fe,me,Ee,Me){var je,Xe=Me-1>>1,We=G[Z+0]|ne[he+0]<<16,ft=we[xe+0]|ge[Le+0]<<16;e(j!=null);var $e=3*We+ft+131074>>2;for(x(j[I+0],255&$e,$e>>16,Ne,fe),q!=null&&($e=3*ft+We+131074>>2,x(q[W+0],255&$e,$e>>16,me,Ee)),je=1;je<=Xe;++je){var Yt=G[Z+je]|ne[he+je]<<16,Jt=we[xe+je]|ge[Le+je]<<16,Ut=We+Yt+ft+Jt+524296,It=Ut+2*(Yt+ft)>>3;$e=It+We>>1,We=(Ut=Ut+2*(We+Jt)>>3)+Yt>>1,x(j[I+2*je-1],255&$e,$e>>16,Ne,fe+(2*je-1)*k),x(j[I+2*je-0],255&We,We>>16,Ne,fe+(2*je-0)*k),q!=null&&($e=Ut+ft>>1,We=It+Jt>>1,x(q[W+2*je-1],255&$e,$e>>16,me,Ee+(2*je-1)*k),x(q[W+2*je+0],255&We,We>>16,me,Ee+(2*je+0)*k)),We=Yt,ft=Jt}1&Me||($e=3*We+ft+131074>>2,x(j[I+Me-1],255&$e,$e>>16,Ne,fe+(Me-1)*k),q!=null&&($e=3*ft+We+131074>>2,x(q[W+Me-1],255&$e,$e>>16,me,Ee+(Me-1)*k)))}}function Oe(){wi[D0]=pF,wi[O0]=AN,wi[_N]=mF,wi[I0]=TN,wi[F0]=PN,wi[Kw]=EN,wi[SN]=gF,wi[Zw]=AN,wi[Xw]=TN,wi[V0]=PN,wi[Qw]=EN}function Ze(m){return m&~vF?0>m?0:255:m>>jN}function ut(m,x){return Ze((19077*m>>8)+(26149*x>>8)-14234)}function Ct(m,x,k){return Ze((19077*m>>8)-(6419*x>>8)-(13320*k>>8)+8708)}function Nt(m,x){return Ze((19077*m>>8)+(33050*x>>8)-17685)}function Vt(m,x,k,j,I){j[I+0]=ut(m,k),j[I+1]=Ct(m,x,k),j[I+2]=Nt(m,x)}function Pn(m,x,k,j,I){j[I+0]=Nt(m,x),j[I+1]=Ct(m,x,k),j[I+2]=ut(m,k)}function Fn(m,x,k,j,I){var q=Ct(m,x,k);x=q<<3&224|Nt(m,x)>>3,j[I+0]=248&ut(m,k)|q>>5,j[I+1]=x}function ar(m,x,k,j,I){var q=240&Nt(m,x)|15;j[I+0]=240&ut(m,k)|Ct(m,x,k)>>4,j[I+1]=q}function Wr(m,x,k,j,I){j[I+0]=255,Vt(m,x,k,j,I+1)}function _r(m,x,k,j,I){Pn(m,x,k,j,I),j[I+3]=255}function $i(m,x,k,j,I){Vt(m,x,k,j,I),j[I+3]=255}function Hs(m,x){return 0>m?0:m>x?x:m}function Vo(m,x,k){A[m]=function(j,I,q,W,G,Z,ne,he,we){for(var xe=he+(-2&we)*k;he!=xe;)x(j[I+0],q[W+0],G[Z+0],ne,he),x(j[I+1],q[W+0],G[Z+0],ne,he+k),I+=2,++W,++Z,he+=2*k;1&we&&x(j[I+0],q[W+0],G[Z+0],ne,he)}}function T0(m,x,k){return k==0?m==0?x==0?6:5:x==0?4:0:k}function mp(m,x,k,j,I){switch(m>>>30){case 3:Ea(x,k,j,I,0);break;case 2:Kn(x,k,j,I);break;case 1:cs(x,k,j,I)}}function gp(m,x){var k,j,I=x.M,q=x.Nb,W=m.oc,G=m.pc+40,Z=m.oc,ne=m.pc+584,he=m.oc,we=m.pc+600;for(k=0;16>k;++k)W[G+32*k-1]=129;for(k=0;8>k;++k)Z[ne+32*k-1]=129,he[we+32*k-1]=129;for(0<I?W[G-1-32]=Z[ne-1-32]=he[we-1-32]=129:(s(W,G-32-1,127,21),s(Z,ne-32-1,127,9),s(he,we-32-1,127,9)),j=0;j<m.za;++j){var xe=x.ya[x.aa+j];if(0<j){for(k=-1;16>k;++k)r(W,G+32*k-4,W,G+32*k+12,4);for(k=-1;8>k;++k)r(Z,ne+32*k-4,Z,ne+32*k+4,4),r(he,we+32*k-4,he,we+32*k+4,4)}var ge=m.Gd,Le=m.Hd+j,Ne=xe.ad,fe=xe.Hc;if(0<I&&(r(W,G-32,ge[Le].y,0,16),r(Z,ne-32,ge[Le].f,0,8),r(he,we-32,ge[Le].ea,0,8)),xe.Za){var me=W,Ee=G-32+16;for(0<I&&(j>=m.za-1?s(me,Ee,ge[Le].y[15],4):r(me,Ee,ge[Le+1].y,0,4)),k=0;4>k;k++)me[Ee+128+k]=me[Ee+256+k]=me[Ee+384+k]=me[Ee+0+k];for(k=0;16>k;++k,fe<<=2)me=W,Ee=G+RN[k],Hi[xe.Ob[k]](me,Ee),mp(fe,Ne,16*+k,me,Ee)}else if(me=T0(j,I,xe.Ob[0]),kl[me](W,G),fe!=0)for(k=0;16>k;++k,fe<<=2)mp(fe,Ne,16*+k,W,G+RN[k]);for(k=xe.Gc,me=T0(j,I,xe.Dd),La[me](Z,ne),La[me](he,we),fe=Ne,me=Z,Ee=ne,255&(xe=k>>0)&&(170&xe?bp(fe,256,me,Ee):mi(fe,256,me,Ee)),xe=he,fe=we,255&(k>>=8)&&(170&k?bp(Ne,320,xe,fe):mi(Ne,320,xe,fe)),I<m.Ub-1&&(r(ge[Le].y,0,W,G+480,16),r(ge[Le].f,0,Z,ne+224,8),r(ge[Le].ea,0,he,we+224,8)),k=8*q*m.B,ge=m.sa,Le=m.ta+16*j+16*q*m.R,Ne=m.qa,xe=m.ra+8*j+k,fe=m.Ha,me=m.Ia+8*j+k,k=0;16>k;++k)r(ge,Le+k*m.R,W,G+32*k,16);for(k=0;8>k;++k)r(Ne,xe+k*m.B,Z,ne+32*k,8),r(fe,me+k*m.B,he,we+32*k,8)}}function Fd(m,x,k,j,I,q,W,G,Z){var ne=[0],he=[0],we=0,xe=Z!=null?Z.kd:0,ge=Z??new dp;if(m==null||12>k)return 7;ge.data=m,ge.w=x,ge.ha=k,x=[x],k=[k],ge.gb=[ge.gb];e:{var Le=x,Ne=k,fe=ge.gb;if(e(m!=null),e(Ne!=null),e(fe!=null),fe[0]=0,12<=Ne[0]&&!n(m,Le[0],"RIFF")){if(n(m,Le[0]+8,"WEBP")){fe=3;break e}var me=Fe(m,Le[0]+4);if(12>me||4294967286<me){fe=3;break e}if(xe&&me>Ne[0]-8){fe=7;break e}fe[0]=me,Le[0]+=12,Ne[0]-=12}fe=0}if(fe!=0)return fe;for(me=0<ge.gb[0],k=k[0];;){e:{var Ee=m;Ne=x,fe=k;var Me=ne,je=he,Xe=Le=[0];if(($e=we=[we])[0]=0,8>fe[0])fe=7;else{if(!n(Ee,Ne[0],"VP8X")){if(Fe(Ee,Ne[0]+4)!=10){fe=3;break e}if(18>fe[0]){fe=7;break e}var We=Fe(Ee,Ne[0]+8),ft=1+Ce(Ee,Ne[0]+12);if(2147483648<=ft*(Ee=1+Ce(Ee,Ne[0]+15))){fe=3;break e}Xe!=null&&(Xe[0]=We),Me!=null&&(Me[0]=ft),je!=null&&(je[0]=Ee),Ne[0]+=18,fe[0]-=18,$e[0]=1}fe=0}}if(we=we[0],Le=Le[0],fe!=0)return fe;if(Ne=!!(2&Le),!me&&we)return 3;if(q!=null&&(q[0]=!!(16&Le)),W!=null&&(W[0]=Ne),G!=null&&(G[0]=0),W=ne[0],Le=he[0],we&&Ne&&Z==null){fe=0;break}if(4>k){fe=7;break}if(me&&we||!me&&!we&&!n(m,x[0],"ALPH")){k=[k],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{We=m,fe=x,me=k;var $e=ge.gb;Me=ge.na,je=ge.P,Xe=ge.Sa,ft=22,e(We!=null),e(me!=null),Ee=fe[0];var Yt=me[0];for(e(Me!=null),e(Xe!=null),Me[0]=null,je[0]=null,Xe[0]=0;;){if(fe[0]=Ee,me[0]=Yt,8>Yt){fe=7;break e}var Jt=Fe(We,Ee+4);if(4294967286<Jt){fe=3;break e}var Ut=8+Jt+1&-2;if(ft+=Ut,0<$e&&ft>$e){fe=3;break e}if(!n(We,Ee,"VP8 ")||!n(We,Ee,"VP8L")){fe=0;break e}if(Yt[0]<Ut){fe=7;break e}n(We,Ee,"ALPH")||(Me[0]=We,je[0]=Ee+8,Xe[0]=Jt),Ee+=Ut,Yt-=Ut}}if(k=k[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],fe!=0)break}k=[k],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if($e=m,fe=x,me=k,Me=ge.gb[0],je=ge.Ja,Xe=ge.xa,We=fe[0],Ee=!n($e,We,"VP8 "),ft=!n($e,We,"VP8L"),e($e!=null),e(me!=null),e(je!=null),e(Xe!=null),8>me[0])fe=7;else{if(Ee||ft){if($e=Fe($e,We+4),12<=Me&&$e>Me-12){fe=3;break e}if(xe&&$e>me[0]-8){fe=7;break e}je[0]=$e,fe[0]+=8,me[0]-=8,Xe[0]=ft}else Xe[0]=5<=me[0]&&$e[We+0]==47&&!($e[We+4]>>5),je[0]=me[0];fe=0}if(k=k[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],x=x[0],fe!=0)break;if(4294967286<ge.Ja)return 3;if(G==null||Ne||(G[0]=ge.xa?2:1),W=[W],Le=[Le],ge.xa){if(5>k){fe=7;break}G=W,xe=Le,Ne=q,m==null||5>k?m=0:5<=k&&m[x+0]==47&&!(m[x+4]>>5)?(me=[0],$e=[0],Me=[0],B(je=new M,m,x,k),gt(je,me,$e,Me)?(G!=null&&(G[0]=me[0]),xe!=null&&(xe[0]=$e[0]),Ne!=null&&(Ne[0]=Me[0]),m=1):m=0):m=0}else{if(10>k){fe=7;break}G=Le,m==null||10>k||!h0(m,x+3,k-3)?m=0:(xe=m[x+0]|m[x+1]<<8|m[x+2]<<16,Ne=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&xe||3<(xe>>1&7)||!(xe>>4&1)||xe>>5>=ge.Ja||!Ne||!m?m=0:(W&&(W[0]=Ne),G&&(G[0]=m),m=1))}if(!m||(W=W[0],Le=Le[0],we&&(ne[0]!=W||he[0]!=Le)))return 3;Z!=null&&(Z[0]=ge,Z.offset=x-Z.w,e(4294967286>x-Z.w),e(Z.offset==Z.ha-k));break}return fe==0||fe==7&&we&&Z==null?(q!=null&&(q[0]|=ge.na!=null&&0<ge.na.length),j!=null&&(j[0]=W),I!=null&&(I[0]=Le),0):fe}function vp(m,x,k){var j=x.width,I=x.height,q=0,W=0,G=j,Z=I;if(x.Da=m!=null&&0<m.Da,x.Da&&(G=m.cd,Z=m.bd,q=m.v,W=m.j,11>k||(q&=-2,W&=-2),0>q||0>W||0>=G||0>=Z||q+G>j||W+Z>I))return 0;if(x.v=q,x.j=W,x.va=q+G,x.o=W+Z,x.U=G,x.T=Z,x.da=m!=null&&0<m.da,x.da){if(!Ge(G,Z,k=[m.ib],q=[m.hb]))return 0;x.ib=k[0],x.hb=q[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*j/4&&x.hb<3*I/4,x.Kb=0),1}function yp(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function Vd(m,x,k,j){if(j==null||0>=m||0>=x)return 2;if(k!=null){if(k.Da){var I=k.cd,q=k.bd,W=-2&k.v,G=-2&k.j;if(0>W||0>G||0>=I||0>=q||W+I>m||G+q>x)return 2;m=I,x=q}if(k.da){if(!Ge(m,x,I=[k.ib],q=[k.hb]))return 2;m=I[0],x=q[0]}}j.width=m,j.height=x;e:{var Z=j.width,ne=j.height;if(m=j.S,0>=Z||0>=ne||!(m>=D0&&13>m))m=2;else{if(0>=j.Rd&&j.sd==null){W=q=I=x=0;var he=(G=Z*MN[m])*ne;if(11>m||(q=(ne+1)/2*(x=(Z+1)/2),m==12&&(W=(I=Z)*ne)),(ne=i(he+2*q+W))==null){m=1;break e}j.sd=ne,11>m?((Z=j.f.RGBA).eb=ne,Z.fb=0,Z.A=G,Z.size=he):((Z=j.f.kb).y=ne,Z.O=0,Z.fa=G,Z.Fd=he,Z.f=ne,Z.N=0+he,Z.Ab=x,Z.Cd=q,Z.ea=ne,Z.W=0+he+q,Z.Db=x,Z.Ed=q,m==12&&(Z.F=ne,Z.J=0+he+2*q),Z.Tc=W,Z.lb=I)}if(x=1,I=j.S,q=j.width,W=j.height,I>=D0&&13>I)if(11>I)m=j.f.RGBA,x&=(G=Math.abs(m.A))*(W-1)+q<=m.size,x&=G>=q*MN[I],x&=m.eb!=null;else{m=j.f.kb,G=(q+1)/2,he=(W+1)/2,Z=Math.abs(m.fa),ne=Math.abs(m.Ab);var we=Math.abs(m.Db),xe=Math.abs(m.lb),ge=xe*(W-1)+q;x&=Z*(W-1)+q<=m.Fd,x&=ne*(he-1)+G<=m.Cd,x=(x&=we*(he-1)+G<=m.Ed)&Z>=q&ne>=G&we>=G,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,I==12&&(x&=xe>=q,x&=ge<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||k!=null&&k.fd&&(m=yp(j)),m}var Rr=64,zd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bd=24,qd=32,wp=8,Es=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(m){return m},A.Predictor2=function(m,x,k){return x[k+0]},A.Predictor3=function(m,x,k){return x[k+1]},A.Predictor4=function(m,x,k){return x[k-1]},A.Predictor5=function(m,x,k){return te(te(m,x[k+1]),x[k+0])},A.Predictor6=function(m,x,k){return te(m,x[k-1])},A.Predictor7=function(m,x,k){return te(m,x[k+0])},A.Predictor8=function(m,x,k){return te(x[k-1],x[k+0])},A.Predictor9=function(m,x,k){return te(x[k+0],x[k+1])},A.Predictor10=function(m,x,k){return te(te(m,x[k-1]),te(x[k+0],x[k+1]))},A.Predictor11=function(m,x,k){var j=x[k+0];return 0>=Pe(j>>24&255,m>>24&255,(x=x[k-1])>>24&255)+Pe(j>>16&255,m>>16&255,x>>16&255)+Pe(j>>8&255,m>>8&255,x>>8&255)+Pe(255&j,255&m,255&x)?j:m},A.Predictor12=function(m,x,k){var j=x[k+0];return(le((m>>24&255)+(j>>24&255)-((x=x[k-1])>>24&255))<<24|le((m>>16&255)+(j>>16&255)-(x>>16&255))<<16|le((m>>8&255)+(j>>8&255)-(x>>8&255))<<8|le((255&m)+(255&j)-(255&x)))>>>0},A.Predictor13=function(m,x,k){var j=x[k-1];return(ve((m=te(m,x[k+0]))>>24&255,j>>24&255)<<24|ve(m>>16&255,j>>16&255)<<16|ve(m>>8&255,j>>8&255)<<8|ve(m>>0&255,j>>0&255))>>>0};var Gw=A.PredictorAdd0;A.PredictorAdd1=Te,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var xp=A.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var P0,pi=A.ColorIndexInverseTransform,Ud=A.MapARGB,E0=A.VP8LColorIndexInverseTransformAlpha,j0=A.MapAlpha,bl=A.VP8LPredictorsAdd=[];bl.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var au,js,ls,_l,Ta,Pa,Wd,Ea,Kn,bp,cs,mi,$d,L0,_p,lu,cu,Sl,uu,Hd,du,Nl,Sp,gi,vi,gn,vn,Zn,mr=i(511),ja=i(2041),Np=i(225),Gd=i(767),R0=0,Yw=ja,M0=Np,Gs=Gd,yi=mr,D0=0,O0=1,_N=2,I0=3,F0=4,Kw=5,SN=6,Zw=7,Xw=8,V0=9,Qw=10,eF=[2,3,7],tF=[3,3,11],NN=[280,256,256,256,40],nF=[0,1,1,1,0],rF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],iF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],oF=8,Jw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ex=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kp=null,aF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],lF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],kN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],uF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],kl=[],Hi=[],La=[],fF=1,CN=2,Cl=[],wi=[];ke("UpsampleRgbLinePair",Vt,3),ke("UpsampleBgrLinePair",Pn,3),ke("UpsampleRgbaLinePair",$i,4),ke("UpsampleBgraLinePair",_r,4),ke("UpsampleArgbLinePair",Wr,4),ke("UpsampleRgba4444LinePair",ar,2),ke("UpsampleRgb565LinePair",Fn,2);var pF=A.UpsampleRgbLinePair,mF=A.UpsampleBgrLinePair,AN=A.UpsampleRgbaLinePair,TN=A.UpsampleBgraLinePair,PN=A.UpsampleArgbLinePair,EN=A.UpsampleRgba4444LinePair,gF=A.UpsampleRgb565LinePair,z0=16,B0=1<<z0-1,Cp=-227,tx=482,jN=6,vF=(256<<jN)-1,LN=0,yF=i(256),wF=i(256),xF=i(256),bF=i(256),_F=i(tx-Cp),SF=i(tx-Cp);Vo("YuvToRgbRow",Vt,3),Vo("YuvToBgrRow",Pn,3),Vo("YuvToRgbaRow",$i,4),Vo("YuvToBgraRow",_r,4),Vo("YuvToArgbRow",Wr,4),Vo("YuvToRgba4444Row",ar,2),Vo("YuvToRgb565Row",Fn,2);var RN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],q0=[0,2,8],NF=[8,7,6,4,4,2,2,2,1,1,1,1],kF=1;this.WebPDecodeRGBA=function(m,x,k,j,I){var q=O0,W=new Od,G=new Fi;W.ba=G,G.S=q,G.width=[G.width],G.height=[G.height];var Z=G.width,ne=G.height,he=new Na;if(he==null||m==null)var we=2;else e(he!=null),we=Fd(m,x,k,he.width,he.height,he.Pd,he.Qd,he.format,null);if(we!=0?Z=0:(Z!=null&&(Z[0]=he.width[0]),ne!=null&&(ne[0]=he.height[0]),Z=1),Z){G.width=G.width[0],G.height=G.height[0],j!=null&&(j[0]=G.width),I!=null&&(I[0]=G.height);e:{if(j=new Pd,(I=new dp).data=m,I.w=x,I.ha=k,I.kd=1,x=[0],e(I!=null),((m=Fd(I.data,I.w,I.ha,null,null,null,x,null,I))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(W!=null),j.data=I.data,j.w=I.w+I.offset,j.ha=I.ha-I.offset,j.put=Lo,j.ac=Lr,j.bc=Ro,j.ma=W,I.xa){if((m=fi())==null){W=1;break e}if(function(xe,ge){var Le=[0],Ne=[0],fe=[0];t:for(;;){if(xe==null)return 0;if(ge==null)return xe.a=2,0;if(xe.l=ge,xe.a=0,B(xe.m,ge.data,ge.w,ge.ha),!gt(xe.m,Le,Ne,fe)){xe.a=3;break t}if(xe.xb=CN,ge.width=Le[0],ge.height=Ne[0],!Oo(Le[0],Ne[0],1,xe,null))break t;return 1}return e(xe.a!=0),0}(m,j)){if(j=(x=Vd(j.width,j.height,W.Oa,W.ba))==0){t:{j=m;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((k=j.l)!=null),e((I=k.ma)!=null),j.xb!=0){if(j.ca=I.ba,j.tb=I.tb,e(j.ca!=null),!vp(I.Oa,k,I0)){j.a=2;break n}if(!nu(j,k.width)||k.da)break n;if((k.da||qt(j.ca.S))&&ye(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ye()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!et(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!qi(j,j.V,j.Ba,j.c,j.i,k.o,Sd))break n;I.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(x=m.a)}else x=m.a}else{if((m=new Tw)==null){W=1;break e}if(m.Fa=I.na,m.P=I.P,m.qc=I.Sa,f0(m,j)){if((x=Vd(j.width,j.height,W.Oa,W.ba))==0){if(m.Aa=0,k=W.Oa,e((I=m)!=null),k!=null){if(0<(Z=0>(Z=k.Md)?0:100<Z?255:255*Z/100)){for(ne=he=0;4>ne;++ne)12>(we=I.pb[ne]).lc&&(we.ia=Z*NF[0>we.lc?0:we.lc]>>3),he|=we.ia;he&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=k.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}Pw(m,j)||(x=m.a)}}else x=m.a}x==0&&W.Oa!=null&&W.Oa.fd&&(x=yp(W.ba))}W=x}q=W!=0?null:11>q?G.f.RGBA.eb:G.f.kb.y}else q=null;return q};var MN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(A,D){for(var H="",L=0;L<4;L++)H+=String.fromCharCode(A[D++]);return H}function u(A,D){return(A[D+0]<<0|A[D+1]<<8|A[D+2]<<16)>>>0}function d(A,D){return(A[D+0]<<0|A[D+1]<<8|A[D+2]<<16|A[D+3]<<24)>>>0}new l;var p=[0],f=[0],y=[],g=new l,b=t,v=function(A,D){var H={},L=0,P=!1,U=0,z=0;if(H.frames=[],!function(F,K,ee,se){for(var oe=0;oe<se;oe++)if(F[K+oe]!=ee.charCodeAt(oe))return!0;return!1}(A,D,"RIFF",4)){for(d(A,D+=4),D+=8;D<A.length;){var Y=c(A,D),O=d(A,D+=4);D+=4;var $=O+(1&O);switch(Y){case"VP8 ":case"VP8L":H.frames[L]===void 0&&(H.frames[L]={}),(re=H.frames[L]).src_off=P?z:D-8,re.src_size=U+O+8,L++,P&&(P=!1,U=0,z=0);break;case"VP8X":(re=H.header={}).feature_flags=A[D];var B=D+4;re.canvas_width=1+u(A,B),B+=3,re.canvas_height=1+u(A,B),B+=3;break;case"ALPH":P=!0,U=$+8,z=D-8;break;case"ANIM":(re=H.header).bgcolor=d(A,D),B=D+4,re.loop_count=(X=A)[(M=B)+0]<<0|X[M+1]<<8,B+=2;break;case"ANMF":var J,re;(re=H.frames[L]={}).offset_x=2*u(A,D),D+=3,re.offset_y=2*u(A,D),D+=3,re.width=1+u(A,D),D+=3,re.height=1+u(A,D),D+=3,re.duration=u(A,D),D+=3,J=A[D++],re.dispose=1&J,re.blend=J>>1&1}Y!="ANMF"&&(D+=$)}var X,M;return H}}(b,0);v.response=b,v.rgbaoutput=!0,v.dataurl=!1;var w=v.header?v.header:null,_=v.frames?v.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],f=[w.canvas_width];for(var T=0;T<_.length&&_[T].blend!=0;T++);}var C=_[0],R=g.WebPDecodeRGBA(b,C.src_off,C.src_size,f,p);C.rgba=R,C.imgwidth=f[0],C.imgheight=p[0];for(var E=0;E<f[0]*p[0]*4;E++)y[E]=R[E];return this.width=f,this.height=p,this.data=y,this}(function(t){var e=function(){return typeof k_=="function"},n=function(p,f,y,g){var b=4,v=o;switch(g){case t.image_compression.FAST:b=1,v=i;break;case t.image_compression.MEDIUM:b=6,v=a;break;case t.image_compression.SLOW:b=9,v=l}p=r(p,f,y,v);var w=k_(p,{level:b});return t.__addimage__.arrayBufferToBinaryString(w)},r=function(p,f,y,g){for(var b,v,w,_=p.length/f,T=new Uint8Array(p.length+_),C=u(),R=0;R<_;R+=1){if(w=R*f,b=p.subarray(w,w+f),g)T.set(g(b,y,v),w+R);else{for(var E,A=C.length,D=[];E<A;E+=1)D[E]=C[E](b,y,v);var H=d(D.concat());T.set(D[H],w+R)}v=b}return T},s=function(p){var f=Array.apply([],p);return f.unshift(0),f},i=function(p,f){var y,g=[],b=p.length;g[0]=1;for(var v=0;v<b;v+=1)y=p[v-f]||0,g[v+1]=p[v]-y+256&255;return g},o=function(p,f,y){var g,b=[],v=p.length;b[0]=2;for(var w=0;w<v;w+=1)g=y&&y[w]||0,b[w+1]=p[w]-g+256&255;return b},a=function(p,f,y){var g,b,v=[],w=p.length;v[0]=3;for(var _=0;_<w;_+=1)g=p[_-f]||0,b=y&&y[_]||0,v[_+1]=p[_]+256-(g+b>>>1)&255;return v},l=function(p,f,y){var g,b,v,w,_=[],T=p.length;_[0]=4;for(var C=0;C<T;C+=1)g=p[C-f]||0,b=y&&y[C]||0,v=y&&y[C-f]||0,w=c(g,b,v),_[C+1]=p[C]-w+256&255;return _},c=function(p,f,y){if(p===f&&f===y)return p;var g=Math.abs(f-y),b=Math.abs(p-y),v=Math.abs(p+f-y-y);return g<=b&&g<=v?p:b<=v?f:y},u=function(){return[s,i,o,a,l]},d=function(p){var f=p.map(function(y){return y.reduce(function(g,b){return g+Math.abs(b)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(p,f,y,g){var b,v,w,_,T,C,R,E,A,D,H,L,P,U,z,Y=this.decode.FLATE_DECODE,O="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(w=new kre(p)).imgData,v=w.bits,b=w.colorSpace,T=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){A=(E=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,H=new Uint8Array(A*w.colors),D=new Uint8Array(A);var $,B=w.pixelBitlength-w.bits;for(U=0,z=0;U<A;U++){for(P=E[U],$=0;$<B;)H[z++]=P>>>$&255,$+=w.bits;D[U]=P>>>$&255}}if(w.bits===16){A=(E=new Uint32Array(w.decodePixels().buffer)).length,H=new Uint8Array(A*(32/w.pixelBitlength)*w.colors),D=new Uint8Array(A*(32/w.pixelBitlength)),L=w.colors>1,U=0,z=0;for(var J=0;U<A;)P=E[U++],H[z++]=P>>>0&255,L&&(H[z++]=P>>>16&255,P=E[U++],H[z++]=P>>>0&255),D[J++]=P>>>16&255;v=8}g!==t.image_compression.NONE&&e()?(p=n(H,w.width*w.colors,w.colors,g),R=n(D,w.width,1,g)):(p=H,R=D,Y=void 0)}if(w.colorType===3&&(b=this.color_spaces.INDEXED,C=w.palette,w.transparency.indexed)){var re=w.transparency.indexed,X=0;for(U=0,A=re.length;U<A;++U)X+=re[U];if((X/=255)===A-1&&re.indexOf(0)!==-1)_=[re.indexOf(0)];else if(X!==A){for(E=w.decodePixels(),D=new Uint8Array(E.length),U=0,A=E.length;U<A;U++)D[U]=re[E[U]];R=n(D,w.width,1)}}var M=function(F){var K;switch(F){case t.image_compression.FAST:K=11;break;case t.image_compression.MEDIUM:K=13;break;case t.image_compression.SLOW:K=14;break;default:K=12}return K}(g);return Y===this.decode.FLATE_DECODE&&(O="/Predictor "+M+" "),O+="/Colors "+T+" /BitsPerComponent "+v+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(R&&this.__addimage__.isArrayBuffer(R)||this.__addimage__.isArrayBufferView(R))&&(R=this.__addimage__.arrayBufferToBinaryString(R)),{alias:y,data:p,index:f,filter:Y,decodeParameters:O,transparency:_,palette:C,sMask:R,predictor:M,width:w.width,height:w.height,bitsPerComponent:v,colorSpace:b}}}})(yt.API),function(t){t.processGIF89A=function(e,n,r,s){var i=new Cre(e),o=i.width,a=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new f5(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)},t.processGIF87A=t.processGIF89A}(yt.API),Zi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){fn.log("bit decode error:"+n)}},Zi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var l=this.palette[i>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Zi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,a=i>>4,l=15&i,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Zi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Zi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,a=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=r*this.width*4+4*s;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},Zi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Zi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Zi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=o}},Zi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,s){var i=new Zi(e,!1),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new f5(100).encode(l,100);return t.processJPEG.call(this,c,n,r,s)}}(yt.API),JA.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,s){var i=new JA(e),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new f5(100).encode(l,100);return t.processJPEG.call(this,c,n,r,s)}}(yt.API),yt.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,l=0,c=0;c<s;c+=4){var u=r[c],d=r[c+1],p=r[c+2],f=r[c+3];i[a++]=u,i[a++]=d,i[a++]=p,o[l++]=f}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},yt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ih=yt.API,D1=ih.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:s.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,p=0,f=t.length,y=0,g=a[0]||l,b=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?b.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(p=d&&rn(c[r])==="object"&&!isNaN(parseInt(c[r][y],10))?c[r][y]/u:0,b.push((a[r]||g)/l+p)),y=r;return b},KA=ih.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return ih.processArabic&&(t=ih.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:D1.apply(this,arguments).reduce(function(i,o){return i+o},0)},ZA=function(t,e,n,r){for(var s=[],i=0,o=t.length,a=0;i!==o&&a+e[i]<n;)a+=e[i],i++;s.push(t.slice(0,i));var l=i;for(a=0;i!==o;)a+e[i]>r&&(s.push(t.slice(l,i)),a=0,l=i),a+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},XA=function(t,e,n){n||(n={});var r,s,i,o,a,l,c,u=[],d=[u],p=n.textIndent||0,f=0,y=0,g=t.split(" "),b=D1.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),w=[];g.map(function(T){(T=T.split(/\s*\n/)).length>1?w=w.concat(T.map(function(C,R){return(R&&C.length?`
`:"")+C})):w.push(T[0])}),g=w,l=KA.apply(this,[v,n])}for(i=0,o=g.length;i<o;i++){var _=0;if(r=g[i],l&&r[0]==`
`&&(r=r.substr(1),_=1),p+f+(y=(s=D1.apply(this,[r,n])).reduce(function(T,C){return T+C},0))>e||_){if(y>e){for(a=ZA.apply(this,[r,s,e-(p+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);y=s.slice(r.length-(u[0]?u[0].length:0)).reduce(function(T,C){return T+C},0)}else u=[r];d.push(u),p=y+l,f=b}else u.push(r),p+=f+y,f=b}return c=l?function(T,C){return(C?v:"")+T.join(" ")}:function(T){return T.join(" ")},d.map(c)},ih.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(XA.apply(this,[r[a],o,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},s=0;s<e.length;s++)n[e[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=e[s];var i=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var p,f,y,g,b=["{"];for(var v in d){if(p=d[v],isNaN(parseInt(v,10))?f="'"+v+"'":(v=parseInt(v,10),f=(f=i(v).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof p=="number")p<0?(y=i(p).slice(3),g="-"):(y=i(p).slice(2),g=""),y=g+y.slice(0,-1)+r[y.slice(-1)];else{if(rn(p)!=="object")throw new Error("Don't know what to do with value type "+rn(p)+".");y=o(p)}b.push(f+y)}return b.push("}"),b.join("")},a=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,f,y,g,b={},v=1,w=b,_=[],T="",C="",R=d.length-1,E=1;E<R;E+=1)(g=d[E])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(_.push([w,y]),w={},y=void 0):g=="}"?((f=_.pop())[0][f[1]]=w,y=void 0,w=f[0]):g=="-"?v=-1:y===void 0?n.hasOwnProperty(g)?(T+=n[g],y=parseInt(T,16)*v,v=1,T=""):T+=g:n.hasOwnProperty(g)?(C+=n[g],w[y]=parseInt(C,16)*v,v=1,y=void 0,C=""):C+=g;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var p=d.font,f=u.Unicode[p.postScriptName];f&&(p.metadata.Unicode={},p.metadata.Unicode.widths=f.widths,p.metadata.Unicode.kerning=f.kerning);var y=c.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])}(yt.API),function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(mm(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(yt),function(t){function e(){return(wt.canvg?Promise.resolve(wt.canvg):x_(()=>import("./index.es-DWyziUC5.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}yt.API.addSvgAsImage=function(n,r,s,i,o,a,l,c){if(isNaN(r)||isNaN(s))throw fn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw fn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(y){return y.fromString(d,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,s,i,o,l,c)})}}(),yt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},yt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function p(y,g){var b,v=!1;for(b=0;b<y.length;b+=1)y[b]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=a.length;for(d=0;d<f;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(rn(t)==="object"){for(s in t)if(i=t[s],p(a,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&p(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(c=0;c<i.length;c+=1)if(r=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(r=!1);r===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?g.push("/"+y+" /"+n[y].value):g.push("/"+y+" "+n[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+o.length+a.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(yt.API),function(t){var e=t.API,n=e.pdfEscape16=function(i,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,p=i.length;d<p;++d){if(a=o.metadata.characterToGlyph(i.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=i.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(i){var o,a,l,c,u,d,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(a=Object.keys(i).sort(function(f,y){return f-y})).length;d<p;d++)o=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",y=0;y<p.length;y++)f+=String.fromCharCode(p[y]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var b=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ch(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+ch(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+ch(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,p="",f=0;f<d.length;f++)p+=String.fromCharCode(d[f]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var g=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var b=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+ch(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ch(a.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,a=i.text||"",l=i.x,c=i.y,u=i.options||{},d=i.mutex||{},p=d.pdfEscape,f=d.activeFontKey,y=d.fonts,g=f,b="",v=0,w="",_=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(w=a,g=f,Array.isArray(a)&&(w=a[0]),v=0;v<w.length;v+=1)y[g].metadata.hasOwnProperty("cmap")&&(o=y[g].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),o||w[v].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?b+=w[v]:b+="";var T="";return parseInt(g.slice(1))<14||_==="WinAnsiEncoding"?T=p(b,g).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(T=n(b,y[g])),d.isHex=!0,{text:T,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(i){var o=i.text||"",a=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([s(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(s(Object.assign({},l,{text:o[c]})).text);i.text=a}else i.text=s(Object.assign({},l,{text:o})).text}])}(yt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(yt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,i,o,a,l,c,u,d=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var T=function(L){var P=L.charCodeAt(),U=P>>8,z=g[U];return z!==void 0?d[256*z+(255&P)]:U===252||U===253?"AL":v.test(U)?"L":U===8?"R":"N"},C=function(L){for(var P,U=0;U<L.length;U++){if((P=T(L.charAt(U)))==="L")return!1;if(P==="R")return!0}return!1},R=function(L,P,U,z){var Y,O,$,B,J=P[z];switch(J){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(J="AN");break;case"AL":w=!0,J="R";break;case"WS":J="N";break;case"CS":z<1||z+1>=P.length||(Y=U[z-1])!=="EN"&&Y!=="AN"||(O=P[z+1])!=="EN"&&O!=="AN"?J="N":w&&(O="AN"),J=O===Y?O:"N";break;case"ES":J=(Y=z>0?U[z-1]:"B")==="EN"&&z+1<P.length&&P[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&U[z-1]==="EN"){J="EN";break}if(w){J="N";break}for($=z+1,B=P.length;$<B&&P[$]==="ET";)$++;J=$<B&&P[$]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(B=P.length,$=z+1;$<B&&P[$]==="NSM";)$++;if($<B){var re=L[z],X=re>=1425&&re<=2303||re===64286;if(Y=P[$],X&&(Y==="R"||Y==="AL")){J="R";break}}}J=z<1||(Y=P[z-1])==="B"?"N":U[z-1];break;case"B":w=!1,s=!0,J=_;break;case"S":i=!0,J="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":J="N"}return J},E=function(L,P,U){var z=L.split("");return U&&A(z,U,{hiLevel:_}),z.reverse(),P&&P.reverse(),z.join("")},A=function(L,P,U){var z,Y,O,$,B,J=-1,re=L.length,X=0,M=[],F=_?f:p,K=[];for(w=!1,s=!1,i=!1,Y=0;Y<re;Y++)K[Y]=T(L[Y]);for(O=0;O<re;O++){if(B=X,M[O]=R(L,K,M,O),z=240&(X=F[B][y[M[O]]]),X&=15,P[O]=$=F[X][5],z>0)if(z===16){for(Y=J;Y<O;Y++)P[Y]=1;J=-1}else J=-1;if(F[X][6])J===-1&&(J=O);else if(J>-1){for(Y=J;Y<O;Y++)P[Y]=$;J=-1}K[O]==="B"&&(P[O]=0),U.hiLevel|=$}i&&function(ee,se,oe){for(var ae=0;ae<oe;ae++)if(ee[ae]==="S"){se[ae]=_;for(var pe=ae-1;pe>=0&&ee[pe]==="WS";pe--)se[pe]=_}}(K,P,re)},D=function(L,P,U,z,Y){if(!(Y.hiLevel<L)){if(L===1&&_===1&&!s)return P.reverse(),void(U&&U.reverse());for(var O,$,B,J,re=P.length,X=0;X<re;){if(z[X]>=L){for(B=X+1;B<re&&z[B]>=L;)B++;for(J=X,$=B-1;J<$;J++,$--)O=P[J],P[J]=P[$],P[$]=O,U&&(O=U[J],U[J]=U[$],U[$]=O);X=B}X++}}},H=function(L,P,U){var z=L.split(""),Y={hiLevel:_};return U||(U=[]),A(z,U,Y),function(O,$,B){if(B.hiLevel!==0&&u)for(var J,re=0;re<O.length;re++)$[re]===1&&(J=b.indexOf(O[re]))>=0&&(O[re]=b[J+1])}(z,U,Y),D(2,z,P,U,Y),D(1,z,P,U,Y),z.join("")};return this.__bidiEngine__.doBidiReorder=function(L,P,U){if(function(Y,O){if(O)for(var $=0;$<Y.length;$++)O[$]=$;a===void 0&&(a=C(Y)),c===void 0&&(c=C(Y))}(L,P),o||!l||c)if(o&&l&&a^c)_=a?1:0,L=E(L,P,U);else if(!o&&l&&c)_=a?1:0,L=H(L,P,U),L=E(L,P);else if(!o||a||l||c){if(o&&!l&&a^c)L=E(L,P),a?(_=0,L=H(L,P,U)):(_=1,L=H(L,P,U),L=E(L,P));else if(o&&a&&!l&&c)_=1,L=H(L,P,U),L=E(L,P);else if(!o&&!l&&a^c){var z=u;a?(_=1,L=H(L,P,U),_=0,u=!1,L=H(L,P,U),u=z):(_=0,L=H(L,P,U),L=E(L,P),_=1,u=!1,L=H(L,P,U),u=z,L=E(L,P))}}else _=0,L=H(L,P,U);else _=a?1:0,L=H(L,P,U);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,l=L.isOutputVisual,a=L.isInputRtl,c=L.isOutputRtl,u=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(o=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?o.push([n.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):o.push([n.doBidiReorder(s[a])]);r.text=o}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(yt),yt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Mc(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Bre(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Are(this.contents),this.head=new Pre(this),this.name=new Mre(this),this.cmap=new CD(this),this.toUnicode={},this.hhea=new Ere(this),this.maxp=new Dre(this),this.hmtx=new Ore(this),this.post=new Lre(this),this.os2=new jre(this),this.loca=new zre(this),this.glyf=new Ire(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Eo,Mc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,i,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)n=e[r],i.push(this.writeByte(n));return i},t}(),Are=function(){var t;function e(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,i,o,a,l,c,u,d,p,f,y,g;for(g in f=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),u=16*f-d,(s=new Mc).writeInt(this.scalarType),s.writeShort(f),s.writeShort(d),s.writeShort(o),s.writeShort(u),i=16*f,c=s.pos+i,a=null,y=[],n)for(p=n[g],s.writeString(g),s.writeInt(t(p)),s.writeInt(c),s.writeInt(p.length),y=y.concat(p),g==="head"&&(a=c),c+=p.length;c%4;)y.push(0),c++;return s.write(y),r=2981146554-t(s.data),s.pos=a+8,s.writeUInt32(r),s.data},t=function(n){var r,s,i,o;for(n=AD.call(n);n.length%4;)n.push(0);for(i=new Mc(n),s=0,r=0,o=n.length;r<o;r=r+=4)s+=i.readUInt32();return 4294967295&s},e}(),Tre={}.hasOwnProperty,Sa=function(t,e){for(var n in e)Tre.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Eo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Pre=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Eo),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Mc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),eT=function(){function t(e,n){var r,s,i,o,a,l,c,u,d,p,f,y,g,b,v,w,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,i=function(){var T,C;for(C=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)C.push(e.readUInt16());return C}(),e.pos+=2,g=function(){var T,C;for(C=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)C.push(e.readUInt16());return C}(),c=function(){var T,C;for(C=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)C.push(e.readUInt16());return C}(),u=function(){var T,C;for(C=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)C.push(e.readUInt16());return C}(),s=(this.length-e.pos+this.offset)/2,a=function(){var T,C;for(C=[],l=T=0;0<=s?T<s:T>s;l=0<=s?++T:--T)C.push(e.readUInt16());return C}(),l=v=0,_=i.length;v<_;l=++v)for(b=i[l],r=w=y=g[l];y<=b?w<=b:w>=b;r=y<=b?++w:--w)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-y)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,s,i,o,a,l,c,u,d,p,f,y,g,b,v,w,_,T,C,R,E,A,D,H,L,P,U,z,Y,O,$,B,J,re,X,M,F,K,ee,se,oe,ae,pe,_e,be,Ce;switch(z=new Mc,o=Object.keys(e).sort(function(Fe,et){return Fe-et}),n){case"macroman":for(g=0,b=function(){var Fe=[];for(y=0;y<256;++y)Fe.push(0);return Fe}(),w={0:0},i={},Y=0,J=o.length;Y<J;Y++)w[pe=e[s=o[Y]]]==null&&(w[pe]=++g),i[s]={old:e[s],new:w[e[s]]},b[s]=w[e[s]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(b),{charMap:i,subtable:z.data,maxGlyphID:g+1};case"unicode":for(P=[],d=[],_=0,w={},r={},v=c=null,O=0,re=o.length;O<re;O++)w[C=e[s=o[O]]]==null&&(w[C]=++_),r[s]={old:C,new:w[C]},a=w[C]-s,v!=null&&a===c||(v&&d.push(v),P.push(s),c=a),v=s;for(v&&d.push(v),d.push(65535),P.push(65535),H=2*(D=P.length),A=2*Math.pow(Math.log(D)/Math.LN2,2),p=Math.log(A/2)/Math.LN2,E=2*D-A,l=[],R=[],f=[],y=$=0,X=P.length;$<X;y=++$){if(L=P[y],u=d[y],L===65535){l.push(0),R.push(0);break}if(L-(U=r[L].new)>=32768)for(l.push(0),R.push(2*(f.length+D-y)),s=B=L;L<=u?B<=u:B>=u;s=L<=u?++B:--B)f.push(r[s].new);else l.push(U-L),R.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*D+2*f.length),z.writeUInt16(0),z.writeUInt16(H),z.writeUInt16(A),z.writeUInt16(p),z.writeUInt16(E),oe=0,M=d.length;oe<M;oe++)s=d[oe],z.writeUInt16(s);for(z.writeUInt16(0),ae=0,F=P.length;ae<F;ae++)s=P[ae],z.writeUInt16(s);for(_e=0,K=l.length;_e<K;_e++)a=l[_e],z.writeUInt16(a);for(be=0,ee=R.length;be<ee;be++)T=R[be],z.writeUInt16(T);for(Ce=0,se=f.length;Ce<se;Ce++)g=f[Ce],z.writeUInt16(g);return{charMap:r,subtable:z.data,maxGlyphID:_+1}}},t}(),CD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Eo),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,s,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r=new eT(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var s,i;return r==null&&(r="macroman"),s=eT.encode(n,r),(i=new Mc).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),Ere=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Eo),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),jre=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Eo),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),Lre=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Eo),e.prototype.tag="post",e.prototype.parse=function(n){var r,s,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(s=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)r=n.readByte(),i.push(this.names.push(n.readString(r)));return i;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),Rre=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Mre=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Eo),e.prototype.tag="name",e.prototype.parse=function(n){var r,s,i,o,a,l,c,u,d,p,f;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),s=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=d=0,p=s.length;d<p;o=++d)i=s[o],n.pos=i.offset,u=n.readString(i.length),a=new Rre(u,i),c[f=i.nameID]==null&&(c[f]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Dre=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Eo),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),Ore=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Eo),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,s,i,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(n.readInt16());return d}(),this.widths=(function(){var u,d,p,f;for(f=[],u=0,d=(p=this.metrics).length;u<d;u++)o=p[u],f.push(o.advance);return f}).call(this),s=this.widths[this.widths.length-1],c=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),AD=[].slice,Ire=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Eo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,s,i,o,a,l,c,u,d,p;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,s=o.indexOf(n),(i=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,a=(l=new Mc(r.read(i))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[n]=a===-1?new Vre(l,u,p,c,d):new Fre(l,a,u,p,c,d),this.cache[n]))},e.prototype.encode=function(n,r,s){var i,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)i=n[r[l]],o.push(a.length),i&&(a=a.concat(i.encode(s)));return o.push(a.length),{table:a,offsets:o}},e}(),Fre=function(){function t(e,n,r,s,i,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Vre=function(){function t(e,n,r,s,i){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Mc(AD.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),zre=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Eo),e.prototype.tag="loca",e.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,a=0;a<s.length;++a)if(s[a]=i,o<r.length&&r[o]==a){++o,s[a]=i;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(i+=c)}for(var u=new Array(4*s.length),d=0;d<s.length;++d)u[4*d+3]=255&s[d],u[4*d+2]=(65280&s[d])>>8,u[4*d+1]=(16711680&s[d])>>16,u[4*d]=(4278190080&s[d])>>24;return u},e}(),Bre=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,i,o,a,l;for(s={},o=0,a=e.length;o<a;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in l=this.glyphsFor(n))r=l[i],s[i]=r;return s},t.prototype.encode=function(e,n){var r,s,i,o,a,l,c,u,d,p,f,y,g,b,v;for(s in r=CD.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},v=r.charMap)f[(l=v[s]).old]=l.new;for(y in p=r.maxGlyphID,o)y in f||(f[y]=p++);return u=function(w){var _,T;for(_ in T={},w)T[w[_]]=_;return T}(f),d=Object.keys(u).sort(function(w,_){return w-_}),g=function(){var w,_,T;for(T=[],w=0,_=d.length;w<_;w++)a=d[w],T.push(u[a]);return T}(),i=this.font.glyf.encode(o,g,f),c=this.font.loca.encode(i.offsets,g),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();yt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,i,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)o=n[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+n},e}();function qre({currentDream:t,allDreams:e}){const{toast:n}=zr(),[r,s]=N.useState(!1),[i,o]=N.useState("I Miei Sogni"),[a,l]=N.useState(""),[c,u]=N.useState(!0),[d,p]=N.useState(!0),[f,y]=N.useState(!0),[g,b]=N.useState(!0),[v,w]=N.useState([]),[_,T]=N.useState(!1),[C,R]=N.useState("pdf"),E=Y=>{const O=Y.content||Y.testo||"",$=Y.story||Y.racconto||"",B=Y.category||Y.categoria||"non_categorizzato",J=Y.emotion||Y.emozione||"neutro",re=Y.isFavorite!==void 0?Y.isFavorite:Y.preferito!==void 0?Y.preferito:!1,X=typeof re=="number"?re>0:re;return{id:Y.id,content:O,story:$,category:B,emotion:J,favorite:X,dreamImageUrl:Y.dreamImageUrl,emojiTranslation:Y.emojiTranslation,createdAt:Y.createdAt}},A=async()=>{if(!t){n({variant:"destructive",description:"Nessun sogno selezionato da esportare."});return}try{s(!0);const Y=E(t),O=new yt({orientation:"portrait",unit:"mm",format:"a4"});if(O.setFontSize(24),O.setTextColor(75,0,130),O.text("Narratore di Sogni",105,20,{align:"center"}),d&&Y.createdAt){O.setFontSize(10),O.setTextColor(100,100,100);const F=new Date(Y.createdAt);O.text(`Data: ${F.toLocaleDateString("it-IT")}`,105,28,{align:"center"})}O.setFontSize(18),O.setTextColor(0,0,0);const $=`Sogno: ${Y.content.substring(0,40)}${Y.content.length>40?"...":""}`;if(O.text($,105,40,{align:"center"}),f||g){O.setFontSize(11),O.setTextColor(100,100,100);let F="";f&&(F+=`Categoria: ${Y.category} `),g&&(F+=`${f?"| ":""}Emozione: ${Y.emotion}`),F&&O.text(F,105,48,{align:"center"})}if(c&&Y.dreamImageUrl)try{const K=await(await fetch(Y.dreamImageUrl)).blob(),ee=URL.createObjectURL(K),se=80,oe=80,pe=(O.internal.pageSize.getWidth()-se)/2;O.addImage(ee,"PNG",pe,55,se,oe),URL.revokeObjectURL(ee)}catch(F){console.error("Errore nel caricamento dell'immagine:",F)}O.setFontSize(12),O.setTextColor(0,0,0);const B=c&&Y.dreamImageUrl?145:60;O.text("Il sogno:",20,B);const J=O.splitTextToSize(Y.content||"",170);O.setFont("helvetica","italic"),O.text(J,20,B+10),O.setFont(void 0,"normal");const re=B+J.length*7+15;O.text("Storia generata:",20,re);const X=O.splitTextToSize(Y.story,170);if(O.text(X,20,re+10),Y.emojiTranslation){const F=re+X.length*7+15;O.text("Traduzione emoji:",20,F),O.setFont(void 0,"normal"),O.text(Y.emojiTranslation,20,F+10)}const M=O.internal.getNumberOfPages();O.setFontSize(10),O.setTextColor(150,150,150),O.text(`Generato con Narratore di Sogni - Pagina ${M}`,105,287,{align:"center"}),O.save(`Sogno-${Y.id}.pdf`),n({description:"PDF del sogno esportato con successo!"})}catch(Y){console.error("Errore durante l'esportazione:",Y),n({variant:"destructive",description:"Errore durante l'esportazione del PDF. Riprova."})}finally{s(!1)}},D=async()=>{let Y=[];if(v.length>0?Y=e.filter(O=>v.includes(O.id)):_?Y=e.filter(O=>{const $=O.isFavorite!==void 0?O.isFavorite:O.preferito!==void 0?O.preferito:!1;return typeof $=="number"?$>0:$}):Y=[...e],Y.length===0){n({variant:"destructive",description:"Nessun sogno selezionato per l'esportazione."});return}try{s(!0);const O=[...Y].sort((re,X)=>!re.createdAt||!X.createdAt?0:new Date(X.createdAt).getTime()-new Date(re.createdAt).getTime()),$=new yt({orientation:"portrait",unit:"mm",format:"a4"});$.setFillColor(75,0,130),$.rect(0,0,$.internal.pageSize.getWidth(),40,"F"),$.setTextColor(255,255,255),$.setFontSize(28),$.text("Narratore di Sogni",105,25,{align:"center"}),$.setTextColor(0,0,0),$.setFontSize(22),$.text(i,105,70,{align:"center"}),a&&($.setFontSize(14),$.text(`di ${a}`,105,85,{align:"center"})),$.setFontSize(12),$.text(`Questa collezione contiene ${Y.length} sogni.`,105,110,{align:"center"});const B=new Date;$.text(`Creato il ${B.toLocaleDateString("it-IT")}`,105,120,{align:"center"}),$.setFontSize(10),$.setTextColor(150,150,150),$.text("Generato con l'app Narratore di Sogni",105,287,{align:"center"}),$.addPage(),$.setTextColor(75,0,130),$.setFontSize(18),$.text("Indice dei Sogni",105,20,{align:"center"}),$.setTextColor(0,0,0),$.setFontSize(12);let J=40;for(let re=0;re<O.length;re++){const X=E(O[re]),M=`${re+1}. ${X.content.substring(0,50)}${X.content.length>50?"...":""}`;if($.text(M,20,J),$.setTextColor(100,100,100),d&&X.createdAt){const F=new Date(X.createdAt);$.text(`[${F.toLocaleDateString("it-IT")}]`,170,J,{align:"right"})}$.setTextColor(0,0,0),J+=10,J>270&&re<O.length-1&&($.addPage(),$.setTextColor(75,0,130),$.setFontSize(18),$.text("Indice dei Sogni (continua)",105,20,{align:"center"}),$.setTextColor(0,0,0),$.setFontSize(12),J=40)}for(let re=0;re<O.length;re++){$.addPage();const X=E(O[re]);if($.setFontSize(16),$.setTextColor(75,0,130),$.text(`Sogno ${re+1}`,105,20,{align:"center"}),d&&X.createdAt){$.setFontSize(10),$.setTextColor(100,100,100);const se=new Date(X.createdAt);$.text(`Data: ${se.toLocaleDateString("it-IT")}`,105,28,{align:"center"})}if(f||g){$.setFontSize(11),$.setTextColor(100,100,100);let se="";f&&(se+=`Categoria: ${X.category} `),g&&(se+=`${f?"| ":""}Emozione: ${X.emotion}`),se&&$.text(se,105,36,{align:"center"})}let M=45;if(c&&X.dreamImageUrl)try{const oe=await(await fetch(X.dreamImageUrl)).blob(),ae=URL.createObjectURL(oe),pe=70,_e=70,Ce=($.internal.pageSize.getWidth()-pe)/2;$.addImage(ae,"PNG",Ce,M,pe,_e),M=M+_e+10,URL.revokeObjectURL(ae)}catch(se){console.error("Errore nel caricamento dell'immagine:",se)}$.setFontSize(12),$.setTextColor(0,0,0),$.text("Il sogno:",20,M);const F=$.splitTextToSize(X.content,170);$.setFont(void 0,"italic"),$.text(F,20,M+10),$.setFont(void 0,"normal");const K=M+F.length*7+15;$.text("Storia generata:",20,K);const ee=$.splitTextToSize(X.story,170);if($.text(ee,20,K+10),X.emojiTranslation){const se=Math.min(K+ee.length*7+15,260);se>=260?($.addPage(),$.text("Traduzione emoji:",20,20),$.text(X.emojiTranslation,20,30)):($.text("Traduzione emoji:",20,se),$.text(X.emojiTranslation,20,se+10))}$.setFontSize(10),$.setTextColor(150,150,150),$.text(`Generato con Narratore di Sogni - Pagina ${re+3}`,105,287,{align:"center"})}$.save(`${i.replace(/\s+/g,"-")}.pdf`),n({description:`Collezione di ${Y.length} sogni esportata con successo!`})}catch(O){console.error("Errore durante l'esportazione:",O),n({variant:"destructive",description:"Errore durante l'esportazione della collezione. Riprova."})}finally{s(!1)}},H=async()=>{let Y=[];if(v.length>0?Y=e.filter(O=>v.includes(O.id)):_?Y=e.filter(O=>{const $=O.isFavorite!==void 0?O.isFavorite:O.preferito!==void 0?O.preferito:!1;return typeof $=="number"?$>0:$}):Y=[...e],Y.length===0){n({variant:"destructive",description:"Nessun sogno selezionato per l'esportazione."});return}try{s(!0);const $={sogni:[...Y].sort((X,M)=>!X.createdAt||!M.createdAt?0:new Date(M.createdAt).getTime()-new Date(X.createdAt).getTime()).map(X=>E(X)),titolo:i,autore:a},B=await fetch("/api/genera-ebook",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(!B.ok){const X=await B.json();throw new Error(X.error||"Errore nella generazione dell'ebook")}const J=await B.text(),re=window.open("","_blank");if(!re)throw new Error("Il browser ha bloccato l'apertura della nuova finestra. Controlla le impostazioni del browser.");re.document.open(),re.document.write(J),re.document.close(),n({description:`Ebook HTML con ${Y.length} sogni generato con successo!`})}catch(O){console.error("Errore durante l'esportazione dell'ebook:",O),n({variant:"destructive",description:O.message||"Errore durante l'esportazione dell'ebook. Riprova."})}finally{s(!1)}},L=async()=>{if(!t){n({variant:"destructive",description:"Nessun sogno selezionato da esportare."});return}try{s(!0);const Y=E(t),O={sogni:[Y],titolo:`Sogno: ${Y.content.substring(0,30)}${Y.content.length>30?"...":""}`,autore:a||"Narratore di Sogni"},$=await fetch("/api/genera-ebook",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(!$.ok){const re=await $.json();throw new Error(re.error||"Errore nella generazione dell'ebook")}const B=await $.text(),J=window.open("","_blank");if(!J)throw new Error("Il browser ha bloccato l'apertura della nuova finestra. Controlla le impostazioni del browser.");J.document.open(),J.document.write(B),J.document.close(),n({description:"Ebook HTML del sogno generato con successo!"})}catch(Y){console.error("Errore durante l'esportazione dell'ebook:",Y),n({variant:"destructive",description:Y.message||"Errore durante l'esportazione dell'ebook. Riprova."})}finally{s(!1)}},P=()=>{C==="pdf"?A():L()},U=()=>{C==="pdf"?D():H()},z=Y=>{w(O=>O.includes(Y)?O.filter($=>$!==Y):[...O,Y])};return h.jsxs(hr,{className:"w-full dark:bg-slate-900/60 light:bg-white/90 backdrop-blur-sm mt-4",children:[h.jsxs(Tr,{className:"pb-2",children:[h.jsxs(Pr,{className:"text-lg font-semibold flex items-center",children:[h.jsx(qx,{className:"h-5 w-5 mr-2"}),"Esporta in PDF/eBook"]}),h.jsx(ko,{children:"Trasforma i tuoi sogni in documenti da conservare e condividere"})]}),h.jsx(xr,{children:h.jsxs(Xg,{defaultValue:"single",className:"space-y-4",children:[h.jsxs(Jf,{className:"grid grid-cols-2",children:[h.jsx(Ri,{value:"single",children:"Sogno singolo"}),h.jsx(Ri,{value:"collection",children:"Collezione"})]}),h.jsx(Mi,{value:"single",className:"space-y-4",children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"text-sm text-muted-foreground",children:"Esporta il sogno corrente come documento PDF o ebook HTML facilmente condivisibile."}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Formato di esportazione:"}),h.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[h.jsxs(it,{variant:C==="pdf"?"default":"outline",className:"flex-1",onClick:()=>R("pdf"),children:[h.jsx(qx,{className:"h-4 w-4 mr-2"}),"PDF"]}),h.jsxs(it,{variant:C==="epub"?"default":"outline",className:"flex-1",onClick:()=>R("epub"),children:[h.jsx(Pb,{className:"h-4 w-4 mr-2"}),"HTML"]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"include-images-single",checked:c,onCheckedChange:u}),h.jsx(jt,{htmlFor:"include-images-single",children:"Includi immagine"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"include-categories-single",checked:f,onCheckedChange:y}),h.jsx(jt,{htmlFor:"include-categories-single",children:"Includi categoria"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"include-emotions-single",checked:g,onCheckedChange:b}),h.jsx(jt,{htmlFor:"include-emotions-single",children:"Includi emozione"})]})]}),h.jsx(it,{onClick:P,disabled:!t||r,className:"w-full",children:r?h.jsx(h.Fragment,{children:"Esportazione in corso..."}):h.jsxs(h.Fragment,{children:[h.jsx(n4,{className:"mr-2 h-4 w-4"}),"Esporta sogno corrente in ",C==="pdf"?"PDF":"HTML"]})})]})}),h.jsx(Mi,{value:"collection",className:"space-y-4",children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"text-sm text-muted-foreground",children:"Crea un eBook PDF o HTML con una collezione dei tuoi sogni preferiti o selezionati."}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"collection-title",children:"Titolo della collezione"}),h.jsx(ys,{id:"collection-title",placeholder:"I Miei Sogni",value:i,onChange:Y=>o(Y.target.value)})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"author-name",children:"Nome dell'autore (opzionale)"}),h.jsx(ys,{id:"author-name",placeholder:"Il tuo nome",value:a,onChange:Y=>l(Y.target.value)})]}),h.jsxs("div",{className:"space-y-2 mt-4",children:[h.jsx("h4",{className:"text-sm font-medium",children:"Sogni da includere:"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"only-favorites",checked:_,disabled:v.length>0,onCheckedChange:T}),h.jsx(jt,{htmlFor:"only-favorites",children:"Solo sogni preferiti"})]}),h.jsxs("div",{className:"mt-2",children:[h.jsx(jt,{className:"mb-2 block",children:"Oppure seleziona sogni specifici:"}),h.jsx("div",{className:"border rounded-md p-2 max-h-32 overflow-y-auto",children:e.length>0?e.map(Y=>{const O=Y.content||Y.testo||"";return h.jsxs("div",{className:"flex items-center space-x-2 py-1",children:[h.jsx(oD,{id:`dream-${Y.id}`,checked:v.includes(Y.id),onCheckedChange:()=>{z(Y.id),_&&T(!1)}}),h.jsxs(jt,{htmlFor:`dream-${Y.id}`,className:"cursor-pointer text-sm",children:[O.substring(0,40),O.length>40?"...":""]})]},Y.id)}):h.jsx("div",{className:"text-sm text-muted-foreground text-center py-2",children:"Nessun sogno disponibile"})})]})]}),h.jsxs("div",{className:"space-y-2 mt-4",children:[h.jsx("h4",{className:"text-sm font-medium",children:"Formato di esportazione:"}),h.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[h.jsxs(it,{variant:C==="pdf"?"default":"outline",className:"flex-1",onClick:()=>R("pdf"),children:[h.jsx(qx,{className:"h-4 w-4 mr-2"}),"PDF"]}),h.jsxs(it,{variant:C==="epub"?"default":"outline",className:"flex-1",onClick:()=>R("epub"),children:[h.jsx(Pb,{className:"h-4 w-4 mr-2"}),"HTML"]})]})]}),h.jsxs("div",{className:"space-y-2 mt-4",children:[h.jsx("h4",{className:"text-sm font-medium",children:"Opzioni di formattazione:"}),h.jsxs("div",{className:"space-y-2 grid grid-cols-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"include-images-collection",checked:c,onCheckedChange:u}),h.jsx(jt,{htmlFor:"include-images-collection",children:"Includi immagini"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"include-dates",checked:d,onCheckedChange:p}),h.jsx(jt,{htmlFor:"include-dates",children:"Includi date"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"include-categories-collection",checked:f,onCheckedChange:y}),h.jsx(jt,{htmlFor:"include-categories-collection",children:"Includi categorie"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"include-emotions-collection",checked:g,onCheckedChange:b}),h.jsx(jt,{htmlFor:"include-emotions-collection",children:"Includi emozioni"})]})]})]}),h.jsx(it,{onClick:U,disabled:r||e.length===0&&v.length===0&&!_,className:"w-full",children:r?h.jsx(h.Fragment,{children:"Creazione eBook in corso..."}):h.jsxs(h.Fragment,{children:[h.jsx(OB,{className:"mr-2 h-4 w-4"}),"Crea eBook ",C.toUpperCase()]})})]})})]})})]})}var v3="Progress",y3=100,[Ure,Ahe]=Br(v3),[Wre,$re]=Ure(v3),TD=N.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=Hre,...o}=t;(s||s===0)&&!tT(s)&&console.error(Gre(`${s}`,"Progress"));const a=tT(s)?s:y3;r!==null&&!nT(r,a)&&console.error(Yre(`${r}`,"Progress"));const l=nT(r,a)?r:null,c=wy(l)?i(l,a):void 0;return h.jsx(Wre,{scope:n,value:l,max:a,children:h.jsx(lt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":wy(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":jD(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});TD.displayName=v3;var PD="ProgressIndicator",ED=N.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=$re(PD,n);return h.jsx(lt.div,{"data-state":jD(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});ED.displayName=PD;function Hre(t,e){return`${Math.round(t/e*100)}%`}function jD(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function wy(t){return typeof t=="number"}function tT(t){return wy(t)&&!isNaN(t)&&t>0}function nT(t,e){return wy(t)&&!isNaN(t)&&t<=e&&t>=0}function Gre(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${y3}\`.`}function Yre(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${y3} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var LD=TD,Kre=ED;const RD=N.forwardRef(({className:t,value:e,...n},r)=>h.jsx(LD,{ref:r,className:rt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:h.jsx(Kre,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));RD.displayName=LD.displayName;function Zre({dreamStory:t,emotion:e}){const{toast:n}=zr(),[r,s]=N.useState([]),[i,o]=N.useState(""),[a,l]=N.useState(1),[c,u]=N.useState(1),[d,p]=N.useState(.8),[f,y]=N.useState(!1),[g,b]=N.useState(0),[v,w]=N.useState(!0),[_,T]=N.useState(.3),[C,R]=N.useState("default"),E=N.useRef(null),A=window.speechSynthesis,D=N.useRef(null),H=N.useRef(0),L=N.useRef(0),P=N.useRef(null),U={default:{url:"default",description:"Ambiente generico"},avventura:{url:"adventure",description:"Ambiente avventuroso"},spaventoso:{url:"spooky",description:"Atmosfera inquietante"},romantico:{url:"romantic",description:"Musica romantica"},surreale:{url:"surreal",description:"Ambiente surreale"},tranquillo:{url:"calm",description:"Onde del mare"}},z=F=>{switch(F.toLowerCase()){case"paura":case"terrore":case"ansia":return"spaventoso";case"gioia":case"felicit":case"eccitazione":return"avventura";case"amore":case"passione":return"romantico";case"stupore":case"confusione":return"surreale";case"calma":case"pace":case"serenit":return"tranquillo";default:return"default"}};N.useEffect(()=>{if(!window.speechSynthesis){n({variant:"destructive",description:"La sintesi vocale non  supportata in questo browser. Prova con Chrome, Edge o Safari."});return}const F=()=>{try{const K=A.getVoices();if(!K||K.length===0){console.warn("Nessuna voce disponibile per la sintesi vocale"),setTimeout(F,200);return}const ee=K.filter(se=>se.lang.includes("it")||se.lang.includes("en")).map(se=>({id:se.voiceURI,name:se.name,lang:se.lang,gender:se.name.toLowerCase().includes("female")||se.name.toLowerCase().includes("donna")?"female":"male"}));if(ee.length===0){const se=K.map(oe=>({id:oe.voiceURI,name:oe.name,lang:oe.lang,gender:oe.name.toLowerCase().includes("female")||oe.name.toLowerCase().includes("donna")?"female":"male"}));console.log("Nessuna voce italiana o inglese trovata, uso tutte le voci disponibili:",K),s(se),se.length>0&&o(se[0].id)}else{s(ee);const se=ee.find(oe=>oe.lang.includes("it"));se?o(se.id):ee.length>0&&o(ee[0].id)}}catch(K){console.error("Errore nel caricamento delle voci:",K),n({variant:"destructive",description:"Errore nel caricamento delle voci. Ricarica la pagina o prova con un altro browser."})}};return A.onvoiceschanged!==void 0&&(A.onvoiceschanged=F),F(),R(z(e)),()=>{$(),D.current&&D.current.cleanup&&D.current.cleanup()}},[e]),N.useEffect(()=>{async function F(){try{await SM(),console.log("Tone.js initialized")}catch(K){console.error("Error initializing Tone.js:",K)}}F()},[]);const Y=async()=>{if(t.trim()===""){n({variant:"destructive",description:"Nessuna storia da narrare. Genera prima una storia dal tuo sogno."});return}if(!i){n({variant:"destructive",description:"Seleziona una voce prima di iniziare la riproduzione."});return}try{if(!window.speechSynthesis)throw new Error("La sintesi vocale non  supportata in questo browser");const F=A.getVoices();if(!F||F.length===0)throw new Error("Nessuna voce disponibile per la sintesi vocale");$();let K=F.find(_e=>_e.voiceURI===i);K||(console.warn("Voce selezionata non trovata, uso la voce predefinita"),F.length>0&&(K=F[0]));const ee=t.replace(/([.!?])\s*/g,"$1|").split("|").filter(_e=>_e.trim().length>0);if(ee.length===0)throw new Error("Nessuna frase valida trovata nel testo");let se=!0,oe=ee.length,ae=0;const pe=_e=>{if(_e>=ee.length){y(!1),b(100),P.current&&(clearInterval(P.current),P.current=null),D.current&&J(!0),n({description:"Narrazione completata."});return}const be=new SpeechSynthesisUtterance(ee[_e]);E.current=be,K&&(be.voice=K),be.rate=a,be.pitch=c,be.volume=d,be.onstart=()=>{y(!0),v&&se&&(B(),se=!1),L.current===0&&(L.current=t.length),se&&!P.current&&(P.current=window.setInterval(()=>{const Ce=Math.min(100,Math.round(ae/oe*100));b(Ce)},100))},be.onpause=()=>y(!1),be.onresume=()=>y(!0),be.onend=()=>{ae++,pe(_e+1)},be.onerror=Ce=>{console.error("Errore nella sintesi vocale per la frase:",ee[_e],Ce),ae++,console.log(`Tentativo di proseguire con la prossima frase (${_e+1}/${ee.length})...`),pe(_e+1)},A.speak(be)};pe(0)}catch(F){const K=F;console.error("Errore nell'avvio della riproduzione:",K),v?(y(!0),B(),n({variant:"destructive",description:"La sintesi vocale non  disponibile. Riproduco solo l'audio ambientale."})):n({variant:"destructive",description:"Errore nell'avvio della narrazione: "+(K.message||"Problemi con la sintesi vocale")})}},O=()=>{try{if(A.speaking){if(A.paused){if(A.resume(),D.current&&D.current.synth&&D.current.synth.volume)try{D.current.synth.volume.rampTo(_*-10,.5)}catch(F){console.error("Errore nel ripristino del volume ambientale:",F)}}else if(A.pause(),D.current&&D.current.synth&&D.current.synth.volume)try{D.current.synth.volume.rampTo(-1/0,.5)}catch(F){console.error("Errore nell'abbassamento del volume ambientale:",F)}}else Y()}catch(F){console.error("Errore nel controllo della riproduzione:",F),Y()}},$=()=>{P.current&&(clearInterval(P.current),P.current=null),A.cancel(),J(),y(!1),b(0),H.current=0},B=async()=>{var F;try{D.current&&D.current.cleanup&&D.current.cleanup();const K=((F=U[C])==null?void 0:F.url)||"default";let ee;switch(K){case"default":const se=new ao().toDestination(),oe=new Yo(5).toDestination();se.connect(oe),se.volume.value=-1/0;const ae=new Za(De=>{se.triggerAttackRelease(["C4","E4","G4","B4"][Math.floor(Math.random()*4)],"8n",De,.1)},"4n");ae.start(0),se.volume.rampTo(_*-10,2),ee={synth:se,loop:ae,cleanup:()=>{ae.stop(),se.dispose(),oe.dispose()}};break;case"adventure":const pe=new ao().toDestination(),_e=new Yo(3).toDestination();pe.connect(_e),pe.volume.value=-1/0;const be=new my((De,mn)=>{pe.triggerAttackRelease(mn,"16n",De,.2)},["G3","D4","G4","A4","B4","D5","G4","A4"],"8n");be.start(0),pe.volume.rampTo(_*-8,2),ee={synth:pe,loop:be,cleanup:()=>{be.stop(),pe.dispose(),_e.dispose()}};break;case"spooky":const Ce=new ao().toDestination(),Fe=new Yo(6).toDestination(),et=new Zg("8n",.5).toDestination();Ce.connect(Fe),Ce.connect(et),Ce.volume.value=-1/0;const de=new Za(De=>{const mn=["C2","Eb2","Gb2","A2","B2"][Math.floor(Math.random()*5)];Ce.triggerAttackRelease(mn,"2n",De,.1)},"2n");de.start(0),Ce.volume.rampTo(_*-12,3),ee={synth:Ce,loop:de,cleanup:()=>{de.stop(),Ce.dispose(),Fe.dispose(),et.dispose()}};break;case"romantic":const Q=new ao().toDestination(),Ge=new Yo(4).toDestination();Q.connect(Ge),Q.volume.value=-1/0;const qe=[["E3","G3","B3","E4"],["A3","C4","E4","A4"],["D3","F#3","A3","D4"],["G3","B3","D4","G4"]],Se=new my((De,mn)=>{Q.triggerAttackRelease(mn,"2n",De,.1)},qe,"2n");Se.start(0),Q.volume.rampTo(_*-8,2),ee={synth:Q,loop:Se,cleanup:()=>{Se.stop(),Q.dispose(),Ge.dispose()}};break;case"surreal":const Re=new ao().toDestination(),Be=new Yo(8).toDestination(),te=new c3("16n",.8).toDestination(),le=new a3(.1).start().toDestination();Re.connect(Be),Re.connect(te),Re.connect(le),Re.volume.value=-1/0;const ve=new Za(De=>{const mn=Math.random()*.5,Mt=["D#4","G#3","A#5","C2","F#6"][Math.floor(Math.random()*5)];Re.triggerAttackRelease(Mt,"4n",De+mn,.1)},"3n");ve.start(0),Re.volume.rampTo(_*-15,4),ee={synth:Re,loop:ve,cleanup:()=>{ve.stop(),Re.dispose(),Be.dispose(),te.dispose(),le.dispose()}};break;case"calm":const Pe=new Hm("pink").start(),Te=new Q2({type:"lowpass",frequency:500,Q:1}).toDestination(),Ae=new Z2({frequency:.1,min:300,max:800}).connect(Te.frequency);Pe.connect(Te),Ae.start(),Pe.volume.value=-1/0,Pe.volume.rampTo(_*-25,3),ee={synth:Pe,cleanup:()=>{Pe.stop(),Pe.dispose(),Te.dispose(),Ae.dispose()}};break;default:const Ie=new ao().toDestination(),Ue=new Yo(3).toDestination();Ie.connect(Ue),Ie.volume.value=-1/0;const st=new Za(De=>{Ie.triggerAttackRelease("C4","8n",De)},"4n");st.start(0),Ie.volume.rampTo(_*-12,2),ee={synth:Ie,loop:st,cleanup:()=>{st.stop(),Ie.dispose(),Ue.dispose()}}}D.current=ee}catch(K){console.error("Errore nell'avvio dell'audio ambientale:",K)}},J=(F=!1)=>{D.current&&(F&&D.current.synth&&D.current.synth.volume?(D.current.synth.volume.rampTo(-1/0,2),setTimeout(()=>{D.current&&D.current.cleanup&&(D.current.cleanup(),D.current=null)},2e3)):D.current.cleanup&&(D.current.cleanup(),D.current=null))},re=F=>{R(F),f&&v&&B()},X=F=>{if(T(F),D.current&&D.current.synth&&D.current.synth.volume)try{const K=F*-20;D.current.synth.volume.rampTo(K,.1)}catch(K){console.error("Errore nella regolazione del volume:",K)}},M=()=>{var F;return((F=U[C])==null?void 0:F.description)||"Ambiente generico"};return h.jsxs(hr,{className:"w-full dark:bg-slate-900/60 light:bg-white/90 backdrop-blur-sm mt-4",children:[h.jsxs(Tr,{className:"pb-2",children:[h.jsxs(Pr,{className:"text-lg font-semibold flex items-center",children:[h.jsx(Hj,{className:"h-5 w-5 mr-2"}),"Audio Storytelling Avanzato"]}),h.jsx(ko,{children:"Ascolta la narrazione della tua storia con effetti sonori ambientali"})]}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs(jt,{className:"flex items-center",children:[h.jsx(jb,{className:"h-4 w-4 mr-2"}),"Voce del narratore"]}),h.jsxs(Ja,{value:i,onValueChange:o,children:[h.jsx(sa,{children:h.jsx(el,{placeholder:"Seleziona una voce"})}),h.jsx(ia,{children:r.map(F=>h.jsxs(qn,{value:F.id,children:[F.name," (",F.lang,")"]},F.id))})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(it,{variant:"outline",size:"icon",onClick:$,disabled:!f&&g===0,children:h.jsx(sq,{className:"h-4 w-4"})}),h.jsxs(it,{variant:f?"destructive":"default",className:"px-8",onClick:O,children:[f?h.jsx(l2,{className:"mr-2 h-4 w-4"}):h.jsx(c2,{className:"mr-2 h-4 w-4"}),f?"Pausa":"Riproduci"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[d<=0?h.jsx(Bv,{className:"h-4 w-4"}):d<.5?h.jsx(uq,{className:"h-4 w-4"}):h.jsx(Fm,{className:"h-4 w-4"}),h.jsx(cc,{className:"w-20",value:[d],min:0,max:1,step:.01,onValueChange:F=>p(F[0])})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[h.jsx("span",{children:"Progresso"}),h.jsxs("span",{children:[g,"%"]})]}),h.jsx(RD,{value:g,className:"h-2"})]}),h.jsxs("div",{className:"space-y-4 pt-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(jt,{htmlFor:"rate",className:"flex items-center",children:h.jsx("span",{children:"Velocit:"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(cc,{id:"rate",className:"w-32",value:[a],min:.5,max:2,step:.1,onValueChange:F=>l(F[0])}),h.jsxs("span",{className:"text-xs w-8 text-muted-foreground",children:[a,"x"]})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(jt,{htmlFor:"pitch",className:"flex items-center",children:h.jsx("span",{children:"Tono:"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(cc,{id:"pitch",className:"w-32",value:[c],min:.5,max:2,step:.1,onValueChange:F=>u(F[0])}),h.jsxs("span",{className:"text-xs w-8 text-muted-foreground",children:[c,"x"]})]})]})]}),h.jsxs("div",{className:"border-t pt-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(jt,{className:"flex items-center",children:[h.jsx(Kj,{className:"h-4 w-4 mr-2"}),"Audio ambientale"]}),h.jsx(ms,{checked:v,onCheckedChange:F=>{w(F),F&&f?B():!F&&D.current&&J(!0)}})]}),v&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{className:"text-sm",children:"Tipo di ambiente"}),h.jsxs(Ja,{value:C,onValueChange:re,children:[h.jsx(sa,{children:h.jsx(el,{placeholder:"Seleziona un ambiente"})}),h.jsxs(ia,{children:[h.jsx(qn,{value:"default",children:"Ambiente generico"}),h.jsx(qn,{value:"avventura",children:"Ambiente avventuroso"}),h.jsx(qn,{value:"spaventoso",children:"Atmosfera inquietante"}),h.jsx(qn,{value:"romantico",children:"Musica romantica"}),h.jsx(qn,{value:"surreale",children:"Ambiente surreale"}),h.jsx(qn,{value:"tranquillo",children:"Onde del mare"})]})]}),h.jsx("p",{className:"text-xs text-muted-foreground",children:M()})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(jt,{htmlFor:"ambience-volume",className:"flex items-center",children:[h.jsx(iq,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Volume ambientale:"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(cc,{id:"ambience-volume",className:"w-32",value:[_],min:0,max:1,step:.01,onValueChange:F=>X(F[0])}),h.jsxs("span",{className:"text-xs w-8 text-muted-foreground",children:[Math.round(_*100),"%"]})]})]})]})]}),h.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Personalizza l'esperienza di ascolto con diverse voci e ambienti sonori che si adattano all'emozione della tua storia."})]})]})}function Xre({dreams:t,onSelectDream:e}){const[n,r]=N.useState(0),[s,i]=N.useState(3),o=[...t].sort((f,y)=>{const g=f.createdAt?new Date(f.createdAt).getTime():0;return(y.createdAt?new Date(y.createdAt).getTime():0)-g}),a=Math.ceil(o.length/s),l=o.slice(n*s,(n+1)*s);N.useEffect(()=>{const f=()=>{window.innerWidth<640?i(1):window.innerWidth<1024?i(2):i(3)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);const c=()=>{n<a-1&&r(n+1)},u=()=>{n>0&&r(n-1)},d=f=>{f>=0&&f<a&&r(f)},p=f=>{switch(f){case"adventure":return"Avventura";case"scary":return"Spaventoso";case"romantic":return"Romantico";case"mystery":return"Mistero";case"fantasy":return"Fantasia";case"funny":return"Divertente";case"non_categorizzato":return"Non categorizzato";default:return f||"Non categorizzato"}};return t.length===0?h.jsxs("div",{className:"p-6 text-center dark:text-white light:text-gray-800",children:[h.jsx(Eb,{className:"mx-auto h-12 w-12 mb-2 opacity-50"}),h.jsx("h3",{className:"text-lg font-semibold",children:"Nessun sogno nella timeline"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Inizia a registrare i tuoi sogni per vederli apparire qui."})]}):h.jsxs("div",{className:"w-full space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"text-lg font-semibold dark:text-white light:text-gray-800",children:[h.jsx(Eb,{className:"inline-block mr-2 h-5 w-5"}),"Timeline dei Sogni"]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(it,{variant:"outline",size:"sm",onClick:u,disabled:n===0,"aria-label":"Pagina precedente",children:h.jsx(FB,{className:"h-4 w-4"})}),h.jsxs("span",{className:"text-sm dark:text-white light:text-gray-800 px-2",children:[n+1," / ",a]}),h.jsx(it,{variant:"outline",size:"sm",onClick:c,disabled:n===a-1,"aria-label":"Pagina successiva",children:h.jsx(VB,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gradient-to-b from-purple-500 to-indigo-500"}),h.jsx("div",{className:"space-y-4",children:l.map((f,y)=>{const g=f.content||f.testo||"",b=f.category||f.categoria||"non_categorizzato",v=f.emotion||f.emozione||"neutro",w=f.isFavorite||f.preferito||!1,_=f.createdAt||new Date().toISOString(),T=gH(_),C=qm(T,"dd MMMM yyyy",{locale:Zv}),R=qm(T,"HH:mm",{locale:Zv});return h.jsxs("div",{className:"flex items-start ml-2",children:[h.jsx("div",{className:"flex-shrink-0 -ml-2 mr-3",children:h.jsx("div",{className:rt("w-4 h-4 rounded-full border-2 border-white",w?"bg-yellow-400":"bg-purple-500")})}),h.jsx(hr,{className:rt("flex-grow p-4 hover:shadow-md transition-shadow dark:bg-gray-800/60 light:bg-white cursor-pointer",w?"border-yellow-400 border-2":""),onClick:()=>e(f),children:h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{className:"text-sm font-medium dark:text-white light:text-gray-800 flex items-center",children:[w&&h.jsx(oq,{className:"h-3 w-3 mr-1 fill-yellow-400 text-yellow-400"}),C," ",h.jsxs("span",{className:"text-xs opacity-70 ml-1",children:["alle ",R]})]}),h.jsxs("div",{className:"flex space-x-1",children:[h.jsx(Ti,{variant:"outline",className:"capitalize",children:p(b)}),h.jsx(bR,{emotion:xR(v)})]})]}),h.jsx("p",{className:"text-sm dark:text-gray-300 light:text-gray-600 line-clamp-2",children:g})]})})]},f.id)})})]}),a>5&&h.jsx("div",{className:"flex justify-center mt-4 space-x-1",children:Array.from({length:Math.min(5,a)},(f,y)=>{let g=y;return n>2&&(g=n-2+y),g>=a&&(g=a-5+y),h.jsx(it,{variant:n===g?"default":"outline",size:"sm",onClick:()=>d(g),className:"w-8 h-8 p-0",children:g+1},y)})})]})}function dv({className:t,...e}){return h.jsx("div",{className:rt("animate-pulse rounded-md bg-primary/10",t),...e})}var w3="Popover",[MD,The]=Br(w3,[Wc]),Qg=Wc(),[Qre,Qc]=MD(w3),DD=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Qg(e),l=N.useRef(null),[c,u]=N.useState(!1),[d=!1,p]=_s({prop:r,defaultProp:s,onChange:i});return h.jsx(m2,{...a,children:h.jsx(Qre,{scope:e,contentId:ji(),triggerRef:l,open:d,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(f=>!f),[p]),hasCustomAnchor:c,onCustomAnchorAdd:N.useCallback(()=>u(!0),[]),onCustomAnchorRemove:N.useCallback(()=>u(!1),[]),modal:o,children:n})})};DD.displayName=w3;var OD="PopoverAnchor",Jre=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Qc(OD,n),i=Qg(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return N.useEffect(()=>(o(),()=>a()),[o,a]),h.jsx(jg,{...i,...r,ref:e})});Jre.displayName=OD;var ID="PopoverTrigger",FD=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Qc(ID,n),i=Qg(n),o=Dt(e,s.triggerRef),a=h.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":UD(s.open),...r,ref:o,onClick:Ke(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:h.jsx(jg,{asChild:!0,...i,children:a})});FD.displayName=ID;var x3="PopoverPortal",[ese,tse]=MD(x3,{forceMount:void 0}),VD=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Qc(x3,e);return h.jsx(ese,{scope:e,forceMount:n,children:h.jsx(Ii,{present:n||i.open,children:h.jsx(Ag,{asChild:!0,container:s,children:r})})})};VD.displayName=x3;var Tf="PopoverContent",zD=N.forwardRef((t,e)=>{const n=tse(Tf,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Qc(Tf,t.__scopePopover);return h.jsx(Ii,{present:r||i.open,children:i.modal?h.jsx(rse,{...s,ref:e}):h.jsx(sse,{...s,ref:e})})});zD.displayName=Tf;var nse=Zu("PopoverContent.RemoveScroll"),rse=N.forwardRef((t,e)=>{const n=Qc(Tf,t.__scopePopover),r=N.useRef(null),s=Dt(e,r),i=N.useRef(!1);return N.useEffect(()=>{const o=r.current;if(o)return S4(o)},[]),h.jsx(T2,{as:nse,allowPinchZoom:!0,children:h.jsx(BD,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ke(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),sse=N.forwardRef((t,e)=>{const n=Qc(Tf,t.__scopePopover),r=N.useRef(!1),s=N.useRef(!1);return h.jsx(BD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),BD=N.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=t,p=Qc(Tf,n),f=Qg(n);return _4(),h.jsx(C2,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(pd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:h.jsx(g2,{"data-state":UD(p.open),role:"dialog",id:p.contentId,...f,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qD="PopoverClose",ise=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Qc(qD,n);return h.jsx(lt.button,{type:"button",...r,ref:e,onClick:Ke(t.onClick,()=>s.onOpenChange(!1))})});ise.displayName=qD;var ose="PopoverArrow",ase=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Qg(n);return h.jsx(v2,{...s,...r,ref:e})});ase.displayName=ose;function UD(t){return t?"open":"closed"}var lse=DD,cse=FD,use=VD,WD=zD;const dse=lse,hse=cse,$D=N.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>h.jsx(use,{children:h.jsx(WD,{ref:s,align:e,sideOffset:n,className:rt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));$D.displayName=WD.displayName;function fse(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function cw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const L_=t=>Array.isArray(t);function HD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Jm(t){return typeof t=="string"||Array.isArray(t)}function rT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function b3(t,e,n,r){if(typeof e=="function"){const[s,i]=rT(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=rT(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function uw(t,e,n){const r=t.getProps();return b3(r,e,n!==void 0?n:r.custom,t)}const _3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],S3=["initial",..._3],Jg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_d=new Set(Jg),nl=t=>t*1e3,rl=t=>t/1e3,pse={type:"spring",stiffness:500,damping:25,restSpeed:10},mse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gse={type:"keyframes",duration:.8},vse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yse=(t,{keyframes:e})=>e.length>2?gse:_d.has(t)?t.startsWith("scale")?mse(e[1]):pse:vse;function N3(t,e){return t?t[e]||t.default||t:void 0}const wse={skipAnimations:!1,useManualTiming:!1},xse=t=>t!==null;function dw(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(xse),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const rs=t=>t;let R_=rs;function bse(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const f=d&&r?e:n;return u&&i.add(c),f.has(c)||f.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const O1=["read","resolveKeyframes","update","preRender","render","postRender"],_se=40;function GD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=O1.reduce((v,w)=>(v[w]=bse(i),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:p}=o,f=()=>{const v=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,_se),1),s.timestamp=v,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(f))},y=()=>{n=!0,r=!0,s.isProcessing||t(f)};return{schedule:O1.reduce((v,w)=>{const _=o[w];return v[w]=(T,C=!1,R=!1)=>(n||y(),_.schedule(T,C,R)),v},{}),cancel:v=>{for(let w=0;w<O1.length;w++)o[O1[w]].cancel(v)},state:s,steps:o}}const{schedule:ln,cancel:Dc,state:Ir,steps:p5}=GD(typeof requestAnimationFrame<"u"?requestAnimationFrame:rs,!0),YD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Sse=1e-7,Nse=12;function kse(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=YD(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>Sse&&++a<Nse);return o}function e0(t,e,n,r){if(t===e&&n===r)return rs;const s=i=>kse(i,0,1,t,n);return i=>i===0||i===1?i:YD(s(i),e,r)}const KD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZD=t=>e=>1-t(1-e),XD=e0(.33,1.53,.69,.99),k3=ZD(XD),QD=KD(k3),JD=t=>(t*=2)<1?.5*k3(t):.5*(2-Math.pow(2,-10*(t-1))),C3=t=>1-Math.sin(Math.acos(t)),eO=ZD(C3),tO=KD(C3),nO=t=>/^0[^.\s]+$/u.test(t);function Cse(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nO(t):!0}const rO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),sO=t=>e=>typeof e=="string"&&e.startsWith(t),iO=sO("--"),Ase=sO("var(--"),A3=t=>Ase(t)?Tse.test(t.split("/*")[0].trim()):!1,Tse=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ese(t){const e=Pse.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function oO(t,e,n=1){const[r,s]=Ese(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return rO(o)?parseFloat(o):o}return A3(s)?oO(s,e,n+1):s}const dl=(t,e,n)=>n>e?e:n<t?t:n,ep={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},eg={...ep,transform:t=>dl(0,1,t)},I1={...ep,default:1},t0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bl=t0("deg"),la=t0("%"),vt=t0("px"),jse=t0("vh"),Lse=t0("vw"),sT={...la,parse:t=>la.parse(t)/100,transform:t=>la.transform(t*100)},Rse=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),iT=t=>t===ep||t===vt,oT=(t,e)=>parseFloat(t.split(", ")[e]),aT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return oT(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?oT(i[1],t):0}},Mse=new Set(["x","y","z"]),Dse=Jg.filter(t=>!Mse.has(t));function Ose(t){const e=[];return Dse.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Pf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:aT(4,13),y:aT(5,14)};Pf.translateX=Pf.x;Pf.translateY=Pf.y;const aO=t=>e=>e.test(t),Ise={test:t=>t==="auto",parse:t=>t},lO=[ep,vt,la,Bl,Lse,jse,Ise],lT=t=>lO.find(aO(t)),Uu=new Set;let M_=!1,D_=!1;function cO(){if(D_){const t=Array.from(Uu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Ose(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}D_=!1,M_=!1,Uu.forEach(t=>t.complete()),Uu.clear()}function uO(){Uu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(D_=!0)})}function Fse(){uO(),cO()}class T3{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Uu.add(this),M_||(M_=!0,ln.read(uO),ln.resolveKeyframes(cO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Uu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Uu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const gm=t=>Math.round(t*1e5)/1e5,P3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vse(t){return t==null}const zse=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,E3=(t,e)=>n=>!!(typeof n=="string"&&zse.test(n)&&n.startsWith(t)||e&&!Vse(n)&&Object.prototype.hasOwnProperty.call(n,e)),dO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(P3);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Bse=t=>dl(0,255,t),m5={...ep,transform:t=>Math.round(Bse(t))},Tu={test:E3("rgb","red"),parse:dO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+m5.transform(t)+", "+m5.transform(e)+", "+m5.transform(n)+", "+gm(eg.transform(r))+")"};function qse(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const O_={test:E3("#"),parse:qse,transform:Tu.transform},Ch={test:E3("hsl","hue"),parse:dO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+la.transform(gm(e))+", "+la.transform(gm(n))+", "+gm(eg.transform(r))+")"},Qr={test:t=>Tu.test(t)||O_.test(t)||Ch.test(t),parse:t=>Tu.test(t)?Tu.parse(t):Ch.test(t)?Ch.parse(t):O_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Tu.transform(t):Ch.transform(t)},Use=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Wse(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(P3))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Use))===null||n===void 0?void 0:n.length)||0)>0}const hO="number",fO="color",$se="var",Hse="var(",cT="${}",Gse=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(Gse,l=>(Qr.test(l)?(r.color.push(i),s.push(fO),n.push(Qr.parse(l))):l.startsWith(Hse)?(r.var.push(i),s.push($se),n.push(l)):(r.number.push(i),s.push(hO),n.push(parseFloat(l))),++i,cT)).split(cT);return{values:n,split:a,indexes:r,types:s}}function pO(t){return tg(t).values}function mO(t){const{split:e,types:n}=tg(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===hO?i+=gm(s[o]):a===fO?i+=Qr.transform(s[o]):i+=s[o]}return i}}const Yse=t=>typeof t=="number"?0:t;function Kse(t){const e=pO(t);return mO(t)(e.map(Yse))}const Oc={test:Wse,parse:pO,createTransformer:mO,getAnimatableNone:Kse},Zse=new Set(["brightness","contrast","saturate","opacity"]);function Xse(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(P3)||[];if(!r)return t;const s=n.replace(r,"");let i=Zse.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Qse=/\b([a-z-]*)\(.*?\)/gu,I_={...Oc,getAnimatableNone:t=>{const e=t.match(Qse);return e?e.map(Xse).join(" "):t}},Jse={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,radius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,top:vt,right:vt,bottom:vt,left:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,backgroundPositionX:vt,backgroundPositionY:vt},eie={rotate:Bl,rotateX:Bl,rotateY:Bl,rotateZ:Bl,scale:I1,scaleX:I1,scaleY:I1,scaleZ:I1,skew:Bl,skewX:Bl,skewY:Bl,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:eg,originX:sT,originY:sT,originZ:vt},uT={...ep,transform:Math.round},j3={...Jse,...eie,zIndex:uT,size:vt,fillOpacity:eg,strokeOpacity:eg,numOctaves:uT},tie={...j3,color:Qr,backgroundColor:Qr,outlineColor:Qr,fill:Qr,stroke:Qr,borderColor:Qr,borderTopColor:Qr,borderRightColor:Qr,borderBottomColor:Qr,borderLeftColor:Qr,filter:I_,WebkitFilter:I_},L3=t=>tie[t];function gO(t,e){let n=L3(t);return n!==I_&&(n=Oc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const nie=new Set(["auto","none","0"]);function rie(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!nie.has(i)&&tg(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=gO(n,s)}class vO extends T3{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),A3(c))){const u=oO(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Rse.has(r)||e.length!==2)return;const[s,i]=e,o=lT(s),a=lT(i);if(o!==a)if(iT(o)&&iT(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)Cse(e[s])&&r.push(s);r.length&&rie(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pf[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Pf[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function R3(t){return typeof t=="function"}let hv;function sie(){hv=void 0}const ca={now:()=>(hv===void 0&&ca.set(Ir.isProcessing||wse.useManualTiming?Ir.timestamp:performance.now()),hv),set:t=>{hv=t,queueMicrotask(sie)}},dT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oc.test(t)||t==="0")&&!t.startsWith("url("));function iie(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function oie(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=dT(s,e),a=dT(i,e);return!o||!a?!1:iie(t)||(n==="spring"||R3(n))&&r}const aie=40;class yO{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ca.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aie?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Fse(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ca.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!oie(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(dw(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ef=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},wO=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Ef(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function xO(t,e){return e?t*(1e3/e):0}const lie=5;function bO(t,e,n){const r=Math.max(e-lie,0);return xO(n-t(r),e-r)}const Un={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},g5=.001;function cie({duration:t=Un.duration,bounce:e=Un.bounce,velocity:n=Un.velocity,mass:r=Un.mass}){let s,i,o=1-e;o=dl(Un.minDamping,Un.maxDamping,o),t=dl(Un.minDuration,Un.maxDuration,rl(t)),o<1?(s=c=>{const u=c*o,d=u*t,p=u-n,f=F_(c,o),y=Math.exp(-d);return g5-p/f*y},i=c=>{const d=c*o*t,p=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,y=Math.exp(-d),g=F_(Math.pow(c,2),o);return(-s(c)+g5>0?-1:1)*((p-f)*y)/g}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-g5+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=die(s,i,a);if(t=nl(t),isNaN(l))return{stiffness:Un.stiffness,damping:Un.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const uie=12;function die(t,e,n){let r=n;for(let s=1;s<uie;s++)r=r-t(r)/e(r);return r}function F_(t,e){return t*Math.sqrt(1-e*e)}const V_=2e4;function _O(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<V_;)e+=n,r=t.next(e);return e>=V_?1/0:e}const hie=["duration","bounce"],fie=["stiffness","damping","mass"];function hT(t,e){return e.some(n=>t[n]!==void 0)}function pie(t){let e={velocity:Un.velocity,stiffness:Un.stiffness,damping:Un.damping,mass:Un.mass,isResolvedFromDuration:!1,...t};if(!hT(t,fie)&&hT(t,hie))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*dl(.05,1,1-t.bounce)*Math.sqrt(s);e={...e,mass:Un.mass,stiffness:s,damping:i}}else{const n=cie(t);e={...e,...n,mass:Un.mass},e.isResolvedFromDuration=!0}return e}function SO(t=Un.visualDuration,e=Un.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:p,isResolvedFromDuration:f}=pie({...n,velocity:-rl(n.velocity||0)}),y=p||0,g=c/(2*Math.sqrt(l*u)),b=o-i,v=rl(Math.sqrt(l/u)),w=Math.abs(b)<5;r||(r=w?Un.restSpeed.granular:Un.restSpeed.default),s||(s=w?Un.restDelta.granular:Un.restDelta.default);let _;if(g<1){const C=F_(v,g);_=R=>{const E=Math.exp(-g*v*R);return o-E*((y+g*v*b)/C*Math.sin(C*R)+b*Math.cos(C*R))}}else if(g===1)_=C=>o-Math.exp(-v*C)*(b+(y+v*b)*C);else{const C=v*Math.sqrt(g*g-1);_=R=>{const E=Math.exp(-g*v*R),A=Math.min(C*R,300);return o-E*((y+g*v*b)*Math.sinh(A)+C*b*Math.cosh(A))/C}}const T={calculatedDuration:f&&d||null,next:C=>{const R=_(C);if(f)a.done=C>=d;else{let E=0;g<1&&(E=C===0?nl(y):bO(_,C,R));const A=Math.abs(E)<=r,D=Math.abs(o-R)<=s;a.done=A&&D}return a.value=a.done?o:R,a},toString:()=>{const C=Math.min(_O(T),V_),R=wO(E=>T.next(C*E).value,C,30);return C+"ms "+R}};return T}function fT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],p={done:!1,value:d},f=A=>a!==void 0&&A<a||l!==void 0&&A>l,y=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let g=n*e;const b=d+g,v=o===void 0?b:o(b);v!==b&&(g=v-d);const w=A=>-g*Math.exp(-A/r),_=A=>v+w(A),T=A=>{const D=w(A),H=_(A);p.done=Math.abs(D)<=c,p.value=p.done?v:H};let C,R;const E=A=>{f(p.value)&&(C=A,R=SO({keyframes:[p.value,y(p.value)],velocity:bO(_,A,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:A=>{let D=!1;return!R&&C===void 0&&(D=!0,T(A),E(A)),C!==void 0&&A>=C?R.next(A-C):(!D&&T(A),p)}}}const mie=e0(.42,0,1,1),gie=e0(0,0,.58,1),NO=e0(.42,0,.58,1),vie=t=>Array.isArray(t)&&typeof t[0]!="number",M3=t=>Array.isArray(t)&&typeof t[0]=="number",pT={linear:rs,easeIn:mie,easeInOut:NO,easeOut:gie,circIn:C3,circInOut:tO,circOut:eO,backIn:k3,backInOut:QD,backOut:XD,anticipate:JD},mT=t=>{if(M3(t)){R_(t.length===4);const[e,n,r,s]=t;return e0(e,n,r,s)}else if(typeof t=="string")return R_(pT[t]!==void 0),pT[t];return t},yie=(t,e)=>n=>e(t(n)),Sc=(...t)=>t.reduce(yie),Rn=(t,e,n)=>t+(e-t)*n;function v5(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function wie({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=v5(l,a,t+1/3),i=v5(l,a,t),o=v5(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function xy(t,e){return n=>n>0?e:t}const y5=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},xie=[O_,Tu,Ch],bie=t=>xie.find(e=>e.test(t));function gT(t){const e=bie(t);if(!e)return!1;let n=e.parse(t);return e===Ch&&(n=wie(n)),n}const vT=(t,e)=>{const n=gT(t),r=gT(e);if(!n||!r)return xy(t,e);const s={...n};return i=>(s.red=y5(n.red,r.red,i),s.green=y5(n.green,r.green,i),s.blue=y5(n.blue,r.blue,i),s.alpha=Rn(n.alpha,r.alpha,i),Tu.transform(s))},z_=new Set(["none","hidden"]);function _ie(t,e){return z_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Sie(t,e){return n=>Rn(t,e,n)}function D3(t){return typeof t=="number"?Sie:typeof t=="string"?A3(t)?xy:Qr.test(t)?vT:Cie:Array.isArray(t)?kO:typeof t=="object"?Qr.test(t)?vT:Nie:xy}function kO(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>D3(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Nie(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=D3(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function kie(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const Cie=(t,e)=>{const n=Oc.createTransformer(e),r=tg(t),s=tg(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?z_.has(t)&&!s.values.length||z_.has(e)&&!r.values.length?_ie(t,e):Sc(kO(kie(r,s),s.values),n):xy(t,e)};function CO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Rn(t,e,n):D3(t)(t,e)}function Aie(t,e,n){const r=[],s=n||CO,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||rs:e;a=Sc(l,a)}r.push(a)}return r}function Tie(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(R_(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Aie(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=Ef(t[u],t[u+1],c);return o[u](d)};return n?c=>l(dl(t[0],t[i-1],c)):l}function Pie(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ef(0,e,r);t.push(Rn(n,1,s))}}function Eie(t){const e=[0];return Pie(e,t.length-1),e}function jie(t,e){return t.map(n=>n*e)}function Lie(t,e){return t.map(()=>e||NO).splice(0,t.length-1)}function by({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=vie(r)?r.map(mT):mT(r),i={done:!1,value:e[0]},o=jie(n&&n.length===e.length?n:Eie(e),t),a=Tie(o,e,{ease:Array.isArray(s)?s:Lie(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const Rie=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ln.update(e,!0),stop:()=>Dc(e),now:()=>Ir.isProcessing?Ir.timestamp:ca.now()}},Mie={decay:fT,inertia:fT,tween:by,keyframes:by,spring:SO},Die=t=>t/100;class O3 extends yO{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||T3,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=R3(n)?n:Mie[n]||by;let l,c;a!==by&&typeof e[0]!="number"&&(l=Sc(Die,CO(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=_O(u));const{calculatedDuration:d}=u,p=d+s,f=p*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:f,repeatType:y,repeatDelay:g,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-p*(this.speed>=0?1:-1),w=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let _=this.currentTime,T=i;if(f){const A=Math.min(this.currentTime,u)/d;let D=Math.floor(A),H=A%1;!H&&A>=1&&(H=1),H===1&&D--,D=Math.min(D,f+1),!!(D%2)&&(y==="reverse"?(H=1-H,g&&(H-=g/d)):y==="mirror"&&(T=o)),_=dl(0,1,H)*d}const C=w?{done:!1,value:l[0]}:T.next(_);a&&(C.value=a(C.value));let{done:R}=C;!w&&c!==null&&(R=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return E&&s!==void 0&&(C.value=dw(l,this.options,s)),b&&b(C.value),E&&this.finish(),C}get duration(){const{resolved:e}=this;return e?rl(e.calculatedDuration):0}get time(){return rl(this.currentTime)}set time(e){e=nl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=rl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Rie,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Oie=new Set(["opacity","clipPath","filter","transform"]);function I3(t){let e;return()=>(e===void 0&&(e=t()),e)}const Iie={linearEasing:void 0};function Fie(t,e){const n=I3(t);return()=>{var r;return(r=Iie[e])!==null&&r!==void 0?r:n()}}const _y=Fie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function AO(t){return!!(typeof t=="function"&&_y()||!t||typeof t=="string"&&(t in B_||_y())||M3(t)||Array.isArray(t)&&t.every(AO))}const tm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,B_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tm([0,.65,.55,1]),circOut:tm([.55,0,1,.45]),backIn:tm([.31,.01,.66,-.59]),backOut:tm([.33,1.53,.69,.99])};function TO(t,e){if(t)return typeof t=="function"&&_y()?wO(t,e):M3(t)?tm(t):Array.isArray(t)?t.map(n=>TO(n,e)||B_.easeOut):B_[t]}function Vie(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=TO(a,s);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function yT(t,e){t.timeline=e,t.onfinish=null}const zie=I3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Sy=10,Bie=2e4;function qie(t){return R3(t.type)||t.type==="spring"||!AO(t.ease)}function Uie(t,e){const n=new O3({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<Bie;)r=n.sample(i),s.push(r.value),i+=Sy;return{times:void 0,keyframes:s,duration:i-Sy,ease:"linear"}}const PO={anticipate:JD,backInOut:QD,circInOut:tO};function Wie(t){return t in PO}class wT extends yO{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new vO(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&_y()&&Wie(o)&&(o=PO[o]),qie(this.options)){const{onComplete:p,onUpdate:f,motionValue:y,element:g,...b}=this.options,v=Uie(e,b);e=v.keyframes,e.length===1&&(e[1]=e[0]),s=v.duration,i=v.times,o=v.ease,a="keyframes"}const d=Vie(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(yT(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;l.set(dw(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return rl(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return rl(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=nl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return rs;const{animation:r}=n;yT(r,e)}return rs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:p,...f}=this.options,y=new O3({...f,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),g=nl(this.time);c.setWithVelocity(y.sample(g-Sy).value,y.sample(g).value,Sy)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return zie()&&r&&Oie.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const $ie=I3(()=>window.ScrollTimeline!==void 0);class Hie{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>$ie()&&s.attachTimeline?s.attachTimeline(e):n(s));return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Gie({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const F3=(t,e,n,r={},s,i)=>o=>{const a=N3(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-nl(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};Gie(a)||(u={...u,...yse(t,u)}),u.duration&&(u.duration=nl(u.duration)),u.repeatDelay&&(u.repeatDelay=nl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!i&&e.get()!==void 0){const p=dw(u.keyframes,a);if(p!==void 0)return ln.update(()=>{u.onUpdate(p),u.onComplete()}),new Hie([])}return!i&&wT.supports(u)?new wT(u):new O3(u)},Yie=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Kie=t=>L_(t)?t[t.length-1]||0:t;function V3(t,e){t.indexOf(e)===-1&&t.push(e)}function z3(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class B3{constructor(){this.subscriptions=[]}add(e){return V3(this.subscriptions,e),()=>z3(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xT=30,Zie=t=>!isNaN(parseFloat(t));class Xie{constructor(e,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=ca.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ca.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Zie(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new B3);const r=this.events[e].add(n);return e==="change"?()=>{r(),ln.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ca.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xT);return xO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ng(t,e){return new Xie(t,e)}function Qie(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ng(n))}function Jie(t,e){const n=uw(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Kie(i[o]);Qie(t,o,a)}}const q3=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eoe="framerAppearId",EO="data-"+q3(eoe);function jO(t){return t.props[EO]}const ts=t=>!!(t&&t.getVelocity);function toe(t){return!!(ts(t)&&t.add)}function q_(t,e){const n=t.getValue("willChange");if(toe(n))return n.add(e)}function noe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function LO(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const p=t.getValue(d,(i=t.latestValues[d])!==null&&i!==void 0?i:null),f=l[d];if(f===void 0||u&&noe(u,d))continue;const y={delay:n,...N3(o||{},d)};let g=!1;if(window.MotionHandoffAnimation){const v=jO(t);if(v){const w=window.MotionHandoffAnimation(v,d,ln);w!==null&&(y.startTime=w,g=!0)}}q_(t,d),p.start(F3(d,p,f,t.shouldReduceMotion&&_d.has(d)?{type:!1}:y,t,g));const b=p.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{ln.update(()=>{a&&Jie(t,a)})}),c}function U_(t,e,n={}){var r;const s=uw(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(LO(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=i;return roe(t,e,u+c,d,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function roe(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(soe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(U_(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function soe(t,e){return t.sortNodePosition(e)}function ioe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>U_(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=U_(t,e,n);else{const s=typeof e=="function"?uw(t,e,n.custom):e;r=Promise.all(LO(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const ooe=S3.length;function RO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?RO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ooe;n++){const r=S3[n],s=t.props[r];(Jm(s)||s===!1)&&(e[r]=s)}return e}const aoe=[..._3].reverse(),loe=_3.length;function coe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ioe(t,n,r)))}function uoe(t){let e=coe(t),n=bT(),r=!0;const s=l=>(c,u)=>{var d;const p=uw(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:f,transitionEnd:y,...g}=p;c={...c,...g,...y}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=RO(t.parent)||{},d=[],p=new Set;let f={},y=1/0;for(let b=0;b<loe;b++){const v=aoe[b],w=n[v],_=c[v]!==void 0?c[v]:u[v],T=Jm(_),C=v===l?w.isActive:null;C===!1&&(y=b);let R=_===u[v]&&_!==c[v]&&T;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),w.protectedKeys={...f},!w.isActive&&C===null||!_&&!w.prevProp||cw(_)||typeof _=="boolean")continue;const E=doe(w.prevProp,_);let A=E||v===l&&w.isActive&&!R&&T||b>y&&T,D=!1;const H=Array.isArray(_)?_:[_];let L=H.reduce(s(v),{});C===!1&&(L={});const{prevResolvedValues:P={}}=w,U={...P,...L},z=$=>{A=!0,p.has($)&&(D=!0,p.delete($)),w.needsAnimating[$]=!0;const B=t.getValue($);B&&(B.liveStyle=!1)};for(const $ in U){const B=L[$],J=P[$];if(f.hasOwnProperty($))continue;let re=!1;L_(B)&&L_(J)?re=!HD(B,J):re=B!==J,re?B!=null?z($):p.add($):B!==void 0&&p.has($)?z($):w.protectedKeys[$]=!0}w.prevProp=_,w.prevResolvedValues=L,w.isActive&&(f={...f,...L}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(R&&E)||D)&&d.push(...H.map($=>({animation:$,options:{type:v}})))}if(p.size){const b={};p.forEach(v=>{const w=t.getBaseTarget(v),_=t.getValue(v);_&&(_.liveStyle=!0),b[v]=w??null}),d.push({animation:b})}let g=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var f;return(f=p.animationState)===null||f===void 0?void 0:f.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=bT(),r=!0}}}function doe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!HD(e,t):!1}function fu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bT(){return{animate:fu(!0),whileInView:fu(),whileHover:fu(),whileTap:fu(),whileDrag:fu(),whileFocus:fu(),exit:fu()}}class Jc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class hoe extends Jc{constructor(e){super(e),e.animationState||(e.animationState=uoe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let foe=0;class poe extends Jc{constructor(){super(...arguments),this.id=foe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const moe={animation:{Feature:hoe},exit:{Feature:poe}};function goe(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Qi={x:!1,y:!1};function MO(){return Qi.x||Qi.y}function _T(t){return e=>{e.pointerType==="touch"||MO()||t(e)}}function voe(t,e,n={}){const r=new AbortController,s={passive:!0,...n,signal:r.signal},i=_T(o=>{const{target:a}=o,l=e(o);if(!l||!a)return;const c=_T(u=>{l(u),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,s)});return goe(t).forEach(o=>{o.addEventListener("pointerenter",i,s)}),()=>r.abort()}function yoe(t){return t==="x"||t==="y"?Qi[t]?null:(Qi[t]=!0,()=>{Qi[t]=!1}):Qi.x||Qi.y?null:(Qi.x=Qi.y=!0,()=>{Qi.x=Qi.y=!1})}const DO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function n0(t){return{point:{x:t.pageX,y:t.pageY}}}const woe=t=>e=>DO(e)&&t(e,n0(e));function Xa(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Nc(t,e,n,r){return Xa(t,e,woe(n),r)}const ST=(t,e)=>Math.abs(t-e);function xoe(t,e){const n=ST(t.x,e.x),r=ST(t.y,e.y);return Math.sqrt(n**2+r**2)}class OO{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=x5(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,f=xoe(d.offset,{x:0,y:0})>=3;if(!p&&!f)return;const{point:y}=d,{timestamp:g}=Ir;this.history.push({...y,timestamp:g});const{onStart:b,onMove:v}=this.handlers;p||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=w5(p,this.transformPagePoint),ln.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:f,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=x5(d.type==="pointercancel"?this.lastMoveEventInfo:w5(p,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,b),y&&y(d,b)},!DO(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=n0(e),a=w5(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ir;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,x5(a,this.history)),this.removeListeners=Sc(Nc(this.contextWindow,"pointermove",this.handlePointerMove),Nc(this.contextWindow,"pointerup",this.handlePointerUp),Nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dc(this.updatePoint)}}function w5(t,e){return e?{point:e(t.point)}:t}function NT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function x5({point:t},e){return{point:t,delta:NT(t,IO(e)),offset:NT(t,boe(e)),velocity:_oe(e,.1)}}function boe(t){return t[0]}function IO(t){return t[t.length-1]}function _oe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=IO(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>nl(e)));)n--;if(!r)return{x:0,y:0};const i=rl(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ah(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const FO=1e-4,Soe=1-FO,Noe=1+FO,VO=.01,koe=0-VO,Coe=0+VO;function ci(t){return t.max-t.min}function Aoe(t,e,n){return Math.abs(t-e)<=n}function kT(t,e,n,r=.5){t.origin=r,t.originPoint=Rn(e.min,e.max,t.origin),t.scale=ci(n)/ci(e),t.translate=Rn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Soe&&t.scale<=Noe||isNaN(t.scale))&&(t.scale=1),(t.translate>=koe&&t.translate<=Coe||isNaN(t.translate))&&(t.translate=0)}function vm(t,e,n,r){kT(t.x,e.x,n.x,r?r.originX:void 0),kT(t.y,e.y,n.y,r?r.originY:void 0)}function CT(t,e,n){t.min=n.min+e.min,t.max=t.min+ci(e)}function Toe(t,e,n){CT(t.x,e.x,n.x),CT(t.y,e.y,n.y)}function AT(t,e,n){t.min=e.min-n.min,t.max=t.min+ci(e)}function ym(t,e,n){AT(t.x,e.x,n.x),AT(t.y,e.y,n.y)}function Poe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Rn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Rn(n,t,r.max):Math.min(t,n)),t}function TT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Eoe(t,{top:e,left:n,bottom:r,right:s}){return{x:TT(t.x,n,s),y:TT(t.y,e,r)}}function PT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function joe(t,e){return{x:PT(t.x,e.x),y:PT(t.y,e.y)}}function Loe(t,e){let n=.5;const r=ci(t),s=ci(e);return s>r?n=Ef(e.min,e.max-r,t.min):r>s&&(n=Ef(t.min,t.max-s,e.min)),dl(0,1,n)}function Roe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const W_=.35;function Moe(t=W_){return t===!1?t=0:t===!0&&(t=W_),{x:ET(t,"left","right"),y:ET(t,"top","bottom")}}function ET(t,e,n){return{min:jT(t,e),max:jT(t,n)}}function jT(t,e){return typeof t=="number"?t:t[e]||0}const LT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Th=()=>({x:LT(),y:LT()}),RT=()=>({min:0,max:0}),Xn=()=>({x:RT(),y:RT()});function _i(t){return[t("x"),t("y")]}function zO({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Doe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Ooe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function b5(t){return t===void 0||t===1}function $_({scale:t,scaleX:e,scaleY:n}){return!b5(t)||!b5(e)||!b5(n)}function wu(t){return $_(t)||BO(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function BO(t){return MT(t.x)||MT(t.y)}function MT(t){return t&&t!=="0%"}function Ny(t,e,n){const r=t-n,s=e*r;return n+s}function DT(t,e,n,r,s){return s!==void 0&&(t=Ny(t,s,r)),Ny(t,n,r)+e}function H_(t,e=0,n=1,r,s){t.min=DT(t.min,e,n,r,s),t.max=DT(t.max,e,n,r,s)}function qO(t,{x:e,y:n}){H_(t.x,e.translate,e.scale,e.originPoint),H_(t.y,n.translate,n.scale,n.originPoint)}const OT=.999999999999,IT=1.0000000000001;function Ioe(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Eh(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,qO(t,o)),r&&wu(i.latestValues)&&Eh(t,i.latestValues))}e.x<IT&&e.x>OT&&(e.x=1),e.y<IT&&e.y>OT&&(e.y=1)}function Ph(t,e){t.min=t.min+e,t.max=t.max+e}function FT(t,e,n,r,s=.5){const i=Rn(t.min,t.max,s);H_(t,e,n,i,r)}function Eh(t,e){FT(t.x,e.x,e.scaleX,e.scale,e.originX),FT(t.y,e.y,e.scaleY,e.scale,e.originY)}function UO(t,e){return zO(Ooe(t.getBoundingClientRect(),e))}function Foe(t,e,n){const r=UO(t,n),{scroll:s}=e;return s&&(Ph(r.x,s.offset.x),Ph(r.y,s.offset.y)),r}const WO=({current:t})=>t?t.ownerDocument.defaultView:null,Voe=new WeakMap;class zoe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(n0(u).point)},i=(u,d)=>{const{drag:p,dragPropagation:f,onDragStart:y}=this.getProps();if(p&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yoe(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(b=>{let v=this.getAxisMotionValue(b).get()||0;if(la.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[b];_&&(v=ci(_)*(parseFloat(v)/100))}}this.originPoint[b]=v}),y&&ln.postRender(()=>y(u,d)),q_(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:p,dragDirectionLock:f,onDirectionLock:y,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=d;if(f&&this.currentDirection===null){this.currentDirection=Boe(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),g&&g(u,d)},a=(u,d)=>this.stop(u,d),l=()=>_i(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new OO(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:WO(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ln.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!F1(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Poe(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ah(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Eoe(s.layoutBox,n):this.constraints=!1,this.elastic=Moe(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&_i(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Roe(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ah(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Foe(r,s.root,this.visualElement.getTransformPagePoint());let o=joe(s.layout.layoutBox,i);if(n){const a=n(Doe(o));this.hasMutatedConstraints=!!a,a&&(o=zO(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=_i(u=>{if(!F1(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=s?200:1e6,f=s?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return q_(this.visualElement,e),r.start(F3(e,r,0,n,this.visualElement,!1))}stopAnimation(){_i(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_i(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_i(n=>{const{drag:r}=this.getProps();if(!F1(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Rn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ah(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};_i(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Loe({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_i(o=>{if(!F1(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Rn(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;Voe.set(this.visualElement,this);const e=this.visualElement.current,n=Nc(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ah(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ln.read(r);const o=Xa(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(_i(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=W_,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function F1(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Boe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qoe extends Jc{constructor(e){super(e),this.removeGroupControls=rs,this.removeListeners=rs,this.controls=new zoe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const VT=t=>(e,n)=>{t&&ln.postRender(()=>t(e,n))};class Uoe extends Jc{constructor(){super(...arguments),this.removePointerDownListener=rs}onPointerDown(e){this.session=new OO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:VT(e),onStart:VT(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ln.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Nc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hw=N.createContext(null);function Woe(){const t=N.useContext(hw);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=N.useId();N.useEffect(()=>r(s),[]);const i=N.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const U3=N.createContext({}),$O=N.createContext({}),fv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $p={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(vt.test(t))t=parseFloat(t);else return t;const n=zT(t,e.target.x),r=zT(t,e.target.y);return`${n}% ${r}%`}},$oe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Oc.parse(t);if(s.length>5)return r;const i=Oc.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Rn(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},ky={};function Hoe(t){Object.assign(ky,t)}const{schedule:W3,cancel:Phe}=GD(queueMicrotask,!1);class Goe extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Hoe(Yoe),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),fv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ln.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),W3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HO(t){const[e,n]=Woe(),r=N.useContext(U3);return h.jsx(Goe,{...t,layoutGroup:r,switchLayoutGroup:N.useContext($O),isPresent:e,safeToRemove:n})}const Yoe={borderRadius:{...$p,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$p,borderTopRightRadius:$p,borderBottomLeftRadius:$p,borderBottomRightRadius:$p,boxShadow:$oe},GO=["TopLeft","TopRight","BottomLeft","BottomRight"],Koe=GO.length,BT=t=>typeof t=="string"?parseFloat(t):t,qT=t=>typeof t=="number"||vt.test(t);function Zoe(t,e,n,r,s,i){s?(t.opacity=Rn(0,n.opacity!==void 0?n.opacity:1,Xoe(r)),t.opacityExit=Rn(e.opacity!==void 0?e.opacity:1,0,Qoe(r))):i&&(t.opacity=Rn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Koe;o++){const a=`border${GO[o]}Radius`;let l=UT(e,a),c=UT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||qT(l)===qT(c)?(t[a]=Math.max(Rn(BT(l),BT(c),r),0),(la.test(c)||la.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Rn(e.rotate||0,n.rotate||0,r))}function UT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Xoe=YO(0,.5,eO),Qoe=YO(.5,.95,rs);function YO(t,e,n){return r=>r<t?0:r>e?1:n(Ef(t,e,r))}function WT(t,e){t.min=e.min,t.max=e.max}function bi(t,e){WT(t.x,e.x),WT(t.y,e.y)}function $T(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HT(t,e,n,r,s){return t-=e,t=Ny(t,1/n,r),s!==void 0&&(t=Ny(t,1/s,r)),t}function Joe(t,e=0,n=1,r=.5,s,i=t,o=t){if(la.test(e)&&(e=parseFloat(e),e=Rn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Rn(i.min,i.max,r);t===i&&(a-=e),t.min=HT(t.min,e,n,a,s),t.max=HT(t.max,e,n,a,s)}function GT(t,e,[n,r,s],i,o){Joe(t,e[n],e[r],e[s],e.scale,i,o)}const eae=["x","scaleX","originX"],tae=["y","scaleY","originY"];function YT(t,e,n,r){GT(t.x,e,eae,n?n.x:void 0,r?r.x:void 0),GT(t.y,e,tae,n?n.y:void 0,r?r.y:void 0)}function KT(t){return t.translate===0&&t.scale===1}function KO(t){return KT(t.x)&&KT(t.y)}function ZT(t,e){return t.min===e.min&&t.max===e.max}function nae(t,e){return ZT(t.x,e.x)&&ZT(t.y,e.y)}function XT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ZO(t,e){return XT(t.x,e.x)&&XT(t.y,e.y)}function QT(t){return ci(t.x)/ci(t.y)}function JT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rae{constructor(){this.members=[]}add(e){V3(this.members,e),e.scheduleRender()}remove(e){if(z3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sae(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:p,skewX:f,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),f&&(r+=`skewX(${f}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const iae=(t,e)=>t.depth-e.depth;class oae{constructor(){this.children=[],this.isDirty=!1}add(e){V3(this.children,e),this.isDirty=!0}remove(e){z3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iae),this.isDirty=!1,this.children.forEach(e)}}function pv(t){const e=ts(t)?t.get():t;return Yie(e)?e.toValue():e}function aae(t,e){const n=ca.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Dc(r),t(i-e))};return ln.read(r,!0),()=>Dc(r)}function lae(t){return t instanceof SVGElement&&t.tagName!=="svg"}function cae(t,e,n){const r=ts(t)?t:ng(t);return r.start(F3("",r,e,n)),r.animation}const xu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},nm=typeof window<"u"&&window.MotionDebug!==void 0,_5=["","X","Y","Z"],uae={visibility:"hidden"},eP=1e3;let dae=0;function S5(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function XO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=jO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ln,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&XO(r)}function QO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=dae++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,nm&&(xu.totalNodes=xu.resolvedTargetDeltas=xu.recalculatedProjection=0),this.nodes.forEach(pae),this.nodes.forEach(wae),this.nodes.forEach(xae),this.nodes.forEach(mae),nm&&window.MotionDebug.record(xu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new oae)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new B3),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lae(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=aae(p,250),fv.hasAnimatedSinceResize&&(fv.hasAnimatedSinceResize=!1,this.nodes.forEach(nP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||kae,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=u.getProps(),w=!this.targetLayout||!ZO(this.targetLayout,y)||f,_=!p&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const T={...N3(g,"layout"),onPlay:b,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else p||nP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Dc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bae),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tP);return}this.isUpdating||this.nodes.forEach(vae),this.isUpdating=!1,this.nodes.forEach(yae),this.nodes.forEach(hae),this.nodes.forEach(fae),this.clearAllSnapshots();const a=ca.now();Ir.delta=dl(0,1e3/60,a-Ir.timestamp),Ir.timestamp=a,Ir.isProcessing=!0,p5.update.process(Ir),p5.preRender.process(Ir),p5.render.process(Ir),Ir.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,W3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gae),this.sharedNodes.forEach(_ae)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!KO(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||wu(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Cae(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Xn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Aae))){const{scroll:u}=this.root;u&&(Ph(l.x,u.offset.x),Ph(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Xn();if(bi(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;u!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&bi(l,o),Ph(l.x,d.offset.x),Ph(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Xn();bi(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Eh(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),wu(u.latestValues)&&Eh(l,u.latestValues)}return wu(this.latestValues)&&Eh(l,this.latestValues),l}removeTransform(o){const a=Xn();bi(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!wu(c.latestValues))continue;$_(c.latestValues)&&c.updateSnapshot();const u=Xn(),d=c.measurePageBox();bi(u,d),YT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return wu(this.latestValues)&&YT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ir.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Ir.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xn(),this.relativeTargetOrigin=Xn(),ym(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xn(),this.targetWithTransforms=Xn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Toe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),qO(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xn(),this.relativeTargetOrigin=Xn(),ym(this.relativeTargetOrigin,this.target,f.target),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nm&&xu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$_(this.parent.latestValues)||BO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ir.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;bi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;Ioe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Xn());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($T(this.prevProjectionDelta.x,this.projectionDelta.x),$T(this.prevProjectionDelta.y,this.projectionDelta.y)),vm(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==f||!JT(this.projectionDelta.x,this.prevProjectionDelta.x)||!JT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),nm&&xu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Th(),this.projectionDelta=Th(),this.projectionDeltaWithTransform=Th()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Th();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Xn(),f=l?l.source:void 0,y=this.layout?this.layout.source:void 0,g=f!==y,b=this.getStack(),v=!b||b.members.length<=1,w=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(Nae));this.animationProgress=0;let _;this.mixTargetDelta=T=>{const C=T/1e3;rP(d.x,o.x,C),rP(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ym(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sae(this.relativeTarget,this.relativeTargetOrigin,p,C),_&&nae(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Xn()),bi(_,this.relativeTarget)),g&&(this.animationValues=u,Zoe(u,c,this.latestValues,C,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Dc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ln.update(()=>{fv.hasAnimatedSinceResize=!0,this.currentAnimation=cae(0,eP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&JO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Xn();const d=ci(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=ci(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}bi(a,l),Eh(a,u),vm(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new rae),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&S5("z",o,c,this.animationValues);for(let u=0;u<_5.length;u++)S5(`rotate${_5[u]}`,o,c,this.animationValues),S5(`skew${_5[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uae;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=pv(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=pv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!wu(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=sae(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:f,y}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in ky){if(p[g]===void 0)continue;const{correct:b,applyTo:v}=ky[g],w=c.transform==="none"?p[g]:b(p[g],d);if(v){const _=v.length;for(let T=0;T<_;T++)c[v[T]]=w}else c[g]=w}return this.options.layoutId&&(c.pointerEvents=d===this?pv(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(tP),this.root.sharedNodes.clear()}}}function hae(t){t.updateLayout()}function fae(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?_i(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],f=ci(p);p.min=r[d].min,p.max=p.min+f}):JO(i,n.layoutBox,r)&&_i(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],f=ci(r[d]);p.max=p.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Th();vm(a,r,n.layoutBox);const l=Th();o?vm(l,t.applyTransform(s,!0),n.measuredBox):vm(l,r,n.layoutBox);const c=!KO(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:f}=d;if(p&&f){const y=Xn();ym(y,n.layoutBox,p.layoutBox);const g=Xn();ym(g,r,f.layoutBox),ZO(y,g)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function pae(t){nm&&xu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mae(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gae(t){t.clearSnapshot()}function tP(t){t.clearMeasurements()}function vae(t){t.isLayoutDirty=!1}function yae(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wae(t){t.resolveTargetDelta()}function xae(t){t.calcProjection()}function bae(t){t.resetSkewAndRotation()}function _ae(t){t.removeLeadSnapshot()}function rP(t,e,n){t.translate=Rn(e.translate,0,n),t.scale=Rn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sP(t,e,n,r){t.min=Rn(e.min,n.min,r),t.max=Rn(e.max,n.max,r)}function Sae(t,e,n,r){sP(t.x,e.x,n.x,r),sP(t.y,e.y,n.y,r)}function Nae(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kae={duration:.45,ease:[.4,0,.1,1]},iP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),oP=iP("applewebkit/")&&!iP("chrome/")?Math.round:rs;function aP(t){t.min=oP(t.min),t.max=oP(t.max)}function Cae(t){aP(t.x),aP(t.y)}function JO(t,e,n){return t==="position"||t==="preserve-aspect"&&!Aoe(QT(e),QT(n),.2)}function Aae(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Tae=QO({attachResizeListener:(t,e)=>Xa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),N5={current:void 0},eI=QO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!N5.current){const t=new Tae({});t.mount(window),t.setOptions({layoutScroll:!0}),N5.current=t}return N5.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Pae={pan:{Feature:Uoe},drag:{Feature:qoe,ProjectionNode:eI,MeasureLayout:HO}};function lP(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n);const s=r[n?"onHoverStart":"onHoverEnd"];s&&ln.postRender(()=>s(e,n0(e)))}class Eae extends Jc{mount(){const{current:e,props:n}=this.node;e&&(this.unmount=voe(e,r=>(lP(this.node,r,!0),s=>lP(this.node,s,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class jae extends Jc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sc(Xa(this.node.current,"focus",()=>this.onFocus()),Xa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const tI=(t,e)=>e?t===e?!0:tI(t,e.parentElement):!1;function k5(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,n0(n))}class Lae extends Jc{constructor(){super(...arguments),this.removeStartListeners=rs,this.removeEndListeners=rs,this.removeAccessibleListeners=rs,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Nc(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),p=!d&&!tI(this.node.current,a.target)?u:c;p&&ln.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Nc(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Sc(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||k5("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&ln.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Xa(this.node.current,"keyup",o),k5("down",(a,l)=>{this.startPress(a,l)})},n=Xa(this.node.current,"keydown",e),r=()=>{this.isPressing&&k5("cancel",(i,o)=>this.cancelPress(i,o))},s=Xa(this.node.current,"blur",r);this.removeAccessibleListeners=Sc(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ln.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!MO()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ln.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Nc(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Xa(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Sc(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const G_=new WeakMap,C5=new WeakMap,Rae=t=>{const e=G_.get(t.target);e&&e(t)},Mae=t=>{t.forEach(Rae)};function Dae({root:t,...e}){const n=t||document;C5.has(n)||C5.set(n,{});const r=C5.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Mae,{root:t,...e})),r[s]}function Oae(t,e,n){const r=Dae(e);return G_.set(t,n),r.observe(t),()=>{G_.delete(t),r.unobserve(t)}}const Iae={some:0,all:1};class Fae extends Jc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Iae[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return Oae(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Vae(e,n))&&this.startObserver()}unmount(){}}function Vae({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zae={inView:{Feature:Fae},tap:{Feature:Lae},focus:{Feature:jae},hover:{Feature:Eae}},Bae={layout:{ProjectionNode:eI,MeasureLayout:HO}},$3=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),fw=N.createContext({}),H3=typeof window<"u",nI=H3?N.useLayoutEffect:N.useEffect,rI=N.createContext({strict:!1});function qae(t,e,n,r,s){var i,o;const{visualElement:a}=N.useContext(fw),l=N.useContext(rI),c=N.useContext(hw),u=N.useContext($3).reducedMotion,d=N.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=d.current,f=N.useContext($O);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&Uae(d.current,n,s,f);const y=N.useRef(!1);N.useInsertionEffect(()=>{p&&y.current&&p.update(n,c)});const g=n[EO],b=N.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return nI(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),W3.render(p.render),b.current&&p.animationState&&p.animationState.animateChanges())}),N.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,g)}),b.current=!1))}),p}function Uae(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sI(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ah(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function sI(t){if(t)return t.options.allowProjection!==!1?t.projection:sI(t.parent)}function Wae(t,e,n){return N.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ah(n)&&(n.current=r))},[e])}function pw(t){return cw(t.animate)||S3.some(e=>Jm(t[e]))}function iI(t){return!!(pw(t)||t.variants)}function $ae(t,e){if(pw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Jm(n)?n:void 0,animate:Jm(r)?r:void 0}}return t.inherit!==!1?e:{}}function Hae(t){const{initial:e,animate:n}=$ae(t,N.useContext(fw));return N.useMemo(()=>({initial:e,animate:n}),[cP(e),cP(n)])}function cP(t){return Array.isArray(t)?t.join(" "):t}const uP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jf={};for(const t in uP)jf[t]={isEnabled:e=>uP[t].some(n=>!!e[n])};function Gae(t){for(const e in t)jf[e]={...jf[e],...t[e]}}const Yae=Symbol.for("motionComponentSymbol");function Kae({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&Gae(t);function i(a,l){let c;const u={...N.useContext($3),...a,layoutId:Zae(a)},{isStatic:d}=u,p=Hae(a),f=r(a,d);if(!d&&H3){Xae();const y=Qae(u);c=y.MeasureLayout,p.visualElement=qae(s,f,u,e,y.ProjectionNode)}return h.jsxs(fw.Provider,{value:p,children:[c&&p.visualElement?h.jsx(c,{visualElement:p.visualElement,...u}):null,n(s,a,Wae(f,p.visualElement,l),f,d,p.visualElement)]})}const o=N.forwardRef(i);return o[Yae]=s,o}function Zae({layoutId:t}){const e=N.useContext(U3).id;return e&&t!==void 0?e+"-"+t:t}function Xae(t,e){N.useContext(rI).strict}function Qae(t){const{drag:e,layout:n}=jf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Jae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G3(t){return typeof t!="string"||t.includes("-")?!1:!!(Jae.indexOf(t)>-1||/[A-Z]/u.test(t))}function oI(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const aI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lI(t,e,n,r){oI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(aI.has(s)?s:q3(s),e.attrs[s])}function cI(t,{layout:e,layoutId:n}){return _d.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ky[t]||t==="opacity")}function Y3(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(ts(s[o])||e.style&&ts(e.style[o])||cI(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function uI(t,e,n){const r=Y3(t,e,n);for(const s in t)if(ts(t[s])||ts(e[s])){const i=Jg.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function K3(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}function ele({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:tle(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const dI=t=>(e,n)=>{const r=N.useContext(fw),s=N.useContext(hw),i=()=>ele(t,e,r,s);return n?i():K3(i)};function tle(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=pv(i[p]);let{initial:o,animate:a}=t;const l=pw(t),c=iI(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!cw(d)){const p=Array.isArray(d)?d:[d];for(let f=0;f<p.length;f++){const y=b3(t,p[f]);if(y){const{transitionEnd:g,transition:b,...v}=y;for(const w in v){let _=v[w];if(Array.isArray(_)){const T=u?_.length-1:0;_=_[T]}_!==null&&(s[w]=_)}for(const w in g)s[w]=g[w]}}}return s}const Z3=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),hI=()=>({...Z3(),attrs:{}}),fI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,nle={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rle=Jg.length;function sle(t,e,n){let r="",s=!0;for(let i=0;i<rle;i++){const o=Jg[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=fI(a,j3[o]);if(!l){s=!1;const u=nle[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function X3(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(_d.has(l)){o=!0;continue}else if(iO(l)){s[l]=c;continue}else{const u=fI(c,j3[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=sle(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function dP(t,e,n){return typeof t=="string"?t:vt.transform(e+n*t)}function ile(t,e,n){const r=dP(e,t.x,t.width),s=dP(n,t.y,t.height);return`${r} ${s}`}const ole={offset:"stroke-dashoffset",array:"stroke-dasharray"},ale={offset:"strokeDashoffset",array:"strokeDasharray"};function lle(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?ole:ale;t[i.offset]=vt.transform(-r);const o=vt.transform(e),a=vt.transform(n);t[i.array]=`${o} ${a}`}function Q3(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(X3(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:f,dimensions:y}=t;p.transform&&(y&&(f.transform=p.transform),delete p.transform),y&&(s!==void 0||i!==void 0||f.transform)&&(f.transformOrigin=ile(y,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&lle(p,o,a,l,!1)}const J3=t=>typeof t=="string"&&t.toLowerCase()==="svg",cle={useVisualState:dI({scrapeMotionValuesFromProps:uI,createRenderState:hI,onMount:(t,e,{renderState:n,latestValues:r})=>{ln.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ln.render(()=>{Q3(n,r,J3(e.tagName),t.transformTemplate),lI(e,n)})}})},ule={useVisualState:dI({scrapeMotionValuesFromProps:Y3,createRenderState:Z3})};function pI(t,e,n){for(const r in e)!ts(e[r])&&!cI(r,n)&&(t[r]=e[r])}function dle({transformTemplate:t},e){return N.useMemo(()=>{const n=Z3();return X3(n,e,t),Object.assign({},n.vars,n.style)},[e])}function hle(t,e){const n=t.style||{},r={};return pI(r,n,t),Object.assign(r,dle(t,e)),r}function fle(t,e){const n={},r=hle(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const ple=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ple.has(t)}let mI=t=>!Cy(t);function mle(t){t&&(mI=e=>e.startsWith("on")?!Cy(e):t(e))}try{mle(require("@emotion/is-prop-valid").default)}catch{}function gle(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(mI(s)||n===!0&&Cy(s)||!e&&!Cy(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function vle(t,e,n,r){const s=N.useMemo(()=>{const i=hI();return Q3(i,e,J3(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};pI(i,t.style,t),s.style={...i,...s.style}}return s}function yle(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(G3(n)?vle:fle)(r,i,o,n),c=gle(r,typeof n=="string",t),u=n!==N.Fragment?{...c,...l,ref:s}:{},{children:d}=r,p=N.useMemo(()=>ts(d)?d.get():d,[d]);return N.createElement(n,{...u,children:p})}}function wle(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...G3(r)?cle:ule,preloadedFeatures:t,useRender:yle(s),createVisualElement:e,Component:r};return Kae(o)}}const Y_={current:null},gI={current:!1};function xle(){if(gI.current=!0,!!H3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Y_.current=t.matches;t.addListener(e),e()}else Y_.current=!1}function ble(t,e,n){for(const r in e){const s=e[r],i=n[r];if(ts(s))t.addValue(r,s);else if(ts(i))t.addValue(r,ng(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,ng(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const hP=new WeakMap,_le=[...lO,Qr,Oc],Sle=t=>_le.find(aO(t)),fP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Nle{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=T3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ca.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ln.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=pw(n),this.isVariantNode=iI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const f=d[p];l[p]!==void 0&&ts(f)&&f.set(l[p],!1)}}mount(e){this.current=e,hP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),gI.current||xle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Y_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hP.delete(this.current),this.projection&&this.projection.unmount(),Dc(this.notifyUpdate),Dc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_d.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ln.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jf){const n=jf[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fP.length;r++){const s=fP[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=ble(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ng(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(rO(s)||nO(s))?s=parseFloat(s):!Sle(s)&&Oc.test(n)&&(s=gO(e,n)),this.setBaseTarget(e,ts(s)?s.get():s)),ts(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=b3(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ts(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new B3),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vI extends Nle{constructor(){super(...arguments),this.KeyframeResolver=vO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ts(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kle(t){return window.getComputedStyle(t)}class Cle extends vI{constructor(){super(...arguments),this.type="html",this.renderInstance=oI}readValueFromInstance(e,n){if(_d.has(n)){const r=L3(n);return r&&r.default||0}else{const r=kle(e),s=(iO(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return UO(e,n)}build(e,n,r){X3(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Y3(e,n,r)}}class Ale extends vI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_d.has(n)){const r=L3(n);return r&&r.default||0}return n=aI.has(n)?n:q3(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return uI(e,n,r)}build(e,n,r){Q3(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){lI(e,n,r,s)}mount(e){this.isSVGTag=J3(e.tagName),super.mount(e)}}const Tle=(t,e)=>G3(t)?new Ale(e):new Cle(e,{allowProjection:t!==N.Fragment}),Ple=wle({...moe,...zae,...Pae,...Bae},Tle),Hp=fse(Ple);class Ele extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jle({children:t,isPresent:e}){const n=N.useId(),r=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=N.useContext($3);return N.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),h.jsx(Ele,{isPresent:e,childRef:r,sizeRef:s,children:N.cloneElement(t,{ref:r})})}const Lle=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=K3(Rle),l=N.useId(),c=N.useCallback(d=>{a.set(d,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),u=N.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),i?[Math.random(),c]:[n,c]);return N.useMemo(()=>{a.forEach((d,p)=>a.set(p,!1))},[n]),N.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=h.jsx(jle,{isPresent:n,children:t})),h.jsx(hw.Provider,{value:u,children:t})};function Rle(){return new Map}const V1=t=>t.key||"";function pP(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const Mle=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=N.useMemo(()=>pP(t),[t]),l=a.map(V1),c=N.useRef(!0),u=N.useRef(a),d=K3(()=>new Map),[p,f]=N.useState(a),[y,g]=N.useState(a);nI(()=>{c.current=!1,u.current=a;for(let w=0;w<y.length;w++){const _=V1(y[w]);l.includes(_)?d.delete(_):d.get(_)!==!0&&d.set(_,!1)}},[y,l.length,l.join("-")]);const b=[];if(a!==p){let w=[...a];for(let _=0;_<y.length;_++){const T=y[_],C=V1(T);l.includes(C)||(w.splice(_,0,T),b.push(T))}o==="wait"&&b.length&&(w=b),g(pP(w)),f(a);return}const{forceRender:v}=N.useContext(U3);return h.jsx(h.Fragment,{children:y.map(w=>{const _=V1(w),T=a===y||l.includes(_),C=()=>{if(d.has(_))d.set(_,!0);else return;let R=!0;d.forEach(E=>{E||(R=!1)}),R&&(v==null||v(),g(u.current),s&&s())};return h.jsx(Lle,{isPresent:T,initial:!c.current||r?void 0:!1,custom:T?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:T?void 0:C,children:w},_)})})};function Dle({dreamContent:t,emojiTranslation:e,onEmojiTranslationChange:n}){const{toast:r}=zr(),[s,i]=N.useState(!1),[o,a]=N.useState(null),[l,c]=N.useState(!1),[u,d]=N.useState([]),[p,f]=N.useState(""),[y,g]=N.useState(null),b=N.useRef(null),v=async()=>{if(!t){a("Non c' alcun sogno da tradurre in emoji");return}i(!0),a(null);try{const E=await(await Ln("POST","/api/genera-emoji",{sogno:t})).json();if(E.error)throw new Error(E.error);n(E.emojiTranslation),d(E.emojiExplanations||[]),f(E.emojiMood||""),r({description:"Traduzione emoji generata con successo"})}catch(R){a(`Errore nella generazione delle emoji: ${R.message||"Si  verificato un errore"}`),console.error(R)}finally{i(!1)}},w=R=>{g(y===R?null:R)},_=()=>{e&&navigator.clipboard.writeText(e).then(()=>{r({description:"Emoji copiate negli appunti"})},R=>{console.error("Impossibile copiare negli appunti:",R),r({variant:"destructive",description:"Impossibile copiare negli appunti"})})},T=R=>{const E=u.find(A=>A.emoji===R);return(E==null?void 0:E.meaning)||"Nessuna spiegazione disponibile"},C=()=>{if(!e)return null;const R=Array.from(e);return h.jsx("div",{ref:b,className:"emoji-container flex flex-wrap gap-1 text-3xl leading-relaxed",children:R.map((E,A)=>h.jsx(Vu,{children:h.jsxs(zh,{children:[h.jsx(Bh,{asChild:!0,children:h.jsx(Hp.span,{className:"emoji-item cursor-pointer hover:scale-125 inline-block transition-transform",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1,y:[0,-8,0]},transition:{duration:.5,delay:A*.1,y:{duration:.5,delay:A*.1+.5,ease:"easeOut"}},whileHover:{scale:1.3,rotate:[-5,5,0],transition:{duration:.3}},onClick:()=>w(E),children:E})}),h.jsx(zu,{className:"max-w-xs text-sm",children:T(E)})]})},A))})};return h.jsxs(hr,{className:"relative overflow-hidden dark:bg-gray-800/60 light:bg-white/80 border-2 dark:border-purple-900/50 light:border-indigo-100",children:[h.jsxs(Tr,{className:"pb-3",children:[h.jsxs(Pr,{className:"flex items-center justify-between text-lg",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(xC,{className:"h-5 w-5 mr-2 dark:text-yellow-400 light:text-indigo-600"}),"Traduttore Emoji del Sogno"]}),e&&u.length>0&&h.jsxs(it,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"text-sm",children:[l?h.jsx(u2,{className:"h-4 w-4 mr-1"}):h.jsx(qB,{className:"h-4 w-4 mr-1"}),l?"Nascondi dettagli":"Mostra dettagli"]})]}),h.jsx(ko,{children:"Traduci il tuo sogno in una sequenza di emoji per condividerlo pi facilmente"})]}),h.jsxs(xr,{children:[o&&h.jsx(_2,{variant:"destructive",className:"mb-4",children:h.jsx(S2,{children:o})}),s?h.jsxs("div",{className:"space-y-2",children:[h.jsx(dv,{className:"h-5 w-full"}),h.jsx(dv,{className:"h-5 w-3/4"}),h.jsx(dv,{className:"h-5 w-1/2"})]}):e?h.jsxs(Hp.div,{className:"relative p-4 bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-950 dark:to-purple-950 rounded-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(C,{}),p&&h.jsx(Hp.div,{className:"mt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.5},children:h.jsx(Ti,{variant:"outline",className:"bg-indigo-100/30 dark:bg-indigo-900/30 text-xs",children:p})}),h.jsx(Mle,{children:l&&h.jsxs(Hp.div,{className:"mt-4 space-y-2 bg-white/20 dark:bg-black/20 p-3 rounded-md",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[h.jsx("h4",{className:"text-sm font-medium",children:"Significato delle emoji:"}),h.jsx("ul",{className:"space-y-2 text-sm",children:u.map((R,E)=>h.jsxs(Hp.li,{className:"flex items-start gap-2",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:E*.05,duration:.3},children:[h.jsx("span",{className:"text-xl flex-shrink-0",children:R.emoji}),h.jsx("span",{className:"text-sm",children:R.meaning})]},E))})]})})]}):h.jsxs("div",{className:"flex flex-col items-center justify-center p-8 border-2 border-dashed rounded-md dark:border-gray-700 light:border-gray-300",children:[h.jsx(xC,{className:"h-10 w-10 mb-3 dark:text-gray-500 light:text-gray-400"}),h.jsx("p",{className:"text-center dark:text-gray-400 light:text-gray-500",children:"Genera una traduzione emoji del tuo sogno per condividere il tuo racconto in modo divertente e visuale"})]})]}),h.jsxs(xo,{className:"flex justify-between pt-2",children:[h.jsxs(it,{variant:"outline",size:"sm",onClick:v,disabled:s||!t,className:"dark:bg-indigo-900/30 dark:hover:bg-indigo-800/50 light:bg-indigo-50 light:hover:bg-indigo-100",children:[h.jsx(Ff,{className:"h-4 w-4 mr-2"}),e?"Rigenera Emoji":"Genera Emoji"]}),e&&h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(it,{variant:"ghost",size:"sm",onClick:_,className:"dark:text-purple-300 dark:hover:text-purple-200 light:text-indigo-600 light:hover:text-indigo-800",children:[h.jsx(WB,{className:"h-4 w-4 mr-2"}),"Copia Emoji"]}),h.jsxs(dse,{children:[h.jsx(hse,{asChild:!0,children:h.jsxs(it,{variant:"ghost",size:"sm",className:"dark:text-purple-300 dark:hover:text-purple-200 light:text-indigo-600 light:hover:text-indigo-800",children:[h.jsx(Lb,{className:"h-4 w-4 mr-2"}),"Condividi"]})}),h.jsx($D,{className:"w-[200px] p-0",children:h.jsxs("div",{className:"p-3",children:[h.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Condividi le tue emoji su:"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(it,{size:"sm",onClick:()=>window.open(`https://wa.me/?text=${encodeURIComponent(e)}`,"_blank"),className:"bg-green-500 hover:bg-green-600 text-white w-full",children:"WhatsApp"}),h.jsx(it,{size:"sm",onClick:()=>window.open(`https://t.me/share/url?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(e)}`,"_blank"),className:"bg-blue-500 hover:bg-blue-600 text-white w-full",children:"Telegram"})]})]})})]})]})]})]})}var eN="Dialog",[yI,jhe]=Br(eN),[Ole,jo]=yI(eN),wI=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=N.useRef(null),l=N.useRef(null),[c=!1,u]=_s({prop:r,defaultProp:s,onChange:i});return h.jsx(Ole,{scope:e,triggerRef:a,contentRef:l,contentId:ji(),titleId:ji(),descriptionId:ji(),open:c,onOpenChange:u,onOpenToggle:N.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};wI.displayName=eN;var xI="DialogTrigger",bI=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jo(xI,n),i=Dt(e,s.triggerRef);return h.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rN(s.open),...r,ref:i,onClick:Ke(t.onClick,s.onOpenToggle)})});bI.displayName=xI;var tN="DialogPortal",[Ile,_I]=yI(tN,{forceMount:void 0}),SI=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=jo(tN,e);return h.jsx(Ile,{scope:e,forceMount:n,children:N.Children.map(r,o=>h.jsx(Ii,{present:n||i.open,children:h.jsx(Ag,{asChild:!0,container:s,children:o})}))})};SI.displayName=tN;var Ay="DialogOverlay",NI=N.forwardRef((t,e)=>{const n=_I(Ay,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=jo(Ay,t.__scopeDialog);return i.modal?h.jsx(Ii,{present:r||i.open,children:h.jsx(Vle,{...s,ref:e})}):null});NI.displayName=Ay;var Fle=Zu("DialogOverlay.RemoveScroll"),Vle=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jo(Ay,n);return h.jsx(T2,{as:Fle,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(lt.div,{"data-state":rN(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ad="DialogContent",kI=N.forwardRef((t,e)=>{const n=_I(ad,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=jo(ad,t.__scopeDialog);return h.jsx(Ii,{present:r||i.open,children:i.modal?h.jsx(zle,{...s,ref:e}):h.jsx(Ble,{...s,ref:e})})});kI.displayName=ad;var zle=N.forwardRef((t,e)=>{const n=jo(ad,t.__scopeDialog),r=N.useRef(null),s=Dt(e,n.contentRef,r);return N.useEffect(()=>{const i=r.current;if(i)return S4(i)},[]),h.jsx(CI,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ke(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ke(t.onFocusOutside,i=>i.preventDefault())})}),Ble=N.forwardRef((t,e)=>{const n=jo(ad,t.__scopeDialog),r=N.useRef(!1),s=N.useRef(!1);return h.jsx(CI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),CI=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=jo(ad,n),l=N.useRef(null),c=Dt(e,l);return _4(),h.jsxs(h.Fragment,{children:[h.jsx(C2,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(pd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":rN(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(qle,{titleId:a.titleId}),h.jsx(Wle,{contentRef:l,descriptionId:a.descriptionId})]})]})}),nN="DialogTitle",AI=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jo(nN,n);return h.jsx(lt.h2,{id:s.titleId,...r,ref:e})});AI.displayName=nN;var TI="DialogDescription",PI=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jo(TI,n);return h.jsx(lt.p,{id:s.descriptionId,...r,ref:e})});PI.displayName=TI;var EI="DialogClose",jI=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jo(EI,n);return h.jsx(lt.button,{type:"button",...r,ref:e,onClick:Ke(t.onClick,()=>s.onOpenChange(!1))})});jI.displayName=EI;function rN(t){return t?"open":"closed"}var LI="DialogTitleWarning",[Lhe,RI]=$z(LI,{contentName:ad,titleName:nN,docsSlug:"dialog"}),qle=({titleId:t})=>{const e=RI(LI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Ule="DialogDescriptionWarning",Wle=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RI(Ule).contentName}}.`;return N.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},$le=wI,Hle=bI,Gle=SI,MI=NI,DI=kI,OI=AI,II=PI,Yle=jI;const mw=$le,sN=Hle,Kle=Gle,FI=N.forwardRef(({className:t,...e},n)=>h.jsx(MI,{ref:n,className:rt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));FI.displayName=MI.displayName;const r0=N.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Kle,{children:[h.jsx(FI,{}),h.jsxs(DI,{ref:r,className:rt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(Yle,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(u2,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));r0.displayName=DI.displayName;const s0=({className:t,...e})=>h.jsx("div",{className:rt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});s0.displayName="DialogHeader";const iN=({className:t,...e})=>h.jsx("div",{className:rt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});iN.displayName="DialogFooter";const i0=N.forwardRef(({className:t,...e},n)=>h.jsx(OI,{ref:n,className:rt("text-lg font-semibold leading-none tracking-tight",t),...e}));i0.displayName=OI.displayName;const o0=N.forwardRef(({className:t,...e},n)=>h.jsx(II,{ref:n,className:rt("text-sm text-muted-foreground",t),...e}));o0.displayName=II.displayName;function Zle({dreamContent:t,dreamStory:e,dreamImageUrl:n,onImageUrlChange:r}){const{toast:s}=zr(),[i,o]=N.useState(!1),[a,l]=N.useState(null),[c,u]=N.useState([]),[d,p]=N.useState("surrealista"),[f,y]=N.useState(""),[g,b]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const C=await fetch("/api/stili-artistici");if(!C.ok)throw new Error("Errore nel recupero degli stili artistici");const R=await C.json();u(R)}catch(C){console.error("Errore nel caricamento degli stili artistici:",C),u([{name:"surrealista",description:"Stile onirico e simbolico",promptModifier:""},{name:"impressionista",description:"Cattura luce e atmosfera",promptModifier:""},{name:"fantasy",description:"Mondo magico e fantastico",promptModifier:""},{name:"noir",description:"Contrasti drammatici",promptModifier:""},{name:"minimalista",description:"Essenziale e semplice",promptModifier:""}])}})()},[]);const v=async()=>{if(!t||!e){l("Per generare un'immagine sono necessari sia il sogno che il racconto");return}o(!0),l(null);try{const C=await(await Ln("POST","/api/genera-immagine",{sogno:t,racconto:e,stileArtistico:d})).json();if(C.error)throw new Error(C.error);r(C.imageUrl),C.description&&y(C.description),s({description:"Immagine generata con successo nello stile "+d})}catch(T){l(`Errore nella generazione dell'immagine: ${T.message||"Si  verificato un errore"}`),console.error(T)}finally{o(!1)}},w=()=>{if(n){const T=document.createElement("a");T.href=n,T.download=`sogno_illustrato_${d}_${Date.now()}.svg`,T.target="_blank",document.body.appendChild(T),T.click(),document.body.removeChild(T),s({description:"Download immagine iniziato"})}},_=T=>({surrealista:"Surrealista",impressionista:"Impressionista",fantasy:"Fantasy",noir:"Noir",minimalista:"Minimalista"})[T]||T;return h.jsxs(hr,{className:"relative overflow-hidden dark:bg-gray-800/60 light:bg-white/80 border-2 dark:border-purple-900/50 light:border-indigo-100",children:[h.jsxs(Tr,{className:"pb-3",children:[h.jsxs(Pr,{className:"flex items-center text-lg",children:[h.jsx(Gj,{className:"h-5 w-5 mr-2 dark:text-green-400 light:text-indigo-600"}),"Illustrazione del Sogno"]}),h.jsx(ko,{children:"Genera un'immagine artistica ispirata al tuo sogno e al racconto"})]}),h.jsxs(xr,{children:[a&&h.jsx(_2,{variant:"destructive",className:"mb-4",children:h.jsx(S2,{children:a})}),h.jsxs("div",{className:"mb-4",children:[h.jsx(jt,{htmlFor:"artStyle",className:"block text-sm font-medium mb-1",children:"Stile Artistico"}),h.jsxs(Ja,{value:d,onValueChange:p,disabled:i,children:[h.jsx(sa,{id:"artStyle",className:"w-full",children:h.jsx(el,{placeholder:"Seleziona uno stile artistico"})}),h.jsx(ia,{children:c.map(T=>h.jsx(qn,{value:T.name,children:h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{children:_(T.name)}),h.jsx("span",{className:"text-xs text-gray-500",children:T.description})]})},T.name))})]})]}),i?h.jsx("div",{className:"space-y-2",children:h.jsx(dv,{className:"h-[300px] w-full"})}):n?h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"relative overflow-hidden rounded-md",children:h.jsx("img",{src:n,alt:"Illustrazione del sogno",className:"w-full h-auto object-cover rounded-md border dark:border-gray-700 light:border-gray-300"})}),f&&h.jsx("div",{className:"mt-2",children:h.jsxs(mw,{open:g,onOpenChange:b,children:[h.jsx(sN,{asChild:!0,children:h.jsxs(it,{variant:"outline",size:"sm",className:"w-full",children:[h.jsx($j,{className:"h-4 w-4 mr-2"}),"Visualizza Descrizione"]})}),h.jsxs(r0,{className:"max-w-2xl",children:[h.jsxs(s0,{children:[h.jsx(i0,{children:"Descrizione dell'Immagine"}),h.jsx(o0,{children:"Ecco la descrizione dettagliata dell'immagine generata"})]}),h.jsx("div",{className:"mt-4 max-h-[50vh] overflow-y-auto",children:h.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:f})})]})]})})]}):h.jsxs("div",{className:"flex flex-col items-center justify-center p-8 border-2 border-dashed rounded-md dark:border-gray-700 light:border-gray-300",children:[h.jsx(JB,{className:"h-10 w-10 mb-3 dark:text-gray-500 light:text-gray-400"}),h.jsx("p",{className:"text-center dark:text-gray-400 light:text-gray-500",children:"Genera un'immagine artistica che rappresenti visivamente il tuo sogno nello stile selezionato"})]})]}),h.jsxs(xo,{className:"flex justify-between pt-2",children:[h.jsxs(it,{variant:"outline",size:"sm",onClick:v,disabled:i||!t||!e,className:"dark:bg-indigo-900/30 dark:hover:bg-indigo-800/50 light:bg-indigo-50 light:hover:bg-indigo-100",children:[h.jsx(Ff,{className:"h-4 w-4 mr-2"}),n?"Rigenera Immagine":"Genera Immagine"]}),n&&h.jsxs(it,{variant:"ghost",size:"sm",onClick:w,className:"dark:text-purple-300 dark:hover:text-purple-200 light:text-indigo-600 light:hover:text-indigo-800",children:[h.jsx(n4,{className:"h-4 w-4 mr-2"}),"Scarica"]})]})]})}function Xle({dreamContent:t,dreamStory:e,emotion:n}){const[r,s]=N.useState(!1),[i,o]=N.useState(!1),[a,l]=N.useState(.5);N.useState(!1);const[c,u]=N.useState(!1),d=N.useRef(null),p=N.useRef(null),f=N.useRef(null),y=N.useRef(null),g=N.useRef(null),b=E=>{const A={tempo:80,key:"C4",scale:"major",reverb:.5,delay:.2,notes:[]};switch(E){case"felice":A.tempo=95,A.key="E4",A.scale="major",A.reverb=.3,A.delay=.1;break;case"triste":A.tempo=60,A.key="A3",A.scale="minor",A.reverb=.8,A.delay=.4;break;case"spaventato":A.tempo=100,A.key="D3",A.scale="minor",A.reverb=.7,A.delay=.3;break;case"arrabbiato":A.tempo=120,A.key="G3",A.scale="minor",A.reverb=.4,A.delay=.2;break;case"sorpreso":A.tempo=90,A.key="F4",A.scale="major",A.reverb=.6,A.delay=.3;break;case"sereno":A.tempo=70,A.key="G4",A.scale="major",A.reverb=.7,A.delay=.4;break;case"confuso":A.tempo=85,A.key="B3",A.scale="minor",A.reverb=.5,A.delay=.3;break;default:A.tempo=80,A.key="C4",A.scale="major",A.reverb=.5,A.delay=.3}return A.notes=v(A.key,A.scale),A},v=(E,A)=>{const L=A==="major"?[0,2,4,5,7,9,11,12]:[0,2,3,5,7,8,10,12],P=Dee(E).toFrequency(),U=[];for(let z=0;z<16;z++){const Y=Math.floor(Math.random()*L.length),O=Math.floor(Math.random()*2)-1,$=P*Math.pow(2,(L[Y]+O*12)/12);U.push($)}return U},w=()=>{y.current=new Yo({decay:5,wet:.5}).toDestination(),g.current=new Zg({delayTime:.3,feedback:.4,wet:.3}).connect(y.current),d.current=new ao(bc).connect(y.current),d.current.set({volume:-20,envelope:{attack:1.5,decay:.5,sustain:.8,release:5}}),p.current=new bc({oscillator:{type:"sine"},envelope:{attack:.1,decay:.2,sustain:.5,release:3}}).connect(g.current),p.current.volume.value=-15,f.current=new ao(bc).connect(y.current),f.current.set({oscillator:{type:"triangle"},envelope:{attack:3,decay:2,sustain:.8,release:8},volume:-18}),u(!0)},_=()=>{c||w();const E=b(n);Au.bpm.value=E.tempo;const A=new Gm((H,L)=>{f.current.triggerAttackRelease(L,"8n",H)},E.notes).start(0);A.interval="4n";const D=new Gm((H,L)=>{Math.random()>.6&&p.current.triggerAttackRelease(L,"8n",H)},E.notes).start("2n");D.interval="4n",new Za(H=>{const L=E.notes[Math.floor(Math.random()*E.notes.length)];d.current.triggerAttackRelease(L,"4n",H)},"2n").start(0),y.current.wet.value=E.reverb,g.current.wet.value=E.delay,Au.start(),s(!0)},T=()=>{Au.stop(),Au.cancel(),s(!1)},C=E=>{const A=E[0];l(A);const D=uy(A);r5.volume.value=D},R=()=>{const E=!i;o(E),E?r5.mute=!0:r5.mute=!1};return N.useEffect(()=>()=>{T(),d.current&&d.current.dispose(),p.current&&p.current.dispose(),f.current&&f.current.dispose(),y.current&&y.current.dispose(),g.current&&g.current.dispose()},[]),h.jsxs(hr,{className:"relative overflow-hidden dark:bg-gray-800/60 light:bg-white/80 border-2 dark:border-purple-900/50 light:border-indigo-100",children:[h.jsxs(Tr,{className:"pb-3",children:[h.jsxs(Pr,{className:"flex items-center text-lg",children:[h.jsx(Hj,{className:"h-5 w-5 mr-2 dark:text-green-400 light:text-indigo-600"}),"Paesaggio Sonoro del Sogno"]}),h.jsx(ko,{children:"Genera una traccia audio rilassante ispirata al tuo sogno"})]}),h.jsx(xr,{children:h.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 py-2",children:[h.jsxs("div",{className:"flex items-center space-x-4 w-full justify-center",children:[h.jsx(it,{variant:r?"outline":"default",size:"icon",onClick:r?T:_,className:r?"dark:bg-red-900/30 dark:hover:bg-red-800/50 light:bg-red-50 light:hover:bg-red-100":"dark:bg-green-900/30 dark:hover:bg-green-800/50 light:bg-green-50 light:hover:bg-green-100",children:r?h.jsx(l2,{className:"h-4 w-4"}):h.jsx(c2,{className:"h-4 w-4"})}),h.jsx(it,{variant:"outline",size:"icon",onClick:R,className:"dark:bg-gray-800/30 dark:hover:bg-gray-700/50 light:bg-gray-50 light:hover:bg-gray-100",children:i?h.jsx(Bv,{className:"h-4 w-4"}):h.jsx(Fm,{className:"h-4 w-4"})}),h.jsx("div",{className:"w-32 md:w-48",children:h.jsx(cc,{value:[a],min:0,max:1,step:.01,onValueChange:C})})]}),h.jsx("div",{className:"text-center text-sm dark:text-gray-400 light:text-gray-500",children:"Questo audio  generato in base all'emozione predominante del tuo sogno"})]})}),h.jsx(xo,{className:"pt-2 text-xs dark:text-gray-500 light:text-gray-500 text-center",children:h.jsx("div",{className:"w-full",children:"Utilizza cuffie o altoparlanti per la migliore esperienza"})})]})}function Qle({dreamContent:t,dreamStory:e}){const{toast:n}=zr(),[r,s]=N.useState(null),[i,o]=N.useState(!1),a=mo({mutationFn:async()=>{const u=await Ln("POST","/api/analizza-emozioni",{sogno:t,racconto:e});if(!u.ok){const d=await u.json();throw new Error(d.error||"Errore nell'analisi delle emozioni")}return u.json()},onSuccess:u=>{s(u),n({description:"Analisi delle emozioni completata con successo"})},onError:u=>{n({variant:"destructive",description:`Errore: ${u.message}`})}}),l=(u,d)=>({background:`linear-gradient(90deg, ${u} 0%, ${u}88 ${d*10}%, transparent ${d*10}%, transparent 100%)`,height:"24px",borderRadius:"4px",position:"relative",marginBottom:"8px"}),c=()=>{if(!t||!e){n({variant:"destructive",description:" necessario avere sia un sogno che un racconto per analizzare le emozioni"});return}a.mutate()};return h.jsxs(hr,{className:"relative overflow-hidden dark:bg-gray-800/60 light:bg-white/80 border-2 dark:border-purple-900/50 light:border-indigo-100",children:[h.jsxs(Tr,{className:"pb-3",children:[h.jsxs(Pr,{className:"flex items-center text-lg",children:[h.jsx(r4,{className:"h-5 w-5 mr-2 dark:text-pink-400 light:text-red-500"}),"Analisi Emotiva Avanzata"]}),h.jsx(ko,{children:"Analizza le emozioni complesse presenti nel tuo sogno"})]}),h.jsxs(xr,{children:[!r&&!a.isPending&&h.jsx("div",{className:"flex justify-center py-4",children:h.jsxs(it,{onClick:c,className:"dark:bg-purple-700 dark:hover:bg-purple-600 light:bg-indigo-500 light:hover:bg-indigo-400",children:[h.jsx(IB,{className:"h-4 w-4 mr-2"}),"Analizza Emozioni"]})}),a.isPending&&h.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[h.jsx(da,{className:"h-8 w-8 animate-spin dark:text-purple-400 light:text-indigo-400 mb-2"}),h.jsx("p",{className:"text-sm dark:text-gray-400 light:text-gray-500",children:"Analisi delle emozioni in corso..."})]}),r&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"mb-4",children:[h.jsxs("h3",{className:"text-md font-semibold mb-2",children:["Emozione Principale: ",h.jsx("span",{className:"font-normal",children:r.primaryEmotion})]}),h.jsx("p",{className:"text-sm dark:text-gray-300 light:text-gray-600",children:r.analysis})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("h3",{className:"text-md font-semibold",children:"Mappa Emotiva:"}),r.emotions.map((u,d)=>h.jsxs("div",{className:"mb-2",children:[h.jsxs("div",{className:"flex justify-between mb-1",children:[h.jsx("span",{className:"text-sm font-medium",children:u.name}),h.jsxs("span",{className:"text-sm",children:[u.intensity,"/10"]})]}),h.jsx("div",{style:l(u.color,u.intensity),children:h.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:h.jsx("span",{className:"text-xs font-semibold text-white drop-shadow-md",children:u.intensity>=3?u.name:""})})}),i&&h.jsx("p",{className:"text-xs dark:text-gray-400 light:text-gray-500 mt-1 mb-3",children:u.description})]},d))]})]})]}),r&&h.jsx(xo,{className:"pt-0 flex justify-center",children:h.jsx(it,{variant:"ghost",size:"sm",onClick:()=>o(!i),className:"text-xs dark:text-gray-400 light:text-gray-500",children:i?"Nascondi dettagli":"Mostra dettagli"})})]})}var oN="Collapsible",[Jle,VI]=Br(oN),[ece,aN]=Jle(oN),zI=N.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=t,[l=!1,c]=_s({prop:r,defaultProp:s,onChange:o});return h.jsx(ece,{scope:n,disabled:i,contentId:ji(),open:l,onOpenToggle:N.useCallback(()=>c(u=>!u),[c]),children:h.jsx(lt.div,{"data-state":cN(l),"data-disabled":i?"":void 0,...a,ref:e})})});zI.displayName=oN;var BI="CollapsibleTrigger",qI=N.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=aN(BI,n);return h.jsx(lt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":cN(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:Ke(t.onClick,s.onOpenToggle)})});qI.displayName=BI;var lN="CollapsibleContent",UI=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=aN(lN,t.__scopeCollapsible);return h.jsx(Ii,{present:n||s.open,children:({present:i})=>h.jsx(tce,{...r,ref:e,present:i})})});UI.displayName=lN;var tce=N.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=aN(lN,n),[a,l]=N.useState(r),c=N.useRef(null),u=Dt(e,c),d=N.useRef(0),p=d.current,f=N.useRef(0),y=f.current,g=o.open||a,b=N.useRef(g),v=N.useRef(void 0);return N.useEffect(()=>{const w=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(w)},[]),fr(()=>{const w=c.current;if(w){v.current=v.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const _=w.getBoundingClientRect();d.current=_.height,f.current=_.width,b.current||(w.style.transitionDuration=v.current.transitionDuration,w.style.animationName=v.current.animationName),l(r)}},[o.open,r]),h.jsx(lt.div,{"data-state":cN(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:g&&s})});function cN(t){return t?"open":"closed"}var nce=zI,rce=qI,sce=UI,vl="Accordion",ice=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[uN,oce,ace]=Cg(vl),[gw,Rhe]=Br(vl,[ace,VI]),dN=VI(),WI=dt.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return h.jsx(uN.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?h.jsx(dce,{...i,ref:e}):h.jsx(uce,{...s,ref:e})})});WI.displayName=vl;var[$I,lce]=gw(vl),[HI,cce]=gw(vl,{collapsible:!1}),uce=dt.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=t,[a,l]=_s({prop:n,defaultProp:r,onChange:s});return h.jsx($I,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:dt.useCallback(()=>i&&l(""),[i,l]),children:h.jsx(HI,{scope:t.__scopeAccordion,collapsible:i,children:h.jsx(GI,{...o,ref:e})})})}),dce=dt.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[o=[],a]=_s({prop:n,defaultProp:r,onChange:s}),l=dt.useCallback(u=>a((d=[])=>[...d,u]),[a]),c=dt.useCallback(u=>a((d=[])=>d.filter(p=>p!==u)),[a]);return h.jsx($I,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:h.jsx(HI,{scope:t.__scopeAccordion,collapsible:!0,children:h.jsx(GI,{...i,ref:e})})})}),[hce,vw]=gw(vl),GI=dt.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=t,a=dt.useRef(null),l=Dt(a,e),c=oce(n),d=Mg(s)==="ltr",p=Ke(t.onKeyDown,f=>{var A;if(!ice.includes(f.key))return;const y=f.target,g=c().filter(D=>{var H;return!((H=D.ref.current)!=null&&H.disabled)}),b=g.findIndex(D=>D.ref.current===y),v=g.length;if(b===-1)return;f.preventDefault();let w=b;const _=0,T=v-1,C=()=>{w=b+1,w>T&&(w=_)},R=()=>{w=b-1,w<_&&(w=T)};switch(f.key){case"Home":w=_;break;case"End":w=T;break;case"ArrowRight":i==="horizontal"&&(d?C():R());break;case"ArrowDown":i==="vertical"&&C();break;case"ArrowLeft":i==="horizontal"&&(d?R():C());break;case"ArrowUp":i==="vertical"&&R();break}const E=w%v;(A=g[E].ref.current)==null||A.focus()});return h.jsx(hce,{scope:n,disabled:r,direction:s,orientation:i,children:h.jsx(uN.Slot,{scope:n,children:h.jsx(lt.div,{...o,"data-orientation":i,ref:l,onKeyDown:r?void 0:p})})})}),Ty="AccordionItem",[fce,hN]=gw(Ty),YI=dt.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=vw(Ty,n),o=lce(Ty,n),a=dN(n),l=ji(),c=r&&o.value.includes(r)||!1,u=i.disabled||t.disabled;return h.jsx(fce,{scope:n,open:c,disabled:u,triggerId:l,children:h.jsx(nce,{"data-orientation":i.orientation,"data-state":e7(c),...a,...s,ref:e,disabled:u,open:c,onOpenChange:d=>{d?o.onItemOpen(r):o.onItemClose(r)}})})});YI.displayName=Ty;var KI="AccordionHeader",ZI=dt.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=vw(vl,n),i=hN(KI,n);return h.jsx(lt.h3,{"data-orientation":s.orientation,"data-state":e7(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});ZI.displayName=KI;var K_="AccordionTrigger",XI=dt.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=vw(vl,n),i=hN(K_,n),o=cce(K_,n),a=dN(n);return h.jsx(uN.ItemSlot,{scope:n,children:h.jsx(rce,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:e})})});XI.displayName=K_;var QI="AccordionContent",JI=dt.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=vw(vl,n),i=hN(QI,n),o=dN(n);return h.jsx(sce,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});JI.displayName=QI;function e7(t){return t?"open":"closed"}var pce=WI,mce=YI,gce=ZI,t7=XI,n7=JI;const vce=pce,r7=N.forwardRef(({className:t,...e},n)=>h.jsx(mce,{ref:n,className:rt("border-b",t),...e}));r7.displayName="AccordionItem";const s7=N.forwardRef(({className:t,children:e,...n},r)=>h.jsx(gce,{className:"flex",children:h.jsxs(t7,{ref:r,className:rt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,h.jsx(t4,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));s7.displayName=t7.displayName;const i7=N.forwardRef(({className:t,children:e,...n},r)=>h.jsx(n7,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:h.jsx("div",{className:rt("pb-4 pt-0",t),children:e})}));i7.displayName=n7.displayName;var A5,fN="HoverCard",[o7,Mhe]=Br(fN,[Wc]),yw=Wc(),[yce,pN]=o7(fN),a7=t=>{const{__scopeHoverCard:e,children:n,open:r,defaultOpen:s,onOpenChange:i,openDelay:o=700,closeDelay:a=300}=t,l=yw(e),c=N.useRef(0),u=N.useRef(0),d=N.useRef(!1),p=N.useRef(!1),[f=!1,y]=_s({prop:r,defaultProp:s,onChange:i}),g=N.useCallback(()=>{clearTimeout(u.current),c.current=window.setTimeout(()=>y(!0),o)},[o,y]),b=N.useCallback(()=>{clearTimeout(c.current),!d.current&&!p.current&&(u.current=window.setTimeout(()=>y(!1),a))},[a,y]),v=N.useCallback(()=>y(!1),[y]);return N.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(u.current)},[]),h.jsx(yce,{scope:e,open:f,onOpenChange:y,onOpen:g,onClose:b,onDismiss:v,hasSelectionRef:d,isPointerDownOnContentRef:p,children:h.jsx(m2,{...l,children:n})})};a7.displayName=fN;var l7="HoverCardTrigger",c7=N.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,s=pN(l7,n),i=yw(n);return h.jsx(jg,{asChild:!0,...i,children:h.jsx(lt.a,{"data-state":s.open?"open":"closed",...r,ref:e,onPointerEnter:Ke(t.onPointerEnter,Ey(s.onOpen)),onPointerLeave:Ke(t.onPointerLeave,Ey(s.onClose)),onFocus:Ke(t.onFocus,s.onOpen),onBlur:Ke(t.onBlur,s.onClose),onTouchStart:Ke(t.onTouchStart,o=>o.preventDefault())})})});c7.displayName=l7;var wce="HoverCardPortal",[Dhe,xce]=o7(wce,{forceMount:void 0}),Py="HoverCardContent",u7=N.forwardRef((t,e)=>{const n=xce(Py,t.__scopeHoverCard),{forceMount:r=n.forceMount,...s}=t,i=pN(Py,t.__scopeHoverCard);return h.jsx(Ii,{present:r||i.open,children:h.jsx(bce,{"data-state":i.open?"open":"closed",...s,onPointerEnter:Ke(t.onPointerEnter,Ey(i.onOpen)),onPointerLeave:Ke(t.onPointerLeave,Ey(i.onClose)),ref:e})})});u7.displayName=Py;var bce=N.forwardRef((t,e)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,...a}=t,l=pN(Py,n),c=yw(n),u=N.useRef(null),d=Dt(e,u),[p,f]=N.useState(!1);return N.useEffect(()=>{if(p){const y=document.body;return A5=y.style.userSelect||y.style.webkitUserSelect,y.style.userSelect="none",y.style.webkitUserSelect="none",()=>{y.style.userSelect=A5,y.style.webkitUserSelect=A5}}},[p]),N.useEffect(()=>{if(u.current){const y=()=>{f(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",y),()=>{document.removeEventListener("pointerup",y),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),N.useEffect(()=>{u.current&&Nce(u.current).forEach(g=>g.setAttribute("tabindex","-1"))}),h.jsx(pd,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:Ke(i,y=>{y.preventDefault()}),onDismiss:l.onDismiss,children:h.jsx(g2,{...c,...a,onPointerDown:Ke(a.onPointerDown,y=>{y.currentTarget.contains(y.target)&&f(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:d,style:{...a.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),_ce="HoverCardArrow",Sce=N.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,s=yw(n);return h.jsx(v2,{...s,...r,ref:e})});Sce.displayName=_ce;function Ey(t){return e=>e.pointerType==="touch"?void 0:t()}function Nce(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}var kce=a7,Cce=c7,d7=u7;const Ace=kce,Tce=Cce,h7=N.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>h.jsx(d7,{ref:s,align:e,sideOffset:n,className:rt("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]",t),...r}));h7.displayName=d7.displayName;function Pce({symbol:t,briefDescription:e,children:n,onSymbolClick:r,className:s="",categories:i=[],relatedSymbols:o=[],generalMeaning:a=""}){const[l,c]=N.useState(!1),u=a?a.length>120?a.substring(0,120)+"...":a:e;return h.jsxs(Ace,{openDelay:300,closeDelay:100,children:[h.jsx(Tce,{asChild:!0,children:h.jsxs("span",{className:`relative cursor-pointer ${s} ${l?"text-primary font-medium":""}`,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>r&&r(t),children:[n,l&&h.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary rounded-full animate-pulse"})]})}),h.jsxs(h7,{className:"w-80 p-0 overflow-hidden",side:"top",align:"center",children:[h.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 p-4",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ff,{className:"h-4 w-4 text-primary"}),h.jsx("h4",{className:"font-semibold text-base",children:t})]}),i.length>0&&h.jsx(Ti,{variant:"outline",className:"text-xs",children:i[0]})]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:u})]}),(o.length>0||i.length>1)&&h.jsxs("div",{className:"p-3 text-xs border-t border-muted/30",children:[o.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[h.jsx("span",{className:"text-muted-foreground mr-1",children:"Correlati:"}),o.slice(0,3).map((d,p)=>h.jsx(Ti,{variant:"secondary",className:"text-xs px-1.5 py-0 h-5",onClick:()=>r&&r(d),children:d},p)),o.length>3&&h.jsxs("span",{className:"text-muted-foreground",children:["+",o.length-3]})]}),i.length>1&&h.jsxs("div",{className:"flex flex-wrap gap-1",children:[h.jsx("span",{className:"text-muted-foreground mr-1",children:"Categorie:"}),i.slice(0,3).map((d,p)=>h.jsx(Ti,{variant:"outline",className:"text-xs px-1.5 py-0 h-5",children:d},p)),i.length>3&&h.jsxs("span",{className:"text-muted-foreground",children:["+",i.length-3]})]})]}),h.jsx("div",{className:"p-3 pt-2 border-t border-muted/30",children:h.jsxs(it,{variant:"ghost",size:"sm",className:"w-full text-xs h-8",onClick:()=>r&&r(t),children:[h.jsx("span",{children:"Approfondisci"}),h.jsx(Tb,{className:"ml-1 h-3 w-3"})]})})]})]})}function Ece({text:t,onSymbolClick:e,className:n=""}){const[r,s]=N.useState([{text:t,isSymbol:!1}]),[i,o]=N.useState(null),a=mo({mutationFn:async d=>await(await Ln("POST","/api/simboli-sogno/estrai",{testo:d,includePositions:!0})).json()}),{data:l}=Uf({queryKey:["/api/simboli-sogno",i],queryFn:async()=>i?await(await Ln("GET",`/api/simboli-sogno/${encodeURIComponent(i)}`)).json():null,enabled:!!i});N.useEffect(()=>{t&&a.mutate(t)},[t]),N.useEffect(()=>{var d;if(a.isSuccess&&((d=a.data)!=null&&d.mainSymbols)){const p=a.data.symbolPositions||[];if(p.length===0){s([{text:t,isSymbol:!1}]);return}const f=[...p].sort((b,v)=>b.start-v.start),y=[];let g=0;f.forEach(b=>{b.start>g&&y.push({text:t.substring(g,b.start),isSymbol:!1});const v=a.data.mainSymbols.find(w=>w.symbol.toLowerCase()===b.symbol.toLowerCase());v?y.push({text:t.substring(b.start,b.end),isSymbol:!0,symbol:v.symbol,briefDescription:v.briefDescription}):y.push({text:t.substring(b.start,b.end),isSymbol:!1}),g=b.end}),g<t.length&&y.push({text:t.substring(g),isSymbol:!1}),s(y)}},[a.isSuccess,a.data]);const c=d=>{o(d)},u=()=>{o(null)};return h.jsx("div",{className:n,children:r.map((d,p)=>{var b,v;if(!d.isSymbol)return h.jsx("span",{children:d.text},p.toString());d.symbol&&((b=a.data)==null||b.mainSymbols.find(w=>{var _;return w.symbol.toLowerCase()===((_=d.symbol)==null?void 0:_.toLowerCase())}));const f=i===d.symbol&&(l!=null&&l.categories)?l.categories:[],y=i===d.symbol&&(l!=null&&l.relatedSymbols)?l.relatedSymbols:[],g=i===d.symbol&&((v=l==null?void 0:l.meanings)!=null&&v.general)?l.meanings.general:"";return h.jsx(Pce,{symbol:d.symbol||"",briefDescription:d.briefDescription||"",className:"text-primary-600 hover:text-primary transition-colors cursor-pointer",onSymbolClick:e,categories:f,relatedSymbols:y,generalMeaning:g,children:h.jsx("span",{onMouseEnter:()=>c(d.symbol||""),onMouseLeave:u,children:d.text})},p.toString())})})}function jce({dreamContent:t}){var _,T;const[e,n]=N.useState(""),[r,s]=N.useState(null),[i,o]=N.useState(!1),[a,l]=N.useState(null),c=["Natura","Animali","Persone","Luoghi","Oggetti","Elementi","Emozioni","Azioni","Situazioni","Spirituale","Mitologico","Famiglia","Lavoro","Viaggio"],u=mo({mutationFn:async C=>await(await Ln("POST","/api/simboli-sogno/estrai",{testo:C})).json()}),{data:d,isLoading:p}=Uf({queryKey:["/api/simboli-sogno",r],queryFn:async()=>r?await(await Ln("GET",`/api/simboli-sogno/${encodeURIComponent(r)}`)).json():null,enabled:!!r}),f=()=>{t&&u.mutate(t)},y=C=>{n(C.target.value)},g=C=>{s(C),o(!0)},v=(()=>{var C;return(C=u.data)!=null&&C.mainSymbols?u.data.mainSymbols.filter(R=>{const E=e?R.symbol.toLowerCase().includes(e.toLowerCase())||R.briefDescription.toLowerCase().includes(e.toLowerCase()):!0;return a&&d&&d.symbol===R.symbol?E&&d.categories.includes(a):E}):[]})(),w=({info:C})=>h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Significato Generale"}),h.jsx("p",{className:"text-muted-foreground",children:C.meanings.general})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Interpretazione Psicologica"}),h.jsx("p",{className:"text-muted-foreground",children:C.meanings.psychological})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Interpretazioni Culturali"}),h.jsx(vce,{type:"single",collapsible:!0,className:"w-full",children:C.meanings.cultural.map((R,E)=>h.jsxs(r7,{value:`culture-${E}`,children:[h.jsxs(s7,{children:["Cultura ",E+1]}),h.jsx(i7,{children:R})]},E))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Categorie"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:C.categories.map((R,E)=>h.jsx(Ti,{variant:"outline",children:R},E))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Simboli Correlati"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:C.relatedSymbols.map((R,E)=>h.jsxs(it,{variant:"link",className:"p-0 h-auto",onClick:()=>{s(R)},children:[R,E<C.relatedSymbols.length-1&&", "]},E))})]})]});return h.jsxs(hr,{className:"w-full",children:[h.jsxs(Tr,{children:[h.jsxs(Pr,{className:"flex items-center gap-2",children:[h.jsx(Pb,{className:"h-5 w-5"}),"Dizionario dei Simboli"]}),h.jsx(ko,{children:"Esplora i simboli presenti nel tuo sogno e scopri il loro significato profondo"})]}),h.jsx(xr,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(it,{variant:"outline",disabled:!t||u.isPending,onClick:f,children:u.isPending?h.jsxs(h.Fragment,{children:[h.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}),"Analisi..."]}):h.jsx(h.Fragment,{children:"Analizza Simboli nel Sogno"})})}),((_=u.data)==null?void 0:_.mainSymbols)&&u.data.mainSymbols.length>0&&h.jsxs("div",{className:"space-y-6 mt-4",children:[h.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[h.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[h.jsx(Ff,{className:"h-3.5 w-3.5 text-primary mr-1.5"}),"Testo con Simboli Interattivi"]}),h.jsx("div",{className:"text-sm leading-relaxed",children:h.jsx(Ece,{text:t,onSymbolClick:g,className:"prose prose-sm max-w-none"})})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("div",{className:"relative flex-1",children:[h.jsx(nq,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),h.jsx(ys,{placeholder:"Cerca simboli...",className:"pl-8",value:e,onChange:y}),e&&h.jsx(it,{variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-9 w-9 rounded-l-none p-0",onClick:()=>n(""),children:h.jsx(u2,{className:"h-4 w-4"})})]})}),h.jsxs(Xg,{defaultValue:"simboli",className:"w-full",children:[h.jsxs(Jf,{className:"w-full",children:[h.jsx(Ri,{value:"simboli",className:"flex-1",children:"Simboli"}),h.jsx(Ri,{value:"categorie",className:"flex-1",children:"Categorie"})]}),h.jsx(Mi,{value:"simboli",className:"space-y-4 mt-4",children:v.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:v.map((C,R)=>h.jsxs(hr,{className:"overflow-hidden",children:[h.jsx(Tr,{className:"p-4",children:h.jsx(Pr,{className:"text-base",children:C.symbol})}),h.jsx(xr,{className:"p-4 pt-0",children:h.jsx("p",{className:"text-sm text-muted-foreground",children:C.briefDescription})}),h.jsx(xo,{className:"p-4 pt-0",children:h.jsxs(it,{variant:"outline",size:"sm",className:"w-full",onClick:()=>g(C.symbol),children:["Approfondisci",h.jsx(Tb,{className:"ml-2 h-4 w-4"})]})})]},R))}):h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e?h.jsxs(h.Fragment,{children:['Nessun simbolo trovato per "',e,'"']}):h.jsx(h.Fragment,{children:"Nessun simbolo disponibile"})})}),h.jsx(Mi,{value:"categorie",className:"space-y-4 mt-4",children:h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx(it,{variant:a===null?"default":"outline",size:"sm",onClick:()=>l(null),children:"Tutte"},"all"),c==null?void 0:c.map((C,R)=>h.jsx(it,{variant:a===C?"default":"outline",size:"sm",onClick:()=>l(C),children:C},R))]}),v.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:v.map((C,R)=>h.jsxs(hr,{className:"overflow-hidden",children:[h.jsx(Tr,{className:"p-4",children:h.jsx(Pr,{className:"text-base",children:C.symbol})}),h.jsx(xr,{className:"p-4 pt-0",children:h.jsx("p",{className:"text-sm text-muted-foreground",children:C.briefDescription})}),h.jsx(xo,{className:"p-4 pt-0",children:h.jsxs(it,{variant:"outline",size:"sm",className:"w-full",onClick:()=>g(C.symbol),children:["Approfondisci",h.jsx(Tb,{className:"ml-2 h-4 w-4"})]})})]},R))}):h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a?h.jsxs(h.Fragment,{children:['Nessun simbolo trovato nella categoria "',a,'"']}):h.jsx(h.Fragment,{children:"Nessun simbolo disponibile"})})]})})]})]}),u.isSuccess&&(!((T=u.data)!=null&&T.mainSymbols)||u.data.mainSymbols.length===0)&&h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nessun simbolo significativo trovato nel testo del sogno"})]})}),h.jsx(mw,{open:i,onOpenChange:o,children:h.jsxs(r0,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[h.jsxs(s0,{children:[h.jsx(i0,{children:r}),h.jsx(o0,{children:"Approfondimento sul significato di questo simbolo nei sogni"})]}),p?h.jsx("div",{className:"flex justify-center py-8",children:h.jsx(da,{className:"h-8 w-8 animate-spin text-primary"})}):d?h.jsx(w,{info:d}):h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Informazioni non disponibili"})]})})]})}function Lce({dreamContent:t,onStoryGenerated:e}){const{toast:n}=zr(),[r,s]=N.useState(!1),[i,o]=N.useState([]),[a,l]=N.useState("surrealista"),[c,u]=N.useState("medio"),[d,p]=N.useState("onirico"),[f,y]=N.useState(!0),[g,b]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const T=await(await Ln("GET","/api/stili-letterari")).json();Array.isArray(T)&&T.length>0?o(T):o([{id:"surrealista",name:"Surrealista",description:"Narrativa onirica con elementi fantastici"},{id:"romantico",name:"Romantico",description:"Storie emozionali e sentimentali"},{id:"gotico",name:"Gotico",description:"Atmosfere cupe e misteriose"},{id:"fiabesco",name:"Fiabesco",description:"Racconti magici e incantati"},{id:"minimalista",name:"Minimalista",description:"Stile essenziale e diretto"}])}catch(_){console.error("Errore nel caricamento degli stili letterari:",_),o([{id:"surrealista",name:"Surrealista",description:"Narrativa onirica con elementi fantastici"},{id:"romantico",name:"Romantico",description:"Storie emozionali e sentimentali"},{id:"gotico",name:"Gotico",description:"Atmosfere cupe e misteriose"},{id:"fiabesco",name:"Fiabesco",description:"Racconti magici e incantati"},{id:"minimalista",name:"Minimalista",description:"Stile essenziale e diretto"}])}finally{b(!1)}})()},[n]);const v=async()=>{if(!t.trim()){n({variant:"destructive",title:"Errore",description:"Inserisci il contenuto del sogno prima di generare la storia."});return}s(!0);try{try{const _=await(await Ln("POST","/api/genera-racconto",{sogno:t,stile:a,lunghezza:c,tono:d,includiTitolo:f})).json();if(_.error)throw new Error(_.error);if(!_.racconto)throw new Error("Nessuna storia restituita dal server");e(_.racconto,_.titolo),n({title:"Storia generata",description:"La tua storia  stata generata con successo."})}catch(w){console.error("Errore nella generazione della storia:",w);const _=`Non sono riuscito a interpretare completamente il tuo sogno a causa di un errore tecnico. Ecco una breve riflessione: "${t}"  un'esperienza interessante che merita di essere esplorata ulteriormente.`;e(_,"Sogno senza interpretazione"),n({variant:"destructive",title:"Errore nella generazione",description:" stato usato un testo alternativo. Riprova pi tardi."})}}catch(w){console.error("Errore nella generazione della storia:",w),n({variant:"destructive",title:"Errore",description:`Si  verificato un errore: ${w instanceof Error?w.message:"Problema nella generazione della storia"}`})}finally{s(!1)}};return h.jsxs(hr,{className:"w-full dark:bg-slate-900/60 light:bg-white/90 backdrop-blur-sm",children:[h.jsxs(Tr,{children:[h.jsx(Pr,{className:"text-lg font-semibold",children:"Personalizza la tua storia"}),h.jsx(ko,{children:"Personalizza come l'AI trasformer il tuo sogno in un racconto letterario"})]}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"style",children:"Stile letterario"}),h.jsxs(Ja,{disabled:g||r,value:a,onValueChange:l,children:[h.jsx(sa,{id:"style",children:h.jsx(el,{placeholder:"Seleziona uno stile"})}),h.jsx(ia,{children:i.map(w=>h.jsxs(qn,{value:w.id,children:[h.jsx("span",{className:"font-medium",children:w.name})," - ",w.description]},w.id))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"length",children:"Lunghezza del racconto"}),h.jsxs(Ja,{disabled:r,value:c,onValueChange:u,children:[h.jsx(sa,{id:"length",children:h.jsx(el,{placeholder:"Seleziona la lunghezza"})}),h.jsxs(ia,{children:[h.jsx(qn,{value:"breve",children:"Breve (300-400 parole)"}),h.jsx(qn,{value:"medio",children:"Medio (500-600 parole)"}),h.jsx(qn,{value:"lungo",children:"Lungo (800-1000 parole)"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"tone",children:"Tono del racconto"}),h.jsxs(Ja,{disabled:r,value:d,onValueChange:p,children:[h.jsx(sa,{id:"tone",children:h.jsx(el,{placeholder:"Seleziona il tono"})}),h.jsxs(ia,{children:[h.jsx(qn,{value:"onirico",children:"Onirico"}),h.jsx(qn,{value:"misterioso",children:"Misterioso"}),h.jsx(qn,{value:"drammatico",children:"Drammatico"}),h.jsx(qn,{value:"romantico",children:"Romantico"}),h.jsx(qn,{value:"comico",children:"Comico"}),h.jsx(qn,{value:"inquietante",children:"Inquietante"})]})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ms,{id:"title",checked:f,onCheckedChange:y,disabled:r}),h.jsx(jt,{htmlFor:"title",className:"cursor-pointer",children:"Includi titolo separato"})]})]}),h.jsx(xo,{children:h.jsx(it,{onClick:v,disabled:r||!t.trim(),className:"dark:bg-purple-600 dark:hover:bg-purple-700 w-full",children:r?h.jsxs(h.Fragment,{children:[h.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}),"Generando la storia..."]}):h.jsxs(h.Fragment,{children:[h.jsx(dq,{className:"mr-2 h-4 w-4"}),"Genera storia personalizzata"]})})})]})}function f7({isVisible:t}){return t?h.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-lg shadow-xl flex flex-col items-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500 mb-4"}),h.jsx("p",{className:"dark:text-white light:text-gray-800 text-center",children:"Sto generando la tua storia con Gemini AI..."}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Potrebbe richiedere alcuni secondi."})]})}):null}var Rce=(t,e,n,r,s,i,o,a)=>{let l=document.documentElement,c=["light","dark"];function u(f){(Array.isArray(t)?t:[t]).forEach(y=>{let g=y==="class",b=g&&i?s.map(v=>i[v]||v):s;g?(l.classList.remove(...b),l.classList.add(i&&i[f]?i[f]:f)):l.setAttribute(y,f)}),d(f)}function d(f){a&&c.includes(f)&&(l.style.colorScheme=f)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)u(r);else try{let f=localStorage.getItem(e)||n,y=o&&f==="system"?p():f;u(y)}catch{}},mP=["light","dark"],p7="(prefers-color-scheme: dark)",Mce=typeof window>"u",mN=N.createContext(void 0),Dce={setTheme:t=>{},themes:[]},Oce=()=>{var t;return(t=N.useContext(mN))!=null?t:Dce},Ice=t=>N.useContext(mN)?N.createElement(N.Fragment,null,t.children):N.createElement(Vce,{...t}),Fce=["light","dark"],Vce=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=Fce,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:u,scriptProps:d})=>{let[p,f]=N.useState(()=>Bce(s,o)),[y,g]=N.useState(()=>p==="system"?T5():p),b=l?Object.values(l):i,v=N.useCallback(C=>{let R=C;if(!R)return;C==="system"&&n&&(R=T5());let E=l?l[R]:R,A=e?qce(u):null,D=document.documentElement,H=L=>{L==="class"?(D.classList.remove(...b),E&&D.classList.add(E)):L.startsWith("data-")&&(E?D.setAttribute(L,E):D.removeAttribute(L))};if(Array.isArray(a)?a.forEach(H):H(a),r){let L=mP.includes(o)?o:null,P=mP.includes(R)?R:L;D.style.colorScheme=P}A==null||A()},[u]),w=N.useCallback(C=>{let R=typeof C=="function"?C(p):C;f(R);try{localStorage.setItem(s,R)}catch{}},[p]),_=N.useCallback(C=>{let R=T5(C);g(R),p==="system"&&n&&!t&&v("system")},[p,t]);N.useEffect(()=>{let C=window.matchMedia(p7);return C.addListener(_),_(C),()=>C.removeListener(_)},[_]),N.useEffect(()=>{let C=R=>{R.key===s&&(R.newValue?f(R.newValue):w(o))};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[w]),N.useEffect(()=>{v(t??p)},[t,p]);let T=N.useMemo(()=>({theme:p,setTheme:w,forcedTheme:t,resolvedTheme:p==="system"?y:p,themes:n?[...i,"system"]:i,systemTheme:n?y:void 0}),[p,w,t,y,n,i]);return N.createElement(mN.Provider,{value:T},N.createElement(zce,{forcedTheme:t,storageKey:s,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:o,value:l,themes:i,nonce:u,scriptProps:d}),c)},zce=N.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:c})=>{let u=JSON.stringify([n,e,i,t,a,o,r,s]).slice(1,-1);return N.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Rce.toString()})(${u})`}})}),Bce=(t,e)=>{if(Mce)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},qce=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},T5=t=>(t||(t=window.matchMedia(p7)),t.matches?"dark":"light");function m7(){const[t,e]=N.useState(!1),{theme:n,setTheme:r}=Oce();if(N.useEffect(()=>{e(!0)},[]),!t)return null;const s=()=>{r(n==="dark"?"light":"dark")};return h.jsx(it,{onClick:s,variant:"ghost",size:"icon",className:"p-2 rounded-full bg-purple-800 text-yellow-200 hover:bg-purple-700 dark:bg-purple-800 dark:text-yellow-200 dark:hover:bg-purple-700 light:bg-indigo-100 light:text-indigo-600 light:hover:bg-indigo-200 transition-colors","aria-label":"Toggle theme",children:n==="dark"?"":""})}function Uce(){var re;const{user:t,logoutMutation:e}=$c(),{toast:n}=zr(),[r,s]=N.useState(""),[i,o]=N.useState(""),[a,l]=N.useState("non_categorizzato"),[c,u]=N.useState("neutro"),[d,p]=N.useState(!1),[f,y]=N.useState(""),[g,b]=N.useState(""),[v,w]=N.useState(""),[_,T]=N.useState(""),[C,R]=N.useState(!1),[E,A]=N.useState(""),{data:D=[],isLoading:H,refetch:L}=Uf({queryKey:["/api/sogni"],queryFn:async()=>(await Ln("GET","/api/sogni")).json(),enabled:!!t}),P=mo({mutationFn:async X=>X.id?(await Ln("PUT",`/api/sogni/${X.id}`,{category:X.categoria||"non_categorizzato",emotion:X.emozione||"neutro",isFavorite:X.preferito?1:0,soundtrack:X.soundtrack,soundMood:X.soundMood,emojiTranslation:X.emojiTranslation,dreamImageUrl:X.dreamImageUrl})).json():(await Ln("POST","/api/sogni",{content:X.testo,story:X.racconto,category:X.categoria||"non_categorizzato",emotion:X.emozione||"neutro",isFavorite:X.preferito?1:0,soundtrack:X.soundtrack,soundMood:X.soundMood,emojiTranslation:X.emojiTranslation,dreamImageUrl:X.dreamImageUrl})).json(),onSuccess:()=>{Ya.invalidateQueries({queryKey:["/api/sogni"]}),n({description:"Sogno salvato con successo"})},onError:X=>{n({variant:"destructive",description:`Errore nel salvataggio: ${X.message||"Si  verificato un errore"}`})}}),U=mo({mutationFn:async X=>{if(!X||isNaN(X)||X<=0)throw console.error("ID sogno non valido:",X),new Error("ID sogno non valido per l'eliminazione");try{const M=new AbortController,F=setTimeout(()=>M.abort(),1e4),K=await fetch(`/api/sogni/${X}`,{method:"DELETE",credentials:"include",signal:M.signal});if(clearTimeout(F),!K.ok){const ee=await K.text();throw new Error(`Errore dal server: ${K.status} ${ee}`)}return!0}catch(M){throw console.error("Errore durante l'eliminazione:",M),M}},onSuccess:()=>{Ya.invalidateQueries({queryKey:["/api/sogni"]}),n({description:"Sogno eliminato con successo"}),O()},onError:X=>{console.error("Errore nella mutation di eliminazione:",X),n({variant:"destructive",description:`Errore nell'eliminazione: ${X.message||"Si  verificato un errore"}`})}}),z=()=>{e.mutate()},Y=async()=>{if(!r.trim()){A("Per favore, racconta il tuo sogno prima di procedere.");return}R(!0),A("");try{let X="";try{const F=await(await Ln("POST","/api/genera-racconto",{sogno:r})).json();if(F.error)throw new Error(F.error);if(X=F.story||F.racconto||"",!X)throw new Error("La risposta del server non contiene una storia generata");o(X)}catch(M){console.error("Errore nella generazione della storia:",M),X=`Non sono riuscito a interpretare completamente il tuo sogno a causa di un errore tecnico. Ecco una breve riflessione: "${r}"  un'esperienza interessante che merita di essere esplorata ulteriormente.`,o(X),n({variant:"destructive",title:"Errore nella generazione della storia",description:" stato usato un testo alternativo. Riprova pi tardi."})}try{await P.mutateAsync({testo:r,racconto:X,categoria:a,emozione:c,preferito:d})}catch(M){throw console.error("Errore nel salvataggio del sogno:",M),n({variant:"destructive",title:"Errore nel salvataggio",description:"Impossibile salvare il sogno. Riprova pi tardi."}),M}try{const F=await(await Ln("POST","/api/genera-emoji",{sogno:r})).json();if(!F.error&&F.emojiTranslation){const K=F.emojiTranslation;w(K);const ee=await L(),oe=(Array.isArray(ee==null?void 0:ee.data)?ee.data:D).find(ae=>ae.content===r&&ae.story===X);oe&&oe.id&&await P.mutateAsync({id:oe.id,testo:r,racconto:X,categoria:a,emozione:c,preferito:d,emojiTranslation:K})}}catch(M){console.error("Errore nella generazione delle emoji:",M)}L()}catch(X){A(`Errore: ${X.message||"Problema nella generazione del racconto. Riprova pi tardi."}`),console.error(X)}finally{R(!1)}},O=()=>{s(""),o(""),l("non_categorizzato"),u("neutro"),p(!1),y(""),b(""),w(""),T(""),A("")},$=X=>{if(console.log("Caricamento sogno:",X),X.testo)s(X.testo),o(X.racconto),X.categoria&&l(X.categoria),X.emozione&&u(X.emozione),X.preferito!==void 0&&p(X.preferito),X.soundtrack&&y(X.soundtrack),X.soundMood&&b(X.soundMood),X.emojiTranslation&&w(X.emojiTranslation),X.dreamImageUrl&&T(X.dreamImageUrl);else if(X.content){if(s(X.content),o(X.story),X.category&&l(X.category),X.emotion&&u(X.emotion),X.isFavorite!==void 0){const M=typeof X.isFavorite=="number"?X.isFavorite>0:X.isFavorite;p(M)}X.soundtrack&&y(X.soundtrack),X.soundMood&&b(X.soundMood),X.emojiTranslation&&w(X.emojiTranslation),X.dreamImageUrl&&T(X.dreamImageUrl)}},B=async X=>{try{if(!X||isNaN(X)||X<=0){console.error("ID sogno non valido:",X),n({variant:"destructive",title:"Errore",description:"Impossibile eliminare il sogno, ID non valido."});return}if(confirm("Sei sicuro di voler eliminare questo sogno?"))try{const M=new AbortController,F=setTimeout(()=>M.abort(),1e4),K=D.find(se=>se.id===X);K&&(K.content===r&&K.story===i||K.testo===r&&K.racconto===i)&&O();const ee=await fetch(`/api/sogni/${X}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},signal:M.signal});clearTimeout(F),await L(),n({title:"Sogno eliminato",description:"Il sogno  stato eliminato con successo"})}catch(M){console.error("Errore durante l'eliminazione diretta:",M),n({variant:"warning",title:"Tentativo alternativo",description:"Sto tentando un altro metodo di eliminazione..."});try{await new Promise(F=>setTimeout(F,500)),await U.mutateAsync(X),await L()}catch(F){console.error("Anche il fallback  fallito:",F),n({variant:"destructive",title:"Errore di eliminazione",description:"Impossibile eliminare il sogno. Ricarica la pagina e riprova."})}}}catch(M){console.error("Errore generale nell'eliminazione del sogno:",M),n({variant:"destructive",title:"Errore",description:"Si  verificato un errore durante l'eliminazione del sogno."}),n({variant:"warning",title:"Consiglio",description:"Se il problema persiste, prova a ricaricare la pagina."})}finally{try{await L()}catch(M){console.error("Errore nel refresh finale:",M)}}},J=C||P.isPending||U.isPending;return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-indigo-900 to-purple-900 dark:from-indigo-900 dark:to-purple-900 light:from-blue-100 light:to-purple-100 p-4 md:p-6 transition-colors duration-500",children:[h.jsx(f7,{isVisible:J}),h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 md:mb-8",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(QB,{className:"h-6 w-6 md:h-8 md:w-8 mr-2 dark:text-yellow-200 light:text-indigo-600"}),h.jsx("h1",{className:"text-2xl md:text-3xl font-bold dark:text-white light:text-gray-800",children:"Narratore di Sogni"}),h.jsx("span",{className:"hidden sm:inline-block ml-2 px-2 py-1 rounded text-xs dark:bg-purple-700 dark:text-purple-200 light:bg-indigo-100 light:text-indigo-600",children:"Powered by Gemini"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[t&&h.jsxs("div",{className:"flex items-center mr-2",children:[h.jsxs("span",{className:"text-sm dark:text-purple-200 light:text-indigo-700",children:["Ciao, ",t.username]}),h.jsxs(it,{variant:"ghost",className:"ml-2 dark:text-purple-200 light:text-indigo-700",onClick:()=>window.location.href="/sfide",children:[h.jsx(s4,{className:"h-4 w-4 mr-1"}),h.jsx("span",{className:"hidden sm:inline",children:"Sfide"})]}),h.jsx(it,{variant:"ghost",size:"icon",className:"ml-2 text-red-500 hover:text-red-700",onClick:z,"aria-label":"Logout",children:h.jsx(Yj,{className:"h-4 w-4"})})]}),h.jsx(m7,{})]})]}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[h.jsxs("div",{className:"w-full md:w-1/2",children:[h.jsx(t$,{onSubmit:Y,onReset:O,loading:J,error:E,currentDream:r,setCurrentDream:s}),r.trim().length>0&&h.jsx("div",{className:"mt-4",children:h.jsx(Lce,{dreamContent:r,onStoryGenerated:(X,M)=>{o(X),(async()=>{try{await P.mutateAsync({testo:r,racconto:X,categoria:a,emozione:c,preferito:d});try{const ee=await(await Ln("POST","/api/genera-emoji",{sogno:r})).json();if(!ee.error&&ee.emojiTranslation){const se=ee.emojiTranslation;w(se);const oe=await L(),pe=(Array.isArray(oe==null?void 0:oe.data)?oe.data:D).find(_e=>_e.content===r&&_e.story===X);pe&&pe.id&&await P.mutateAsync({id:pe.id,testo:r,racconto:X,categoria:a,emozione:c,preferito:d,emojiTranslation:se})}}catch(K){console.error("Errore nella generazione delle emoji:",K)}}catch(K){console.error("Errore nel salvataggio del sogno:",K),n({variant:"destructive",title:"Errore",description:"Impossibile salvare il sogno. Riprova pi tardi."})}finally{L()}})()}})}),h.jsxs(Xg,{defaultValue:"list",className:"mt-4",children:[h.jsxs(Jf,{className:"w-full mb-2 dark:bg-gray-800/70 light:bg-gray-100",children:[h.jsxs(Ri,{value:"list",className:"flex-1 dark:data-[state=active]:bg-gray-700 light:data-[state=active]:bg-white",children:[h.jsx(ZB,{className:"h-4 w-4 mr-2"}),"Lista"]}),h.jsxs(Ri,{value:"timeline",className:"flex-1 dark:data-[state=active]:bg-gray-700 light:data-[state=active]:bg-white",children:[h.jsx($B,{className:"h-4 w-4 mr-2"}),"Timeline"]})]}),h.jsx(Mi,{value:"list",className:"mt-0",children:h.jsx(uG,{dreams:D,onDreamSelect:$,onDreamDelete:B})}),h.jsx(Mi,{value:"timeline",className:"mt-0",children:h.jsx(Xre,{dreams:D,onSelectDream:$})})]})]}),h.jsxs("div",{className:"w-full md:w-1/2",children:[h.jsx(jG,{story:i}),i&&h.jsxs(h.Fragment,{children:[h.jsx(aK,{category:a,emotion:c,isFavorite:d,onCategoryChange:X=>{l(X);const M=D.find(F=>F.content===r&&F.story===i||F.testo===r&&F.racconto===i);M&&M.id&&P.mutate({id:M.id,testo:r,racconto:i,categoria:X,emozione:c,preferito:d,soundtrack:f,soundMood:g})},onEmotionChange:X=>{u(X);const M=D.find(F=>F.content===r&&F.story===i||F.testo===r&&F.racconto===i);M&&M.id&&P.mutate({id:M.id,testo:r,racconto:i,categoria:a,emozione:X,preferito:d,soundtrack:f,soundMood:g})},onFavoriteChange:X=>{p(X);const M=D.find(F=>F.content===r&&F.story===i||F.testo===r&&F.racconto===i);M&&M.id&&P.mutate({id:M.id,testo:r,racconto:i,categoria:a,emozione:c,preferito:X,soundtrack:f,soundMood:g})}}),h.jsxs("div",{className:"mt-4",children:[h.jsx(ste,{dreamContent:r,dreamStory:i,category:a,emotion:c,soundtrack:f,soundMood:g,onSoundtrackChange:(X,M)=>{y(X),b(M);const F=D.find(K=>K.content===r&&K.story===i||K.testo===r&&K.racconto===i);F&&F.id&&P.mutate({id:F.id,testo:r,racconto:i,categoria:a,emozione:c,preferito:d,soundtrack:X,soundMood:M})}}),h.jsx("div",{className:"mt-4",children:h.jsx(Dle,{dreamContent:r,emojiTranslation:v,onEmojiTranslationChange:X=>{w(X);const M=D.find(F=>F.content===r&&F.story===i||F.testo===r&&F.racconto===i);M&&M.id&&P.mutate({id:M.id,testo:r,racconto:i,categoria:a,emozione:c,preferito:d,soundtrack:f,soundMood:g,emojiTranslation:X})}})}),h.jsx("div",{className:"mt-4",children:h.jsx(Zle,{dreamContent:r,dreamStory:i,dreamImageUrl:_,onImageUrlChange:X=>{T(X);const M=D.find(F=>F.content===r&&F.story===i||F.testo===r&&F.racconto===i);M&&M.id&&P.mutate({id:M.id,testo:r,racconto:i,categoria:a,emozione:c,preferito:d,soundtrack:f,soundMood:g,emojiTranslation:v,dreamImageUrl:X})}})}),h.jsx("div",{className:"mt-4",children:h.jsx(Xle,{dreamContent:r,dreamStory:i,emotion:c})}),h.jsx("div",{className:"mt-4",children:h.jsx(Zre,{dreamContent:r,dreamStory:i,emotion:c})}),h.jsx("div",{className:"mt-4",children:h.jsx(Qle,{dreamContent:r,dreamStory:i})}),h.jsx("div",{className:"mt-6",children:h.jsx(jce,{dreamContent:r})}),h.jsx(Ine,{dreamContent:r,dreamStory:i,category:a,emotion:c,dreamImageUrl:_}),h.jsx(qre,{currentDream:{id:((re=D.find(X=>X.content===r&&X.story===i||X.testo===r&&X.racconto===i))==null?void 0:re.id)||0,content:r,story:i,category:a,emotion:c,isFavorite:d,dreamImageUrl:_,emojiTranslation:v},allDreams:D})]})]})]})]}),h.jsxs("div",{className:"mt-8 text-center text-sm dark:text-purple-300 light:text-indigo-500",children:[h.jsx("p",{children:"Narratore di Sogni  2025 - Powered by Gemini AI"}),h.jsx("p",{className:"mt-1",children:"Trasforma i tuoi sogni in storie uniche con l'intelligenza artificiale"})]})]})]})}function Wce({onRegisterClick:t}){const[e,n]=N.useState(""),[r,s]=N.useState(""),{loginMutation:i}=$c(),{toast:o}=zr(),a=async l=>{if(l.preventDefault(),!e||!r){o({title:"Campi mancanti",description:"Per favore compila tutti i campi",variant:"destructive"});return}i.mutate({username:e,password:r})};return h.jsxs("form",{onSubmit:a,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"username",children:"Nome utente"}),h.jsx(ys,{id:"username",placeholder:"Il tuo nome utente",value:e,onChange:l=>n(l.target.value),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"password",children:"Password"}),h.jsx(ys,{id:"password",type:"password",placeholder:"La tua password",value:r,onChange:l=>s(l.target.value),required:!0})]}),h.jsx(it,{type:"submit",className:"w-full",disabled:i.isPending,children:i.isPending?h.jsxs("span",{className:"flex items-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Accesso in corso..."]}):"Accedi"}),h.jsx("div",{className:"text-center",children:h.jsxs("p",{className:"text-sm dark:text-gray-400",children:["Non hai un account?"," ",h.jsx("button",{type:"button",onClick:t,className:"text-primary hover:underline",children:"Registrati"})]})})]})}function $ce({onLoginClick:t}){const[e,n]=N.useState(""),[r,s]=N.useState(""),[i,o]=N.useState(""),{registerMutation:a}=$c(),{toast:l}=zr(),c=async u=>{if(u.preventDefault(),!e||!r||!i){l({title:"Campi mancanti",description:"Per favore compila tutti i campi",variant:"destructive"});return}if(r!==i){l({title:"Le password non corrispondono",description:"Assicurati che le password inserite siano identiche",variant:"destructive"});return}a.mutate({username:e,password:r})};return h.jsxs("form",{onSubmit:c,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"username",children:"Nome utente"}),h.jsx(ys,{id:"username",placeholder:"Scegli un nome utente",value:e,onChange:u=>n(u.target.value),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"password",children:"Password"}),h.jsx(ys,{id:"password",type:"password",placeholder:"Scegli una password",value:r,onChange:u=>s(u.target.value),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(jt,{htmlFor:"confirmPassword",children:"Conferma password"}),h.jsx(ys,{id:"confirmPassword",type:"password",placeholder:"Conferma la tua password",value:i,onChange:u=>o(u.target.value),required:!0})]}),h.jsx(it,{type:"submit",className:"w-full",disabled:a.isPending,children:a.isPending?h.jsxs("span",{className:"flex items-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registrazione in corso..."]}):"Registrati"}),h.jsx("div",{className:"text-center",children:h.jsxs("p",{className:"text-sm dark:text-gray-400",children:["Hai gi un account?"," ",h.jsx("button",{type:"button",onClick:t,className:"text-primary hover:underline",children:"Accedi"})]})})]})}function Hce(){const[t,e]=N.useState(!0),[,n]=hj(),{user:r,isLoading:s}=$c();return console.log("Auth Page - Auth state:",{user:r,isLoading:s}),N.useEffect(()=>{r&&!s&&(console.log("Utente autenticato, redirect a home"),n("/"))},[r,s,n]),s?h.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[h.jsx(da,{className:"h-8 w-8 animate-spin text-primary"}),h.jsx("span",{className:"ml-2 text-lg",children:"Caricamento autenticazione..."})]}):h.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[h.jsx("div",{className:"w-full md:w-1/2 flex items-center justify-center p-8",children:h.jsxs("div",{className:"w-full max-w-md space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl font-bold dark:text-white",children:"Narratore di Sogni"}),h.jsx("p",{className:"mt-2 text-lg dark:text-gray-300",children:t?"Accedi al tuo account":"Crea un nuovo account"})]}),t?h.jsx(Wce,{onRegisterClick:()=>e(!1)}):h.jsx($ce,{onLoginClick:()=>e(!0)})]})}),h.jsx("div",{className:"w-full md:w-1/2 bg-gradient-to-br from-purple-600 to-indigo-700 p-8 flex items-center justify-center",children:h.jsxs("div",{className:"max-w-md text-white",children:[h.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Trasforma i tuoi sogni in storie"}),h.jsx("p",{className:"text-lg mb-6",children:"Benvenuto su Narratore di Sogni, dove la tua esperienza onirica diventa una storia coinvolgente grazie all'intelligenza artificiale."}),h.jsxs("ul",{className:"space-y-2",children:[h.jsxs("li",{className:"flex items-center",children:[h.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Genera narrazioni dai tuoi sogni"]}),h.jsxs("li",{className:"flex items-center",children:[h.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Categorizza e organizza le tue esperienze"]}),h.jsxs("li",{className:"flex items-center",children:[h.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Generi brani musicali personalizzati"]}),h.jsxs("li",{className:"flex items-center",children:[h.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Condividi le tue storie con gli amici"]})]})]})})]})}var a0=t=>t.type==="checkbox",Pu=t=>t instanceof Date,gs=t=>t==null;const g7=t=>typeof t=="object";var sr=t=>!gs(t)&&!Array.isArray(t)&&g7(t)&&!Pu(t),v7=t=>sr(t)&&t.target?a0(t.target)?t.target.checked:t.target.value:t,Gce=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,y7=(t,e)=>t.has(Gce(e)),Yce=t=>{const e=t.constructor&&t.constructor.prototype;return sr(e)&&e.hasOwnProperty("isPrototypeOf")},gN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dr(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(gN&&(t instanceof Blob||r))&&(n||sr(t)))if(e=n?[]:{},!n&&!Yce(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Dr(t[s]));else return t;return e}var ww=t=>Array.isArray(t)?t.filter(Boolean):[],Qn=t=>t===void 0,He=(t,e,n)=>{if(!e||!sr(t))return n;const r=ww(e.split(/[,[\].]+?/)).reduce((s,i)=>gs(s)?s:s[i],t);return Qn(r)||r===t?Qn(t[e])?n:t[e]:r},Qs=t=>typeof t=="boolean",vN=t=>/^\w*$/.test(t),w7=t=>ww(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Zt=(t,e,n)=>{let r=-1;const s=vN(e)?[e]:w7(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=sr(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const jy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},lo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},x7=dt.createContext(null),xw=()=>dt.useContext(x7),Kce=t=>{const{children:e,...n}=t;return dt.createElement(x7.Provider,{value:n},e)};var b7=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==lo.all&&(e._proxyFormState[o]=!r||lo.all),n&&(n[o]=!0),t[o]}});return s};function Zce(t){const e=xw(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=dt.useState(n._formState),l=dt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=dt.useRef(s);return c.current=s,dt.useEffect(()=>n._subscribe({name:c.current,formState:l.current,exact:i,callback:u=>{!r&&a({...n._formState,...u})}}),[n,r,i]),dt.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),dt.useMemo(()=>b7(o,n,l.current,!1),[o,n])}var ea=t=>typeof t=="string",_7=(t,e,n,r,s)=>ea(t)?(r&&e.watch.add(t),He(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),He(n,i))):(r&&(e.watchAll=!0),n);function Xce(t){const e=xw(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=dt.useRef(r),l=dt.useRef(s);a.current=r,dt.useEffect(()=>n._subscribe({name:a.current,formState:{values:!0},exact:o,callback:d=>!i&&u(_7(a.current,n._names,d.values||n._formValues,!1,l.current))}),[n,i,o]);const[c,u]=dt.useState(n._getWatch(r,s));return dt.useEffect(()=>n._removeUnmounted()),c}function Qce(t){const e=xw(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=y7(s._names.array,n),a=Xce({control:s,name:n,defaultValue:He(s._formValues,n,He(s._defaultValues,n,t.defaultValue)),exact:!0}),l=Zce({control:s,name:n,exact:!0}),c=dt.useRef(t),u=dt.useRef(s.register(n,{...t.rules,value:a,...Qs(t.disabled)?{disabled:t.disabled}:{}})),d=dt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!He(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!He(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!He(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!He(l.validatingFields,n)},error:{enumerable:!0,get:()=>He(l.errors,n)}}),[l,n]),p=dt.useCallback(b=>u.current.onChange({target:{value:v7(b),name:n},type:jy.CHANGE}),[n]),f=dt.useCallback(()=>u.current.onBlur({target:{value:He(s._formValues,n),name:n},type:jy.BLUR}),[n,s._formValues]),y=dt.useCallback(b=>{const v=He(s._fields,n);v&&b&&(v._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:w=>b.setCustomValidity(w),reportValidity:()=>b.reportValidity()})},[s._fields,n]),g=dt.useMemo(()=>({name:n,value:a,...Qs(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:p,onBlur:f,ref:y}),[n,r,l.disabled,p,f,y,a]);return dt.useEffect(()=>{const b=s._options.shouldUnregister||i;s.register(n,{...c.current.rules,...Qs(c.current.disabled)?{disabled:c.current.disabled}:{}});const v=(w,_)=>{const T=He(s._fields,w);T&&T._f&&(T._f.mount=_)};if(v(n,!0),b){const w=Dr(He(s._options.defaultValues,n));Zt(s._defaultValues,n,w),Qn(He(s._formValues,n))&&Zt(s._formValues,n,w)}return!o&&s.register(n),()=>{(o?b&&!s._state.action:b)?s.unregister(n):v(n,!1)}},[n,s,o,i]),dt.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),dt.useMemo(()=>({field:g,formState:l,fieldState:d}),[g,l,d])}const Jce=t=>t.render(Qce(t));var S7=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},wm=t=>Array.isArray(t)?t:[t],gP=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Z_=t=>gs(t)||!g7(t);function Xl(t,e){if(Z_(t)||Z_(e))return t===e;if(Pu(t)&&Pu(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Pu(i)&&Pu(o)||sr(i)&&sr(o)||Array.isArray(i)&&Array.isArray(o)?!Xl(i,o):i!==o)return!1}}return!0}var fs=t=>sr(t)&&!Object.keys(t).length,yN=t=>t.type==="file",co=t=>typeof t=="function",Ly=t=>{if(!gN)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},N7=t=>t.type==="select-multiple",wN=t=>t.type==="radio",eue=t=>wN(t)||a0(t),P5=t=>Ly(t)&&t.isConnected;function tue(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Qn(t)?r++:t[e[r++]];return t}function nue(t){for(const e in t)if(t.hasOwnProperty(e)&&!Qn(t[e]))return!1;return!0}function gr(t,e){const n=Array.isArray(e)?e:vN(e)?[e]:w7(e),r=n.length===1?t:tue(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(sr(r)&&fs(r)||Array.isArray(r)&&nue(r))&&gr(t,n.slice(0,-1)),t}var k7=t=>{for(const e in t)if(co(t[e]))return!0;return!1};function Ry(t,e={}){const n=Array.isArray(t);if(sr(t)||n)for(const r in t)Array.isArray(t[r])||sr(t[r])&&!k7(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Ry(t[r],e[r])):gs(t[r])||(e[r]=!0);return e}function C7(t,e,n){const r=Array.isArray(t);if(sr(t)||r)for(const s in t)Array.isArray(t[s])||sr(t[s])&&!k7(t[s])?Qn(e)||Z_(n[s])?n[s]=Array.isArray(t[s])?Ry(t[s],[]):{...Ry(t[s])}:C7(t[s],gs(e)?{}:e[s],n[s]):n[s]=!Xl(t[s],e[s]);return n}var Gp=(t,e)=>C7(t,e,Ry(e));const vP={value:!1,isValid:!1},yP={value:!0,isValid:!0};var A7=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Qn(t[0].attributes.value)?Qn(t[0].value)||t[0].value===""?yP:{value:t[0].value,isValid:!0}:yP:vP}return vP},T7=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Qn(t)?t:e?t===""?NaN:t&&+t:n&&ea(t)?new Date(t):r?r(t):t;const wP={isValid:!1,value:null};var P7=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,wP):wP;function xP(t){const e=t.ref;return yN(e)?e.files:wN(e)?P7(t.refs).value:N7(e)?[...e.selectedOptions].map(({value:n})=>n):a0(e)?A7(t.refs).value:T7(Qn(e.value)?t.ref.value:e.value,t)}var rue=(t,e,n,r)=>{const s={};for(const i of t){const o=He(e,i);o&&Zt(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},My=t=>t instanceof RegExp,Yp=t=>Qn(t)?t:My(t)?t.source:sr(t)?My(t.value)?t.value.source:t.value:t,bP=t=>({isOnSubmit:!t||t===lo.onSubmit,isOnBlur:t===lo.onBlur,isOnChange:t===lo.onChange,isOnAll:t===lo.all,isOnTouch:t===lo.onTouched});const _P="AsyncFunction";var sue=t=>!!t&&!!t.validate&&!!(co(t.validate)&&t.validate.constructor.name===_P||sr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===_P)),iue=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),SP=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const xm=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=He(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(xm(a,e))break}else if(sr(a)&&xm(a,e))break}}};function NP(t,e,n){const r=He(t,n);if(r||vN(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=He(e,i),a=He(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var oue=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return fs(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||lo.all))},aue=(t,e,n)=>!t||!e||t===e||wm(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),lue=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,cue=(t,e)=>!ww(He(t,e)).length&&gr(t,e),uue=(t,e,n)=>{const r=wm(He(t,n));return Zt(r,"root",e[n]),Zt(t,n,r),t},mv=t=>ea(t);function kP(t,e,n="validate"){if(mv(t)||Array.isArray(t)&&t.every(mv)||Qs(t)&&!t)return{type:n,message:mv(t)?t:"",ref:e}}var oh=t=>sr(t)&&!My(t)?t:{value:t,message:""},CP=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:d,max:p,pattern:f,validate:y,name:g,valueAsNumber:b,mount:v}=t._f,w=He(n,g);if(!v||e.has(g))return{};const _=a?a[0]:o,T=P=>{s&&_.reportValidity&&(_.setCustomValidity(Qs(P)?"":P||""),_.reportValidity())},C={},R=wN(o),E=a0(o),A=R||E,D=(b||yN(o))&&Qn(o.value)&&Qn(w)||Ly(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,H=S7.bind(null,g,r,C),L=(P,U,z,Y=Fa.maxLength,O=Fa.minLength)=>{const $=P?U:z;C[g]={type:P?Y:O,message:$,ref:o,...H(P?Y:O,$)}};if(i?!Array.isArray(w)||!w.length:l&&(!A&&(D||gs(w))||Qs(w)&&!w||E&&!A7(a).isValid||R&&!P7(a).isValid)){const{value:P,message:U}=mv(l)?{value:!!l,message:l}:oh(l);if(P&&(C[g]={type:Fa.required,message:U,ref:_,...H(Fa.required,U)},!r))return T(U),C}if(!D&&(!gs(d)||!gs(p))){let P,U;const z=oh(p),Y=oh(d);if(!gs(w)&&!isNaN(w)){const O=o.valueAsNumber||w&&+w;gs(z.value)||(P=O>z.value),gs(Y.value)||(U=O<Y.value)}else{const O=o.valueAsDate||new Date(w),$=re=>new Date(new Date().toDateString()+" "+re),B=o.type=="time",J=o.type=="week";ea(z.value)&&w&&(P=B?$(w)>$(z.value):J?w>z.value:O>new Date(z.value)),ea(Y.value)&&w&&(U=B?$(w)<$(Y.value):J?w<Y.value:O<new Date(Y.value))}if((P||U)&&(L(!!P,z.message,Y.message,Fa.max,Fa.min),!r))return T(C[g].message),C}if((c||u)&&!D&&(ea(w)||i&&Array.isArray(w))){const P=oh(c),U=oh(u),z=!gs(P.value)&&w.length>+P.value,Y=!gs(U.value)&&w.length<+U.value;if((z||Y)&&(L(z,P.message,U.message),!r))return T(C[g].message),C}if(f&&!D&&ea(w)){const{value:P,message:U}=oh(f);if(My(P)&&!w.match(P)&&(C[g]={type:Fa.pattern,message:U,ref:o,...H(Fa.pattern,U)},!r))return T(U),C}if(y){if(co(y)){const P=await y(w,n),U=kP(P,_);if(U&&(C[g]={...U,...H(Fa.validate,U.message)},!r))return T(U.message),C}else if(sr(y)){let P={};for(const U in y){if(!fs(P)&&!r)break;const z=kP(await y[U](w,n),_,U);z&&(P={...z,...H(U,z.message)},T(z.message),r&&(C[g]=P))}if(!fs(P)&&(C[g]={ref:_,...P},!r))return C}}return T(!0),C};const due={mode:lo.onSubmit,reValidateMode:lo.onChange,shouldFocusError:!0};function hue(t={}){let e={...due,...t},n={submitCount:0,isDirty:!1,isLoading:co(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=sr(e.defaultValues)||sr(e.values)?Dr(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:Dr(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const p={array:gP(),state:gP()},f=bP(e.mode),y=bP(e.reValidateMode),g=e.criteriaMode===lo.all,b=te=>le=>{clearTimeout(c),c=setTimeout(te,le)},v=async te=>{if(!e.disabled&&(u.isValid||d.isValid||te)){const le=e.resolver?fs((await D()).errors):await L(r,!0);le!==n.isValid&&p.state.next({isValid:le})}},w=(te,le)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((te||Array.from(a.mount)).forEach(ve=>{ve&&(le?Zt(n.validatingFields,ve,le):gr(n.validatingFields,ve))}),p.state.next({validatingFields:n.validatingFields,isValidating:!fs(n.validatingFields)}))},_=(te,le=[],ve,Pe,Te=!0,Ae=!0)=>{if(Pe&&ve&&!e.disabled){if(o.action=!0,Ae&&Array.isArray(He(r,te))){const Ie=ve(He(r,te),Pe.argA,Pe.argB);Te&&Zt(r,te,Ie)}if(Ae&&Array.isArray(He(n.errors,te))){const Ie=ve(He(n.errors,te),Pe.argA,Pe.argB);Te&&Zt(n.errors,te,Ie),cue(n.errors,te)}if((u.touchedFields||d.touchedFields)&&Ae&&Array.isArray(He(n.touchedFields,te))){const Ie=ve(He(n.touchedFields,te),Pe.argA,Pe.argB);Te&&Zt(n.touchedFields,te,Ie)}(u.dirtyFields||d.dirtyFields)&&(n.dirtyFields=Gp(s,i)),p.state.next({name:te,isDirty:U(te,le),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Zt(i,te,le)},T=(te,le)=>{Zt(n.errors,te,le),p.state.next({errors:n.errors})},C=te=>{n.errors=te,p.state.next({errors:n.errors,isValid:!1})},R=(te,le,ve,Pe)=>{const Te=He(r,te);if(Te){const Ae=He(i,te,Qn(ve)?He(s,te):ve);Qn(Ae)||Pe&&Pe.defaultChecked||le?Zt(i,te,le?Ae:xP(Te._f)):O(te,Ae),o.mount&&v()}},E=(te,le,ve,Pe,Te)=>{let Ae=!1,Ie=!1;const Ue={name:te};if(!e.disabled){if(!ve||Pe){(u.isDirty||d.isDirty)&&(Ie=n.isDirty,n.isDirty=Ue.isDirty=U(),Ae=Ie!==Ue.isDirty);const st=Xl(He(s,te),le);Ie=!!He(n.dirtyFields,te),st?gr(n.dirtyFields,te):Zt(n.dirtyFields,te,!0),Ue.dirtyFields=n.dirtyFields,Ae=Ae||(u.dirtyFields||d.dirtyFields)&&Ie!==!st}if(ve){const st=He(n.touchedFields,te);st||(Zt(n.touchedFields,te,ve),Ue.touchedFields=n.touchedFields,Ae=Ae||(u.touchedFields||d.touchedFields)&&st!==ve)}Ae&&Te&&p.state.next(Ue)}return Ae?Ue:{}},A=(te,le,ve,Pe)=>{const Te=He(n.errors,te),Ae=(u.isValid||d.isValid)&&Qs(le)&&n.isValid!==le;if(e.delayError&&ve?(l=b(()=>T(te,ve)),l(e.delayError)):(clearTimeout(c),l=null,ve?Zt(n.errors,te,ve):gr(n.errors,te)),(ve?!Xl(Te,ve):Te)||!fs(Pe)||Ae){const Ie={...Pe,...Ae&&Qs(le)?{isValid:le}:{},errors:n.errors,name:te};n={...n,...Ie},p.state.next(Ie)}},D=async te=>{w(te,!0);const le=await e.resolver(i,e.context,rue(te||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(te),le},H=async te=>{const{errors:le}=await D(te);if(te)for(const ve of te){const Pe=He(le,ve);Pe?Zt(n.errors,ve,Pe):gr(n.errors,ve)}else n.errors=le;return le},L=async(te,le,ve={valid:!0})=>{for(const Pe in te){const Te=te[Pe];if(Te){const{_f:Ae,...Ie}=Te;if(Ae){const Ue=a.array.has(Ae.name),st=Te._f&&sue(Te._f);st&&u.validatingFields&&w([Pe],!0);const De=await CP(Te,a.disabled,i,g,e.shouldUseNativeValidation&&!le,Ue);if(st&&u.validatingFields&&w([Pe]),De[Ae.name]&&(ve.valid=!1,le))break;!le&&(He(De,Ae.name)?Ue?uue(n.errors,De,Ae.name):Zt(n.errors,Ae.name,De[Ae.name]):gr(n.errors,Ae.name))}!fs(Ie)&&await L(Ie,le,ve)}}return ve.valid},P=()=>{for(const te of a.unMount){const le=He(r,te);le&&(le._f.refs?le._f.refs.every(ve=>!P5(ve)):!P5(le._f.ref))&&pe(te)}a.unMount=new Set},U=(te,le)=>!e.disabled&&(te&&le&&Zt(i,te,le),!Xl(M(),s)),z=(te,le,ve)=>_7(te,a,{...o.mount?i:Qn(le)?s:ea(te)?{[te]:le}:le},ve,le),Y=te=>ww(He(o.mount?i:s,te,e.shouldUnregister?He(s,te,[]):[])),O=(te,le,ve={})=>{const Pe=He(r,te);let Te=le;if(Pe){const Ae=Pe._f;Ae&&(!Ae.disabled&&Zt(i,te,T7(le,Ae)),Te=Ly(Ae.ref)&&gs(le)?"":le,N7(Ae.ref)?[...Ae.ref.options].forEach(Ie=>Ie.selected=Te.includes(Ie.value)):Ae.refs?a0(Ae.ref)?Ae.refs.length>1?Ae.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(Te)?!!Te.find(Ue=>Ue===Ie.value):Te===Ie.value)):Ae.refs[0]&&(Ae.refs[0].checked=!!Te):Ae.refs.forEach(Ie=>Ie.checked=Ie.value===Te):yN(Ae.ref)?Ae.ref.value="":(Ae.ref.value=Te,Ae.ref.type||p.state.next({name:te,values:Dr(i)})))}(ve.shouldDirty||ve.shouldTouch)&&E(te,Te,ve.shouldTouch,ve.shouldDirty,!0),ve.shouldValidate&&X(te)},$=(te,le,ve)=>{for(const Pe in le){const Te=le[Pe],Ae=`${te}.${Pe}`,Ie=He(r,Ae);(a.array.has(te)||sr(Te)||Ie&&!Ie._f)&&!Pu(Te)?$(Ae,Te,ve):O(Ae,Te,ve)}},B=(te,le,ve={})=>{const Pe=He(r,te),Te=a.array.has(te),Ae=Dr(le);Zt(i,te,Ae),Te?(p.array.next({name:te,values:Dr(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&ve.shouldDirty&&p.state.next({name:te,dirtyFields:Gp(s,i),isDirty:U(te,Ae)})):Pe&&!Pe._f&&!gs(Ae)?$(te,Ae,ve):O(te,Ae,ve),SP(te,a)&&p.state.next({...n}),p.state.next({name:o.mount?te:void 0,values:Dr(i)})},J=async te=>{o.mount=!0;const le=te.target;let ve=le.name,Pe=!0;const Te=He(r,ve),Ae=Ie=>{Pe=Number.isNaN(Ie)||Pu(Ie)&&isNaN(Ie.getTime())||Xl(Ie,He(i,ve,Ie))};if(Te){let Ie,Ue;const st=le.type?xP(Te._f):v7(te),De=te.type===jy.BLUR||te.type===jy.FOCUS_OUT,mn=!iue(Te._f)&&!e.resolver&&!He(n.errors,ve)&&!Te._f.deps||lue(De,He(n.touchedFields,ve),n.isSubmitted,y,f),Mt=SP(ve,a,De);Zt(i,ve,st),De?(Te._f.onBlur&&Te._f.onBlur(te),l&&l(0)):Te._f.onChange&&Te._f.onChange(te);const as=E(ve,st,De),Qt=!fs(as)||Mt;if(!De&&p.state.next({name:ve,type:te.type,values:Dr(i)}),mn)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?De&&v():De||v()),Qt&&p.state.next({name:ve,...Mt?{}:as});if(!De&&Mt&&p.state.next({...n}),e.resolver){const{errors:dn}=await D([ve]);if(Ae(st),Pe){const hi=NP(n.errors,r,ve),qt=NP(dn,r,hi.name||ve);Ie=qt.error,ve=qt.name,Ue=fs(dn)}}else w([ve],!0),Ie=(await CP(Te,a.disabled,i,g,e.shouldUseNativeValidation))[ve],w([ve]),Ae(st),Pe&&(Ie?Ue=!1:(u.isValid||d.isValid)&&(Ue=await L(r,!0)));Pe&&(Te._f.deps&&X(Te._f.deps),A(ve,Ue,Ie,as))}},re=(te,le)=>{if(He(n.errors,le)&&te.focus)return te.focus(),1},X=async(te,le={})=>{let ve,Pe;const Te=wm(te);if(e.resolver){const Ae=await H(Qn(te)?te:Te);ve=fs(Ae),Pe=te?!Te.some(Ie=>He(Ae,Ie)):ve}else te?(Pe=(await Promise.all(Te.map(async Ae=>{const Ie=He(r,Ae);return await L(Ie&&Ie._f?{[Ae]:Ie}:Ie)}))).every(Boolean),!(!Pe&&!n.isValid)&&v()):Pe=ve=await L(r);return p.state.next({...!ea(te)||(u.isValid||d.isValid)&&ve!==n.isValid?{}:{name:te},...e.resolver||!te?{isValid:ve}:{},errors:n.errors}),le.shouldFocus&&!Pe&&xm(r,re,te?Te:a.mount),Pe},M=te=>{const le={...o.mount?i:s};return Qn(te)?le:ea(te)?He(le,te):te.map(ve=>He(le,ve))},F=(te,le)=>({invalid:!!He((le||n).errors,te),isDirty:!!He((le||n).dirtyFields,te),error:He((le||n).errors,te),isValidating:!!He(n.validatingFields,te),isTouched:!!He((le||n).touchedFields,te)}),K=te=>{te&&wm(te).forEach(le=>gr(n.errors,le)),p.state.next({errors:te?n.errors:{}})},ee=(te,le,ve)=>{const Pe=(He(r,te,{_f:{}})._f||{}).ref,Te=He(n.errors,te)||{},{ref:Ae,message:Ie,type:Ue,...st}=Te;Zt(n.errors,te,{...st,...le,ref:Pe}),p.state.next({name:te,errors:n.errors,isValid:!1}),ve&&ve.shouldFocus&&Pe&&Pe.focus&&Pe.focus()},se=(te,le)=>co(te)?p.state.subscribe({next:ve=>te(z(void 0,le),ve)}):z(te,le,!0),oe=te=>p.state.subscribe({next:le=>{aue(te.name,le.name,te.exact)&&oue(le,te.formState||u,Se,te.reRenderRoot)&&te.callback({values:{...i},...n,...le})}}).unsubscribe,ae=te=>(o.mount=!0,d={...d,...te.formState},oe({...te,formState:d})),pe=(te,le={})=>{for(const ve of te?wm(te):a.mount)a.mount.delete(ve),a.array.delete(ve),le.keepValue||(gr(r,ve),gr(i,ve)),!le.keepError&&gr(n.errors,ve),!le.keepDirty&&gr(n.dirtyFields,ve),!le.keepTouched&&gr(n.touchedFields,ve),!le.keepIsValidating&&gr(n.validatingFields,ve),!e.shouldUnregister&&!le.keepDefaultValue&&gr(s,ve);p.state.next({values:Dr(i)}),p.state.next({...n,...le.keepDirty?{isDirty:U()}:{}}),!le.keepIsValid&&v()},_e=({disabled:te,name:le})=>{(Qs(te)&&o.mount||te||a.disabled.has(le))&&(te?a.disabled.add(le):a.disabled.delete(le))},be=(te,le={})=>{let ve=He(r,te);const Pe=Qs(le.disabled)||Qs(e.disabled);return Zt(r,te,{...ve||{},_f:{...ve&&ve._f?ve._f:{ref:{name:te}},name:te,mount:!0,...le}}),a.mount.add(te),ve?_e({disabled:Qs(le.disabled)?le.disabled:e.disabled,name:te}):R(te,!0,le.value),{...Pe?{disabled:le.disabled||e.disabled}:{},...e.progressive?{required:!!le.required,min:Yp(le.min),max:Yp(le.max),minLength:Yp(le.minLength),maxLength:Yp(le.maxLength),pattern:Yp(le.pattern)}:{},name:te,onChange:J,onBlur:J,ref:Te=>{if(Te){be(te,le),ve=He(r,te);const Ae=Qn(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,Ie=eue(Ae),Ue=ve._f.refs||[];if(Ie?Ue.find(st=>st===Ae):Ae===ve._f.ref)return;Zt(r,te,{_f:{...ve._f,...Ie?{refs:[...Ue.filter(P5),Ae,...Array.isArray(He(s,te))?[{}]:[]],ref:{type:Ae.type,name:te}}:{ref:Ae}}}),R(te,!1,void 0,Ae)}else ve=He(r,te,{}),ve._f&&(ve._f.mount=!1),(e.shouldUnregister||le.shouldUnregister)&&!(y7(a.array,te)&&o.action)&&a.unMount.add(te)}}},Ce=()=>e.shouldFocusError&&xm(r,re,a.mount),Fe=te=>{Qs(te)&&(p.state.next({disabled:te}),xm(r,(le,ve)=>{const Pe=He(r,ve);Pe&&(le.disabled=Pe._f.disabled||te,Array.isArray(Pe._f.refs)&&Pe._f.refs.forEach(Te=>{Te.disabled=Pe._f.disabled||te}))},0,!1))},et=(te,le)=>async ve=>{let Pe;ve&&(ve.preventDefault&&ve.preventDefault(),ve.persist&&ve.persist());let Te=Dr(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Ae,values:Ie}=await D();n.errors=Ae,Te=Ie}else await L(r);if(a.disabled.size)for(const Ae of a.disabled)Zt(Te,Ae,void 0);if(gr(n.errors,"root"),fs(n.errors)){p.state.next({errors:{}});try{await te(Te,ve)}catch(Ae){Pe=Ae}}else le&&await le({...n.errors},ve),Ce(),setTimeout(Ce);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fs(n.errors)&&!Pe,submitCount:n.submitCount+1,errors:n.errors}),Pe)throw Pe},de=(te,le={})=>{He(r,te)&&(Qn(le.defaultValue)?B(te,Dr(He(s,te))):(B(te,le.defaultValue),Zt(s,te,Dr(le.defaultValue))),le.keepTouched||gr(n.touchedFields,te),le.keepDirty||(gr(n.dirtyFields,te),n.isDirty=le.defaultValue?U(te,Dr(He(s,te))):U()),le.keepError||(gr(n.errors,te),u.isValid&&v()),p.state.next({...n}))},Q=(te,le={})=>{const ve=te?Dr(te):s,Pe=Dr(ve),Te=fs(te),Ae=Te?s:Pe;if(le.keepDefaultValues||(s=ve),!le.keepValues){if(le.keepDirtyValues){const Ie=new Set([...a.mount,...Object.keys(Gp(s,i))]);for(const Ue of Array.from(Ie))He(n.dirtyFields,Ue)?Zt(Ae,Ue,He(i,Ue)):B(Ue,He(Ae,Ue))}else{if(gN&&Qn(te))for(const Ie of a.mount){const Ue=He(r,Ie);if(Ue&&Ue._f){const st=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(Ly(st)){const De=st.closest("form");if(De){De.reset();break}}}}for(const Ie of a.mount)B(Ie,He(Ae,Ie))}i=Dr(Ae),p.array.next({values:{...Ae}}),p.state.next({values:{...Ae}})}a={mount:le.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!le.keepIsValid||!!le.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:le.keepSubmitCount?n.submitCount:0,isDirty:Te?!1:le.keepDirty?n.isDirty:!!(le.keepDefaultValues&&!Xl(te,s)),isSubmitted:le.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Te?{}:le.keepDirtyValues?le.keepDefaultValues&&i?Gp(s,i):n.dirtyFields:le.keepDefaultValues&&te?Gp(s,te):le.keepDirty?n.dirtyFields:{},touchedFields:le.keepTouched?n.touchedFields:{},errors:le.keepErrors?n.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(te,le)=>Q(co(te)?te(i):te,le),qe=(te,le={})=>{const ve=He(r,te),Pe=ve&&ve._f;if(Pe){const Te=Pe.refs?Pe.refs[0]:Pe.ref;Te.focus&&(Te.focus(),le.shouldSelect&&co(Te.select)&&Te.select())}},Se=te=>{n={...n,...te}},Be={control:{register:be,unregister:pe,getFieldState:F,handleSubmit:et,setError:ee,_subscribe:oe,_runSchema:D,_getWatch:z,_getDirty:U,_setValid:v,_setFieldArray:_,_setDisabledField:_e,_setErrors:C,_getFieldArray:Y,_reset:Q,_resetDefaultValues:()=>co(e.defaultValues)&&e.defaultValues().then(te=>{Ge(te,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Fe,_subjects:p,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(te){o=te},get _defaultValues(){return s},get _names(){return a},set _names(te){a=te},get _formState(){return n},get _options(){return e},set _options(te){e={...e,...te}}},subscribe:ae,trigger:X,register:be,handleSubmit:et,watch:se,setValue:B,getValues:M,reset:Ge,resetField:de,clearErrors:K,unregister:pe,setError:ee,setFocus:qe,getFieldState:F};return{...Be,formControl:Be}}function fue(t={}){const e=dt.useRef(void 0),n=dt.useRef(void 0),[r,s]=dt.useState({isDirty:!1,isValidating:!1,isLoading:co(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:co(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:hue(t),formState:r},t.formControl&&t.defaultValues&&!co(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,dt.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),dt.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),dt.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),dt.useEffect(()=>{t.values&&!Xl(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),dt.useEffect(()=>{t.errors&&!fs(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),dt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),dt.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=b7(r,i),e.current}const pue=Kce,E7=N.createContext({}),pu=({...t})=>h.jsx(E7.Provider,{value:{name:t.name},children:h.jsx(Jce,{...t})}),bw=()=>{const t=N.useContext(E7),e=N.useContext(j7),{getFieldState:n,formState:r}=xw(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},j7=N.createContext({}),ql=N.forwardRef(({className:t,...e},n)=>{const r=N.useId();return h.jsx(j7.Provider,{value:{id:r},children:h.jsx("div",{ref:n,className:rt("space-y-2",t),...e})})});ql.displayName="FormItem";const Ul=N.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=bw();return h.jsx(jt,{ref:n,className:rt(r&&"text-destructive",t),htmlFor:s,...e})});Ul.displayName="FormLabel";const Wl=N.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=bw();return h.jsx(gj,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});Wl.displayName="FormControl";const mue=N.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=bw();return h.jsx("p",{ref:n,id:r,className:rt("text-sm text-muted-foreground",t),...e})});mue.displayName="FormDescription";const $l=N.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=bw(),o=s?String((s==null?void 0:s.message)??""):e;return o?h.jsx("p",{ref:r,id:i,className:rt("text-sm font-medium text-destructive",t),...n,children:o}):null});$l.displayName="FormMessage";var zt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(zt||(zt={}));var X_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(X_||(X_={}));const Je=zt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wa=t=>{switch(typeof t){case"undefined":return Je.undefined;case"string":return Je.string;case"number":return isNaN(t)?Je.nan:Je.number;case"boolean":return Je.boolean;case"function":return Je.function;case"bigint":return Je.bigint;case"symbol":return Je.symbol;case"object":return Array.isArray(t)?Je.array:t===null?Je.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Je.promise:typeof Map<"u"&&t instanceof Map?Je.map:typeof Set<"u"&&t instanceof Set?Je.set:typeof Date<"u"&&t instanceof Date?Je.date:Je.object;default:return Je.unknown}},Ve=zt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),gue=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ai extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof ai))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,zt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ai.create=t=>new ai(t);const Lf=(t,e)=>{let n;switch(t.code){case Ve.invalid_type:t.received===Je.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ve.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,zt.jsonStringifyReplacer)}`;break;case Ve.unrecognized_keys:n=`Unrecognized key(s) in object: ${zt.joinValues(t.keys,", ")}`;break;case Ve.invalid_union:n="Invalid input";break;case Ve.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${zt.joinValues(t.options)}`;break;case Ve.invalid_enum_value:n=`Invalid enum value. Expected ${zt.joinValues(t.options)}, received '${t.received}'`;break;case Ve.invalid_arguments:n="Invalid function arguments";break;case Ve.invalid_return_type:n="Invalid function return type";break;case Ve.invalid_date:n="Invalid date";break;case Ve.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:zt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ve.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ve.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ve.custom:n="Invalid input";break;case Ve.invalid_intersection_types:n="Intersection results could not be merged";break;case Ve.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ve.not_finite:n="Number must be finite";break;default:n=e.defaultError,zt.assertNever(t)}return{message:n}};let L7=Lf;function vue(t){L7=t}function Dy(){return L7}const Oy=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},yue=[];function Ye(t,e){const n=Dy(),r=Oy({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Lf?void 0:Lf].filter(s=>!!s)});t.common.issues.push(r)}class is{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return bt;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return is.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return bt;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const bt=Object.freeze({status:"aborted"}),jh=t=>({status:"dirty",value:t}),Ns=t=>({status:"valid",value:t}),Q_=t=>t.status==="aborted",J_=t=>t.status==="dirty",ld=t=>t.status==="valid",rg=t=>typeof Promise<"u"&&t instanceof Promise;function Iy(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function R7(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var at;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(at||(at={}));var rm,sm;class va{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const AP=(t,e)=>{if(ld(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ai(t.common.issues);return this._error=n,this._error}}};function Tt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,c;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Lt{get description(){return this._def.description}_getType(e){return Wa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Wa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new is,ctx:{common:e.parent.common,data:e.data,parsedType:Wa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(rg(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wa(e)},i=this._parseSync({data:e,path:s.path,parent:s});return AP(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wa(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return ld(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>ld(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wa(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(rg(s)?s:Promise.resolve(s));return AP(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:Ve.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new No({schema:this,typeName:xt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ua.create(this,this._def)}nullable(){return zc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return go.create(this)}promise(){return Mf.create(this,this._def)}or(e){return ag.create([this,e],this._def)}and(e){return lg.create(this,e,this._def)}transform(e){return new No({...Tt(this._def),schema:this,typeName:xt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new fg({...Tt(this._def),innerType:this,defaultValue:n,typeName:xt.ZodDefault})}brand(){return new xN({typeName:xt.ZodBranded,type:this,...Tt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new pg({...Tt(this._def),innerType:this,catchValue:n,typeName:xt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return l0.create(this,e)}readonly(){return mg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wue=/^c[^\s-]{8,}$/i,xue=/^[0-9a-z]+$/,bue=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_ue=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Sue=/^[a-z0-9_-]{21}$/i,Nue=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kue=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Cue=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Aue="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let E5;const Tue=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Pue=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Eue=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jue=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Lue=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Rue=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,M7="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Mue=new RegExp(`^${M7}$`);function D7(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Due(t){return new RegExp(`^${D7(t)}$`)}function O7(t){let e=`${M7}T${D7(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Oue(t,e){return!!((e==="v4"||!e)&&Tue.test(t)||(e==="v6"||!e)&&Eue.test(t))}function Iue(t,e){if(!Nue.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function Fue(t,e){return!!((e==="v4"||!e)&&Pue.test(t)||(e==="v6"||!e)&&jue.test(t))}class ho extends Lt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Je.string){const i=this._getOrReturnCtx(e);return Ye(i,{code:Ve.invalid_type,expected:Je.string,received:i.parsedType}),bt}const r=new is;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Ye(s,{code:Ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Ye(s,{code:Ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Ye(s,{code:Ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Ye(s,{code:Ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Cue.test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"email",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")E5||(E5=new RegExp(Aue,"u")),E5.test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"emoji",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")_ue.test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"uuid",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Sue.test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"nanoid",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")wue.test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"cuid",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")xue.test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"cuid2",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")bue.test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"ulid",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ye(s,{validation:"url",code:Ve.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"regex",code:Ve.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Ye(s,{code:Ve.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ye(s,{code:Ve.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ye(s,{code:Ve.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?O7(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{code:Ve.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Mue.test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{code:Ve.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Due(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{code:Ve.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?kue.test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"duration",code:Ve.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Oue(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"ip",code:Ve.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Iue(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"jwt",code:Ve.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Fue(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"cidr",code:Ve.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Lue.test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"base64",code:Ve.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Rue.test(e.data)||(s=this._getOrReturnCtx(e,s),Ye(s,{validation:"base64url",code:Ve.invalid_string,message:i.message}),r.dirty()):zt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Ve.invalid_string,...at.errToObj(r)})}_addCheck(e){return new ho({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...at.errToObj(e)})}url(e){return this._addCheck({kind:"url",...at.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...at.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...at.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...at.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...at.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...at.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...at.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...at.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...at.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...at.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...at.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...at.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...at.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...at.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...at.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...at.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...at.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...at.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...at.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...at.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...at.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...at.errToObj(n)})}nonempty(e){return this.min(1,at.errToObj(e))}trim(){return new ho({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ho({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ho({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ho.create=t=>{var e;return new ho({checks:[],typeName:xt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Tt(t)})};function Vue(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Ic extends Lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Je.number){const i=this._getOrReturnCtx(e);return Ye(i,{code:Ve.invalid_type,expected:Je.number,received:i.parsedType}),bt}let r;const s=new is;for(const i of this._def.checks)i.kind==="int"?zt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ye(r,{code:Ve.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ye(r,{code:Ve.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ye(r,{code:Ve.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Vue(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Ye(r,{code:Ve.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ye(r,{code:Ve.not_finite,message:i.message}),s.dirty()):zt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,at.toString(n))}gt(e,n){return this.setLimit("min",e,!1,at.toString(n))}lte(e,n){return this.setLimit("max",e,!0,at.toString(n))}lt(e,n){return this.setLimit("max",e,!1,at.toString(n))}setLimit(e,n,r,s){return new Ic({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:at.toString(s)}]})}_addCheck(e){return new Ic({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:at.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:at.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:at.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:at.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:at.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:at.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:at.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:at.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:at.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&zt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ic.create=t=>new Ic({checks:[],typeName:xt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Tt(t)});class Fc extends Lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Je.bigint)return this._getInvalidInput(e);let r;const s=new is;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ye(r,{code:Ve.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ye(r,{code:Ve.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ye(r,{code:Ve.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):zt.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ye(n,{code:Ve.invalid_type,expected:Je.bigint,received:n.parsedType}),bt}gte(e,n){return this.setLimit("min",e,!0,at.toString(n))}gt(e,n){return this.setLimit("min",e,!1,at.toString(n))}lte(e,n){return this.setLimit("max",e,!0,at.toString(n))}lt(e,n){return this.setLimit("max",e,!1,at.toString(n))}setLimit(e,n,r,s){return new Fc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:at.toString(s)}]})}_addCheck(e){return new Fc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:at.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:at.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:at.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:at.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:at.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Fc.create=t=>{var e;return new Fc({checks:[],typeName:xt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Tt(t)})};class sg extends Lt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Je.boolean){const r=this._getOrReturnCtx(e);return Ye(r,{code:Ve.invalid_type,expected:Je.boolean,received:r.parsedType}),bt}return Ns(e.data)}}sg.create=t=>new sg({typeName:xt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Tt(t)});class cd extends Lt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Je.date){const i=this._getOrReturnCtx(e);return Ye(i,{code:Ve.invalid_type,expected:Je.date,received:i.parsedType}),bt}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ye(i,{code:Ve.invalid_date}),bt}const r=new is;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Ye(s,{code:Ve.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Ye(s,{code:Ve.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):zt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new cd({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:at.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:at.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}cd.create=t=>new cd({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:xt.ZodDate,...Tt(t)});class Fy extends Lt{_parse(e){if(this._getType(e)!==Je.symbol){const r=this._getOrReturnCtx(e);return Ye(r,{code:Ve.invalid_type,expected:Je.symbol,received:r.parsedType}),bt}return Ns(e.data)}}Fy.create=t=>new Fy({typeName:xt.ZodSymbol,...Tt(t)});class ig extends Lt{_parse(e){if(this._getType(e)!==Je.undefined){const r=this._getOrReturnCtx(e);return Ye(r,{code:Ve.invalid_type,expected:Je.undefined,received:r.parsedType}),bt}return Ns(e.data)}}ig.create=t=>new ig({typeName:xt.ZodUndefined,...Tt(t)});class og extends Lt{_parse(e){if(this._getType(e)!==Je.null){const r=this._getOrReturnCtx(e);return Ye(r,{code:Ve.invalid_type,expected:Je.null,received:r.parsedType}),bt}return Ns(e.data)}}og.create=t=>new og({typeName:xt.ZodNull,...Tt(t)});class Rf extends Lt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ns(e.data)}}Rf.create=t=>new Rf({typeName:xt.ZodAny,...Tt(t)});class Wu extends Lt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ns(e.data)}}Wu.create=t=>new Wu({typeName:xt.ZodUnknown,...Tt(t)});class hl extends Lt{_parse(e){const n=this._getOrReturnCtx(e);return Ye(n,{code:Ve.invalid_type,expected:Je.never,received:n.parsedType}),bt}}hl.create=t=>new hl({typeName:xt.ZodNever,...Tt(t)});class Vy extends Lt{_parse(e){if(this._getType(e)!==Je.undefined){const r=this._getOrReturnCtx(e);return Ye(r,{code:Ve.invalid_type,expected:Je.void,received:r.parsedType}),bt}return Ns(e.data)}}Vy.create=t=>new Vy({typeName:xt.ZodVoid,...Tt(t)});class go extends Lt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Je.array)return Ye(n,{code:Ve.invalid_type,expected:Je.array,received:n.parsedType}),bt;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Ye(n,{code:o?Ve.too_big:Ve.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ye(n,{code:Ve.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ye(n,{code:Ve.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new va(n,o,n.path,a)))).then(o=>is.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new va(n,o,n.path,a)));return is.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new go({...this._def,minLength:{value:e,message:at.toString(n)}})}max(e,n){return new go({...this._def,maxLength:{value:e,message:at.toString(n)}})}length(e,n){return new go({...this._def,exactLength:{value:e,message:at.toString(n)}})}nonempty(e){return this.min(1,e)}}go.create=(t,e)=>new go({type:t,minLength:null,maxLength:null,exactLength:null,typeName:xt.ZodArray,...Tt(e)});function uh(t){if(t instanceof En){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ua.create(uh(r))}return new En({...t._def,shape:()=>e})}else return t instanceof go?new go({...t._def,type:uh(t.element)}):t instanceof ua?ua.create(uh(t.unwrap())):t instanceof zc?zc.create(uh(t.unwrap())):t instanceof ya?ya.create(t.items.map(e=>uh(e))):t}class En extends Lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=zt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Je.object){const c=this._getOrReturnCtx(e);return Ye(c,{code:Ve.invalid_type,expected:Je.object,received:c.parsedType}),bt}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof hl&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new va(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof hl){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(Ye(s,{code:Ve.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new va(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,p=await u.value;c.push({key:d,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>is.mergeObjectSync(r,c)):is.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return at.errToObj,new En({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=at.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new En({...this._def,unknownKeys:"strip"})}passthrough(){return new En({...this._def,unknownKeys:"passthrough"})}extend(e){return new En({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new En({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:xt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new En({...this._def,catchall:e})}pick(e){const n={};return zt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new En({...this._def,shape:()=>n})}omit(e){const n={};return zt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new En({...this._def,shape:()=>n})}deepPartial(){return uh(this)}partial(e){const n={};return zt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new En({...this._def,shape:()=>n})}required(e){const n={};return zt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ua;)i=i._def.innerType;n[r]=i}}),new En({...this._def,shape:()=>n})}keyof(){return I7(zt.objectKeys(this.shape))}}En.create=(t,e)=>new En({shape:()=>t,unknownKeys:"strip",catchall:hl.create(),typeName:xt.ZodObject,...Tt(e)});En.strictCreate=(t,e)=>new En({shape:()=>t,unknownKeys:"strict",catchall:hl.create(),typeName:xt.ZodObject,...Tt(e)});En.lazycreate=(t,e)=>new En({shape:t,unknownKeys:"strip",catchall:hl.create(),typeName:xt.ZodObject,...Tt(e)});class ag extends Lt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new ai(a.ctx.common.issues));return Ye(n,{code:Ve.invalid_union,unionErrors:o}),bt}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new ai(l));return Ye(n,{code:Ve.invalid_union,unionErrors:a}),bt}}get options(){return this._def.options}}ag.create=(t,e)=>new ag({options:t,typeName:xt.ZodUnion,...Tt(e)});const za=t=>t instanceof ug?za(t.schema):t instanceof No?za(t.innerType()):t instanceof dg?[t.value]:t instanceof Vc?t.options:t instanceof hg?zt.objectValues(t.enum):t instanceof fg?za(t._def.innerType):t instanceof ig?[void 0]:t instanceof og?[null]:t instanceof ua?[void 0,...za(t.unwrap())]:t instanceof zc?[null,...za(t.unwrap())]:t instanceof xN||t instanceof mg?za(t.unwrap()):t instanceof pg?za(t._def.innerType):[];class _w extends Lt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.object)return Ye(n,{code:Ve.invalid_type,expected:Je.object,received:n.parsedType}),bt;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Ye(n,{code:Ve.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),bt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=za(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new _w({typeName:xt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Tt(r)})}}function eS(t,e){const n=Wa(t),r=Wa(e);if(t===e)return{valid:!0,data:t};if(n===Je.object&&r===Je.object){const s=zt.objectKeys(e),i=zt.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=eS(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Je.array&&r===Je.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=eS(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===Je.date&&r===Je.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class lg extends Lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Q_(i)||Q_(o))return bt;const a=eS(i.value,o.value);return a.valid?((J_(i)||J_(o))&&n.dirty(),{status:n.value,value:a.data}):(Ye(r,{code:Ve.invalid_intersection_types}),bt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}lg.create=(t,e,n)=>new lg({left:t,right:e,typeName:xt.ZodIntersection,...Tt(n)});class ya extends Lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.array)return Ye(r,{code:Ve.invalid_type,expected:Je.array,received:r.parsedType}),bt;if(r.data.length<this._def.items.length)return Ye(r,{code:Ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),bt;!this._def.rest&&r.data.length>this._def.items.length&&(Ye(r,{code:Ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new va(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>is.mergeArray(n,o)):is.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ya({...this._def,rest:e})}}ya.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ya({items:t,typeName:xt.ZodTuple,rest:null,...Tt(e)})};class cg extends Lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.object)return Ye(r,{code:Ve.invalid_type,expected:Je.object,received:r.parsedType}),bt;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new va(r,a,r.path,a)),value:o._parse(new va(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?is.mergeObjectAsync(n,s):is.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Lt?new cg({keyType:e,valueType:n,typeName:xt.ZodRecord,...Tt(r)}):new cg({keyType:ho.create(),valueType:e,typeName:xt.ZodRecord,...Tt(n)})}}class zy extends Lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.map)return Ye(r,{code:Ve.invalid_type,expected:Je.map,received:r.parsedType}),bt;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new va(r,a,r.path,[c,"key"])),value:i._parse(new va(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return bt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return bt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}zy.create=(t,e,n)=>new zy({valueType:e,keyType:t,typeName:xt.ZodMap,...Tt(n)});class ud extends Lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.set)return Ye(r,{code:Ve.invalid_type,expected:Je.set,received:r.parsedType}),bt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ye(r,{code:Ve.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ye(r,{code:Ve.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return bt;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new va(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new ud({...this._def,minSize:{value:e,message:at.toString(n)}})}max(e,n){return new ud({...this._def,maxSize:{value:e,message:at.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ud.create=(t,e)=>new ud({valueType:t,minSize:null,maxSize:null,typeName:xt.ZodSet,...Tt(e)});class Xh extends Lt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.function)return Ye(n,{code:Ve.invalid_type,expected:Je.function,received:n.parsedType}),bt;function r(a,l){return Oy({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Dy(),Lf].filter(c=>!!c),issueData:{code:Ve.invalid_arguments,argumentsError:l}})}function s(a,l){return Oy({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Dy(),Lf].filter(c=>!!c),issueData:{code:Ve.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Mf){const a=this;return Ns(async function(...l){const c=new ai([]),u=await a._def.args.parseAsync(l,i).catch(f=>{throw c.addIssue(r(l,f)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw c.addIssue(s(d,f)),c})})}else{const a=this;return Ns(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new ai([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new ai([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Xh({...this._def,args:ya.create(e).rest(Wu.create())})}returns(e){return new Xh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Xh({args:e||ya.create([]).rest(Wu.create()),returns:n||Wu.create(),typeName:xt.ZodFunction,...Tt(r)})}}class ug extends Lt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ug.create=(t,e)=>new ug({getter:t,typeName:xt.ZodLazy,...Tt(e)});class dg extends Lt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ye(n,{received:n.data,code:Ve.invalid_literal,expected:this._def.value}),bt}return{status:"valid",value:e.data}}get value(){return this._def.value}}dg.create=(t,e)=>new dg({value:t,typeName:xt.ZodLiteral,...Tt(e)});function I7(t,e){return new Vc({values:t,typeName:xt.ZodEnum,...Tt(e)})}class Vc extends Lt{constructor(){super(...arguments),rm.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ye(n,{expected:zt.joinValues(r),received:n.parsedType,code:Ve.invalid_type}),bt}if(Iy(this,rm)||R7(this,rm,new Set(this._def.values)),!Iy(this,rm).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ye(n,{received:n.data,code:Ve.invalid_enum_value,options:r}),bt}return Ns(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Vc.create(e,{...this._def,...n})}exclude(e,n=this._def){return Vc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}rm=new WeakMap;Vc.create=I7;class hg extends Lt{constructor(){super(...arguments),sm.set(this,void 0)}_parse(e){const n=zt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Je.string&&r.parsedType!==Je.number){const s=zt.objectValues(n);return Ye(r,{expected:zt.joinValues(s),received:r.parsedType,code:Ve.invalid_type}),bt}if(Iy(this,sm)||R7(this,sm,new Set(zt.getValidEnumValues(this._def.values))),!Iy(this,sm).has(e.data)){const s=zt.objectValues(n);return Ye(r,{received:r.data,code:Ve.invalid_enum_value,options:s}),bt}return Ns(e.data)}get enum(){return this._def.values}}sm=new WeakMap;hg.create=(t,e)=>new hg({values:t,typeName:xt.ZodNativeEnum,...Tt(e)});class Mf extends Lt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.promise&&n.common.async===!1)return Ye(n,{code:Ve.invalid_type,expected:Je.promise,received:n.parsedType}),bt;const r=n.parsedType===Je.promise?n.data:Promise.resolve(n.data);return Ns(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Mf.create=(t,e)=>new Mf({type:t,typeName:xt.ZodPromise,...Tt(e)});class No extends Lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Ye(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return bt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?bt:l.status==="dirty"||n.value==="dirty"?jh(l.value):l});{if(n.value==="aborted")return bt;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?bt:a.status==="dirty"||n.value==="dirty"?jh(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?bt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?bt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ld(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ld(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);zt.assertNever(s)}}No.create=(t,e,n)=>new No({schema:t,typeName:xt.ZodEffects,effect:e,...Tt(n)});No.createWithPreprocess=(t,e,n)=>new No({schema:e,effect:{type:"preprocess",transform:t},typeName:xt.ZodEffects,...Tt(n)});class ua extends Lt{_parse(e){return this._getType(e)===Je.undefined?Ns(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ua.create=(t,e)=>new ua({innerType:t,typeName:xt.ZodOptional,...Tt(e)});class zc extends Lt{_parse(e){return this._getType(e)===Je.null?Ns(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zc.create=(t,e)=>new zc({innerType:t,typeName:xt.ZodNullable,...Tt(e)});class fg extends Lt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Je.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}fg.create=(t,e)=>new fg({innerType:t,typeName:xt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Tt(e)});class pg extends Lt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return rg(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ai(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ai(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}pg.create=(t,e)=>new pg({innerType:t,typeName:xt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Tt(e)});class By extends Lt{_parse(e){if(this._getType(e)!==Je.nan){const r=this._getOrReturnCtx(e);return Ye(r,{code:Ve.invalid_type,expected:Je.nan,received:r.parsedType}),bt}return{status:"valid",value:e.data}}}By.create=t=>new By({typeName:xt.ZodNaN,...Tt(t)});const zue=Symbol("zod_brand");class xN extends Lt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class l0 extends Lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?bt:i.status==="dirty"?(n.dirty(),jh(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?bt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new l0({in:e,out:n,typeName:xt.ZodPipeline})}}class mg extends Lt{_parse(e){const n=this._def.innerType._parse(e),r=s=>(ld(s)&&(s.value=Object.freeze(s.value)),s);return rg(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}mg.create=(t,e)=>new mg({innerType:t,typeName:xt.ZodReadonly,...Tt(e)});function TP(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function F7(t,e={},n){return t?Rf.create().superRefine((r,s)=>{var i,o;const a=t(r);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){const d=TP(e,r),p=(u=(c=d.fatal)!==null&&c!==void 0?c:n)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...d,fatal:p})}});if(!a){const l=TP(e,r),c=(o=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:c})}}):Rf.create()}const Bue={object:En.lazycreate};var xt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(xt||(xt={}));const que=(t,e={message:`Input not instance of ${t.name}`})=>F7(n=>n instanceof t,e),V7=ho.create,z7=Ic.create,Uue=By.create,Wue=Fc.create,B7=sg.create,$ue=cd.create,Hue=Fy.create,Gue=ig.create,Yue=og.create,Kue=Rf.create,Zue=Wu.create,Xue=hl.create,Que=Vy.create,Jue=go.create,ede=En.create,tde=En.strictCreate,nde=ag.create,rde=_w.create,sde=lg.create,ide=ya.create,ode=cg.create,ade=zy.create,lde=ud.create,cde=Xh.create,ude=ug.create,dde=dg.create,hde=Vc.create,fde=hg.create,pde=Mf.create,PP=No.create,mde=ua.create,gde=zc.create,vde=No.createWithPreprocess,yde=l0.create,wde=()=>V7().optional(),xde=()=>z7().optional(),bde=()=>B7().optional(),_de={string:t=>ho.create({...t,coerce:!0}),number:t=>Ic.create({...t,coerce:!0}),boolean:t=>sg.create({...t,coerce:!0}),bigint:t=>Fc.create({...t,coerce:!0}),date:t=>cd.create({...t,coerce:!0})},Sde=bt;var to=Object.freeze({__proto__:null,defaultErrorMap:Lf,setErrorMap:vue,getErrorMap:Dy,makeIssue:Oy,EMPTY_PATH:yue,addIssueToContext:Ye,ParseStatus:is,INVALID:bt,DIRTY:jh,OK:Ns,isAborted:Q_,isDirty:J_,isValid:ld,isAsync:rg,get util(){return zt},get objectUtil(){return X_},ZodParsedType:Je,getParsedType:Wa,ZodType:Lt,datetimeRegex:O7,ZodString:ho,ZodNumber:Ic,ZodBigInt:Fc,ZodBoolean:sg,ZodDate:cd,ZodSymbol:Fy,ZodUndefined:ig,ZodNull:og,ZodAny:Rf,ZodUnknown:Wu,ZodNever:hl,ZodVoid:Vy,ZodArray:go,ZodObject:En,ZodUnion:ag,ZodDiscriminatedUnion:_w,ZodIntersection:lg,ZodTuple:ya,ZodRecord:cg,ZodMap:zy,ZodSet:ud,ZodFunction:Xh,ZodLazy:ug,ZodLiteral:dg,ZodEnum:Vc,ZodNativeEnum:hg,ZodPromise:Mf,ZodEffects:No,ZodTransformer:No,ZodOptional:ua,ZodNullable:zc,ZodDefault:fg,ZodCatch:pg,ZodNaN:By,BRAND:zue,ZodBranded:xN,ZodPipeline:l0,ZodReadonly:mg,custom:F7,Schema:Lt,ZodSchema:Lt,late:Bue,get ZodFirstPartyTypeKind(){return xt},coerce:_de,any:Kue,array:Jue,bigint:Wue,boolean:B7,date:$ue,discriminatedUnion:rde,effect:PP,enum:hde,function:cde,instanceof:que,intersection:sde,lazy:ude,literal:dde,map:ade,nan:Uue,nativeEnum:fde,never:Xue,null:Yue,nullable:gde,number:z7,object:ede,oboolean:bde,onumber:xde,optional:mde,ostring:wde,pipeline:yde,preprocess:vde,promise:pde,record:ode,set:lde,strictObject:tde,string:V7,symbol:Hue,transformer:PP,tuple:ide,undefined:Gue,union:nde,unknown:Zue,void:Que,NEVER:Sde,ZodIssueCode:Ve,quotelessJson:gue,ZodError:ai});const EP=(t,e,n)=>{if(t&&"reportValidity"in t){const r=He(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},q7=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?EP(r.ref,n,t):r.refs&&r.refs.forEach(s=>EP(s,n,t))}},Nde=(t,e)=>{e.shouldUseNativeValidation&&q7(t,e);const n={};for(const r in t){const s=He(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(kde(e.names||Object.keys(t),r)){const o=Object.assign({},He(n,r));Zt(o,"root",i),Zt(n,r,o)}else Zt(n,r,i)}return n},kde=(t,e)=>t.some(n=>n.startsWith(e+"."));var Cde=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=S7(o,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},Ade=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&q7({},i),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:Nde(Cde(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},bN="Avatar",[Tde,Ohe]=Br(bN),[Pde,U7]=Tde(bN),W7=N.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=N.useState("idle");return h.jsx(Pde,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:h.jsx(lt.span,{...r,ref:e})})});W7.displayName=bN;var $7="AvatarImage",H7=N.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=U7($7,n),a=Ede(r,i),l=bs(c=>{s(c),o.onImageLoadingStatusChange(c)});return fr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?h.jsx(lt.img,{...i,ref:e,src:r}):null});H7.displayName=$7;var G7="AvatarFallback",Y7=N.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=U7(G7,n),[o,a]=N.useState(r===void 0);return N.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?h.jsx(lt.span,{...s,ref:e}):null});Y7.displayName=G7;function jP(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ede(t,{referrerPolicy:e,crossOrigin:n}){const r=Lde(),s=N.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=N.useState(()=>jP(i,t));return fr(()=>{a(jP(i,t))},[i,t]),fr(()=>{const l=d=>()=>{a(d)};if(!i)return;const c=l("loaded"),u=l("error");return i.addEventListener("load",c),i.addEventListener("error",u),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",c),i.removeEventListener("error",u)}},[i,n,e]),o}function jde(){return()=>{}}function Lde(){return N.useSyncExternalStore(jde,()=>!0,()=>!1)}var K7=W7,Z7=H7,X7=Y7;const Q7=N.forwardRef(({className:t,...e},n)=>h.jsx(K7,{ref:n,className:rt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Q7.displayName=K7.displayName;const Rde=N.forwardRef(({className:t,...e},n)=>h.jsx(Z7,{ref:n,className:rt("aspect-square h-full w-full",t),...e}));Rde.displayName=Z7.displayName;const J7=N.forwardRef(({className:t,...e},n)=>h.jsx(X7,{ref:n,className:rt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));J7.displayName=X7.displayName;const LP=t=>qm(t,"PPP",{locale:Zv}),Mde=to.object({title:to.string().min(5,"Il titolo deve essere di almeno 5 caratteri").max(100),description:to.string().min(20,"La descrizione deve essere di almeno 20 caratteri"),theme:to.string().min(3,"Il tema deve essere di almeno 3 caratteri"),banner_image_url:to.string().optional(),start_date:to.string().refine(t=>!isNaN(Date.parse(t)),{message:"Data di inizio non valida"}),end_date:to.string().refine(t=>!isNaN(Date.parse(t)),{message:"Data di fine non valida"}),points_reward:to.number().int().min(5).max(100).default(10)});to.object({challenge_id:to.number(),dream_content:to.string().min(10,"Il contenuto del sogno deve essere di almeno 10 caratteri")});function Dde(){const{toast:t}=zr(),e=fue({resolver:Ade(Mde),defaultValues:{title:"",description:"",theme:"",banner_image_url:"",start_date:qm(new Date,"yyyy-MM-dd"),end_date:qm(new Date(Date.now()+7*24*60*60*1e3),"yyyy-MM-dd"),points_reward:10}}),n=mo({mutationFn:async s=>(await Ln("POST","/api/sfide",{...s,start_date:new Date(s.start_date).toISOString(),end_date:new Date(s.end_date).toISOString()})).json(),onSuccess:()=>{Ya.invalidateQueries({queryKey:["/api/sfide"]}),t({description:"Sfida creata con successo!"}),e.reset()},onError:s=>{t({variant:"destructive",title:"Errore",description:`Non  stato possibile creare la sfida: ${s.message}`})}});function r(s){n.mutate(s)}return h.jsxs(mw,{children:[h.jsx(sN,{asChild:!0,children:h.jsxs(it,{className:"gap-2",children:[h.jsx(tq,{size:16}),"Crea Nuova Sfida"]})}),h.jsxs(r0,{className:"sm:max-w-[560px]",children:[h.jsxs(s0,{children:[h.jsx(i0,{children:"Crea una nuova sfida di sogni"}),h.jsx(o0,{children:"Invita la community a sognare su un tema specifico e condividere le proprie esperienze oniriche."})]}),h.jsx(pue,{...e,children:h.jsxs("form",{onSubmit:e.handleSubmit(r),className:"space-y-4",children:[h.jsx(pu,{control:e.control,name:"title",render:({field:s})=>h.jsxs(ql,{children:[h.jsx(Ul,{children:"Titolo"}),h.jsx(Wl,{children:h.jsx(ys,{placeholder:"Inserisci un titolo accattivante",...s})}),h.jsx($l,{})]})}),h.jsx(pu,{control:e.control,name:"theme",render:({field:s})=>h.jsxs(ql,{children:[h.jsx(Ul,{children:"Tema"}),h.jsx(Wl,{children:h.jsx(ys,{placeholder:"Es. foresta incantata, viaggi nel tempo, etc.",...s})}),h.jsx($l,{})]})}),h.jsx(pu,{control:e.control,name:"description",render:({field:s})=>h.jsxs(ql,{children:[h.jsx(Ul,{children:"Descrizione"}),h.jsx(Wl,{children:h.jsx(Lg,{placeholder:"Descrivi la sfida e cosa devono fare i partecipanti...",rows:4,...s})}),h.jsx($l,{})]})}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx(pu,{control:e.control,name:"start_date",render:({field:s})=>h.jsxs(ql,{children:[h.jsx(Ul,{children:"Data inizio"}),h.jsx(Wl,{children:h.jsx(ys,{type:"date",...s})}),h.jsx($l,{})]})}),h.jsx(pu,{control:e.control,name:"end_date",render:({field:s})=>h.jsxs(ql,{children:[h.jsx(Ul,{children:"Data fine"}),h.jsx(Wl,{children:h.jsx(ys,{type:"date",...s})}),h.jsx($l,{})]})})]}),h.jsx(pu,{control:e.control,name:"banner_image_url",render:({field:s})=>h.jsxs(ql,{children:[h.jsx(Ul,{children:"Immagine banner (opzionale)"}),h.jsx(Wl,{children:h.jsx(ys,{placeholder:"URL dell'immagine banner",...s})}),h.jsx($l,{})]})}),h.jsx(pu,{control:e.control,name:"points_reward",render:({field:s})=>h.jsxs(ql,{children:[h.jsx(Ul,{children:"Punti premio"}),h.jsx(Wl,{children:h.jsx(ys,{type:"number",min:5,max:100,...s,onChange:i=>s.onChange(parseInt(i.target.value))})}),h.jsx($l,{})]})}),h.jsx(iN,{children:h.jsxs(it,{type:"submit",disabled:n.isPending,children:[n.isPending&&h.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}),"Crea Sfida"]})})]})})]})]})}function Ode({challenge:t,onParticipate:e}){const{toast:n}=zr();Uf({queryKey:["/api/sogni"],queryFn:async()=>(await Ln("GET","/api/sogni")).json()});const[r,s]=N.useState(""),[i,o]=N.useState(!1),[a,l]=N.useState(""),c=mo({mutationFn:async f=>(await Ln("POST","/api/sfide/genera-prompt",{theme:f})).json(),onSuccess:f=>{l(f.prompt),n({description:"Prompt generato con successo!"})},onError:f=>{n({variant:"destructive",title:"Errore",description:`Non  stato possibile generare il prompt: ${f.message}`})}}),u=()=>{o(!0),c.mutate(t.theme)},d=mo({mutationFn:async f=>(await Ln("POST","/api/sfide/partecipa",f)).json(),onSuccess:()=>{Ya.invalidateQueries({queryKey:["/api/sfide"]}),n({description:"Hai partecipato alla sfida con successo!"}),e()},onError:f=>{n({variant:"destructive",title:"Errore",description:`Non  stato possibile partecipare alla sfida: ${f.message}`})}}),p=()=>{if(r.length<10){n({variant:"destructive",description:"Il contenuto del sogno deve essere di almeno 10 caratteri"});return}d.mutate({challenge_id:t.id,dream_content:r})};return h.jsxs(mw,{children:[h.jsx(sN,{asChild:!0,children:h.jsxs(it,{variant:"outline",className:"gap-2",children:[h.jsx(Ff,{size:16}),"Partecipa"]})}),h.jsxs(r0,{className:"sm:max-w-[560px]",children:[h.jsxs(s0,{children:[h.jsxs(i0,{children:["Partecipa alla sfida: ",t.title]}),h.jsxs(o0,{children:["Tema: ",h.jsx("span",{className:"font-medium",children:t.theme})]})]}),h.jsxs("div",{className:"space-y-4",children:[!a&&h.jsxs("div",{className:"bg-secondary p-4 rounded-md",children:[h.jsx("p",{className:"text-sm",children:"Hai bisogno di ispirazione? Genera un prompt per aiutarti a sognare sul tema di questa sfida!"}),h.jsx(it,{variant:"outline",size:"sm",className:"mt-2",onClick:u,disabled:c.isPending,children:c.isPending?h.jsxs(h.Fragment,{children:[h.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}),"Generazione..."]}):"Genera prompt di ispirazione"})]}),a&&h.jsxs("div",{className:"bg-secondary p-4 rounded-md",children:[h.jsx("p",{className:"text-sm font-medium mb-2",children:"Prompt di ispirazione:"}),h.jsx("p",{className:"text-sm italic",children:a})]}),h.jsxs("div",{children:[h.jsx(Lg,{placeholder:"Descrivi il tuo sogno correlato a questa sfida...",rows:6,value:r,onChange:f=>s(f.target.value),className:"w-full"}),r.length<10&&r.length>0&&h.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Il contenuto del sogno deve essere di almeno 10 caratteri"})]})]}),h.jsx(iN,{children:h.jsxs(it,{onClick:p,disabled:d.isPending||r.length<10,children:[d.isPending&&h.jsx(da,{className:"mr-2 h-4 w-4 animate-spin"}),"Invia Partecipazione"]})})]})]})}function j5({challenge:t}){var d,p,f,y;const{user:e}=$c(),n=new Date(t.start_date),r=new Date(t.end_date),s=new Date,i=s>=n&&s<=r,o=s<n,a=(d=t.participations)==null?void 0:d.some(g=>g.user_id===(e==null?void 0:e.id)),[l,c]=N.useState(!1),u=()=>{c(!0)};return h.jsxs(hr,{className:"overflow-hidden",children:[t.banner_image_url?h.jsx("div",{className:"h-40 bg-cover bg-center",style:{backgroundImage:`url(${t.banner_image_url})`}}):h.jsx("div",{className:"h-40 bg-gradient-to-r from-purple-400 to-indigo-500 flex items-center justify-center",children:h.jsx(s4,{className:"h-12 w-12 text-white"})}),h.jsx(Tr,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(Pr,{children:t.title}),h.jsxs(ko,{children:["Tema: ",t.theme]})]}),h.jsx(Ti,{variant:i?"default":o?"outline":"secondary",children:i?"Attiva":o?"Futura":"Conclusa"})]})}),h.jsxs(xr,{className:"space-y-4",children:[h.jsx("p",{className:"text-sm",children:t.description}),h.jsxs("div",{className:"flex gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-muted-foreground",children:"Inizio"}),h.jsx("p",{children:LP(n)})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-muted-foreground",children:"Fine"}),h.jsx("p",{children:LP(r)})]})]}),h.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[h.jsxs(Ti,{variant:"outline",className:"rounded-full px-2 py-0",children:[t.participant_count||0," partecipanti"]}),h.jsxs(Ti,{variant:"outline",className:"rounded-full px-2 py-0",children:[t.points_reward," punti premio"]})]})]}),h.jsxs(xo,{className:"flex justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Q7,{className:"h-6 w-6",children:h.jsx(J7,{children:((f=(p=t.creator)==null?void 0:p.username)==null?void 0:f[0])||"U"})}),h.jsx("span",{className:"text-xs text-muted-foreground",children:((y=t.creator)==null?void 0:y.username)||"Utente"})]}),i&&!a&&!l&&h.jsx(Ode,{challenge:t,onParticipate:u}),i&&(a||l)&&h.jsxs(Ti,{variant:"outline",className:"gap-1",children:[h.jsx(xf,{size:14})," Hai partecipato"]})]})]})}function Ide(){const{user:t,logoutMutation:e}=$c();zr();const{data:n=[],isLoading:r,refetch:s}=Uf({queryKey:["/api/sfide"],queryFn:async()=>(await Ln("GET","/api/sfide")).json()}),i=n.filter(c=>{const u=new Date,d=new Date(c.start_date),p=new Date(c.end_date);return u>=d&&u<=p}),o=n.filter(c=>{const u=new Date,d=new Date(c.start_date);return u<d}),a=n.filter(c=>{const u=new Date,d=new Date(c.end_date);return u>d}),l=()=>{e.mutate()};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-indigo-900 to-purple-900 dark:from-indigo-900 dark:to-purple-900 light:from-blue-100 light:to-purple-100 p-4 md:p-6 transition-colors duration-500",children:[h.jsx(f7,{isVisible:r}),h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 md:mb-8",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(s4,{className:"h-6 w-6 md:h-8 md:w-8 mr-2 dark:text-yellow-200 light:text-indigo-600"}),h.jsx("h1",{className:"text-2xl md:text-3xl font-bold dark:text-white light:text-gray-800",children:"Sfide dei Sogni"}),h.jsx("span",{className:"hidden sm:inline-block ml-2 px-2 py-1 rounded text-xs dark:bg-purple-700 dark:text-purple-200 light:bg-indigo-100 light:text-indigo-600",children:"Community"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[t&&h.jsxs("div",{className:"flex items-center mr-2",children:[h.jsxs("span",{className:"text-sm dark:text-purple-200 light:text-indigo-700",children:["Ciao, ",t.username]}),h.jsxs(it,{variant:"ghost",className:"ml-2 dark:text-purple-200 light:text-indigo-700",onClick:()=>window.location.href="/",children:[h.jsx(GB,{className:"h-4 w-4 mr-1"}),h.jsx("span",{className:"hidden sm:inline",children:"Home"})]}),h.jsx(it,{variant:"ghost",size:"icon",className:"ml-2 text-red-500 hover:text-red-700",onClick:l,"aria-label":"Logout",children:h.jsx(Yj,{className:"h-4 w-4"})})]}),h.jsx(m7,{})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold mb-1 dark:text-white light:text-gray-800",children:"Esplora e partecipa alle sfide di sogni"}),h.jsx("p",{className:"text-sm dark:text-purple-200 light:text-indigo-700",children:"Scegli una sfida, lasciati ispirare e condividi i tuoi sogni con la community"})]}),h.jsx(Dde,{})]}),h.jsxs(Xg,{defaultValue:"active",className:"mb-6",children:[h.jsxs(Jf,{className:"mb-4",children:[h.jsxs(Ri,{value:"active",className:"gap-2",children:[h.jsx(Ff,{size:14}),"Attive (",i.length,")"]}),h.jsxs(Ri,{value:"future",className:"gap-2",children:[h.jsx(Eb,{size:14}),"Future (",o.length,")"]}),h.jsxs(Ri,{value:"past",className:"gap-2",children:[h.jsx(HB,{size:14}),"Concluse (",a.length,")"]})]}),h.jsx(Mi,{value:"active",children:i.length===0?h.jsxs("div",{className:"text-center p-8 bg-secondary rounded-lg",children:[h.jsx("p",{className:"text-lg mb-2",children:"Nessuna sfida attiva al momento"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Crea la prima sfida o torna pi tardi per vedere le nuove sfide!"})]}):h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i.map(c=>h.jsx(j5,{challenge:c},c.id))})}),h.jsx(Mi,{value:"future",children:o.length===0?h.jsxs("div",{className:"text-center p-8 bg-secondary rounded-lg",children:[h.jsx("p",{className:"text-lg mb-2",children:"Nessuna sfida futura in programma"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Crea una nuova sfida per il futuro!"})]}):h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:o.map(c=>h.jsx(j5,{challenge:c},c.id))})}),h.jsx(Mi,{value:"past",children:a.length===0?h.jsxs("div",{className:"text-center p-8 bg-secondary rounded-lg",children:[h.jsx("p",{className:"text-lg mb-2",children:"Nessuna sfida conclusa"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Le sfide completate appariranno qui!"})]}):h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:a.map(c=>h.jsx(j5,{challenge:c},c.id))})})]})]})]})}function Fde(){return h.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:h.jsx(hr,{className:"w-full max-w-md mx-4",children:h.jsxs(xr,{className:"pt-6",children:[h.jsxs("div",{className:"flex mb-4 gap-2",children:[h.jsx(BB,{className:"h-8 w-8 text-red-500"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),h.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}class Vde extends N.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by ErrorBoundary:",e,n)}render(){return this.state.hasError?this.props.fallback:this.props.children}}function zde(){const{isLoading:t}=$c();return t?h.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[h.jsx(da,{className:"h-8 w-8 animate-spin text-primary"}),h.jsx("span",{className:"ml-2 text-lg",children:"Caricamento..."})]}):h.jsx(Vde,{fallback:h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-900 text-white",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Ops! Si  verificato un errore"}),h.jsx("p",{className:"mb-4 text-center",children:"L'applicazione ha riscontrato un problema imprevisto."}),h.jsx("button",{className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-md",onClick:()=>window.location.href="/",children:"Torna alla home"})]}),children:h.jsxs(Fz,{children:[h.jsx(zv,{path:"/auth",component:Hce}),h.jsx(zC,{path:"/",component:Uce}),h.jsx(zC,{path:"/sfide",component:Ide}),h.jsx(zv,{component:Fde})]})})}function Bde(){return h.jsxs(Vu,{children:[h.jsx(zde,{}),h.jsx(o8,{})]})}nj(document.getElementById("root")).render(h.jsx(Ice,{attribute:"class",defaultTheme:"dark",children:h.jsx(FW,{client:Ya,children:h.jsxs(ZW,{children:[h.jsx(Bde,{}),h.jsx(o8,{})]})})}));export{rn as _,Ude as c,qy as g};
